parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ibrd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InstanceState=exports.State=void 0,exports.State={opc:50,ops:0,inventory:{ores:0,refined:0},generation:{lv:1,lvOnRefine:1,xp:0,maxXp:10},ore:{hp:50,maxHp:50,spriteType:5,spriteHp:1},stats:{weakSpotMultiplier:5,oreClicks:0,weakSpotClicks:0,currentCombo:0,highestCombo:0,rocksDestroyed:0},smith:{inProgress:!1,currentProgress:null,currentUpgrade:null,power:5,maxPower:5},settings:{tick:60,oreHpType:"percentage"},buildings:{},upgrades:{},achievements:{},textScrollerMessages:["What is a rocks favorite fruit? ... Pom-a-granite","Did you see that cleavage? Now that's some gneiss schist.","All rock and no clay makes you a dull boy (or girl)","Don't take life for granite","What happens when you throw a blue rock in the red sea? ... It gets wet","As you can tell, these are pretty lame... Submit your own to /u/name_is_Syn","Rocks really rock!","I can't believe I'm googling rock puns right now","There are a few gems amongst all these terrible rock puns","These puns sure are all ore nothing","Rock pun here"]},exports.InstanceState={selectedTab:"store",buyAmount:1,oreParticles:{},tabs:[],toasts:[],smithUpgrades:[],textScroller:{isInProgress:!0,backlog:[]}};
},{}],"owfE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UpdatesState=void 0,exports.UpdatesState={updateOPS:!0,updateOres:!0,updateOreHp:!0,updateOreSprite:!0,updateGenerationLv:!0,updateGenerationLvOnRefine:!0,updateGenerationXp:!0,updateTabs:!0,updateTabContent:!0};
},{}],"GUxD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isElEmpty=exports.sortObj=exports.isObjEmpty=exports.getRandomFromArr=exports.getRandomColor=exports.findCodeNameInArr=exports.getGeometricSequencePrice=exports.beautifyNumber=exports.createEl=exports.updateEl=exports.getCodeName=exports.getRandomNum=exports.removeEl=exports.formatNumber=exports.getPercentage=exports.select=void 0;var e=require("./State");exports.select=function(e){return document.querySelector(""+e)},exports.getPercentage=function(e,t){return e/t*100},exports.formatNumber=function(e){return Math.ceil(e)},exports.removeEl=function(e){e.parentNode&&e.parentNode.removeChild(e)},exports.getRandomNum=function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=1),void 0===i&&(i=0),void 0===n&&(n=!0);var o=Math.pow(10,Math.max(i,0)),r=t*o,l=e*o,a=n?1:0;return(Math.floor(Math.random()*(r-l+a))+l)/o},exports.getCodeName=function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,"").replace(/\./g,"")},exports.updateEl=function(e,t){e.innerHTML="",e.append(t)},exports.createEl=function(e,t,i){void 0===t&&(t=[]),void 0===i&&(i="");var n=document.createElement(e);return t.forEach(function(e){return n.classList.add(e)}),n.innerHTML=i+"",n},exports.beautifyNumber=function(e){if(!e)return 0;if(e<=10)return Math.round(e)===e?e:e.toFixed(1);var t=Math.log10(e)/3|0;if(0===t)return Math.round(e);var i=["","Thousand","Million","Billion","Trillion","Quadrillion","Quintillion","Sextillion","Septillion","Octillion","Nonillion","Decillion","Undecillion","Dodecillion","Tredecillion","Quattuordecillion","Quindecillion","Sexdecillion","Septendecillion","Octodecillion","Novemdecillion","Vigintillion","Unvigintillion","Dovigintillion","Trevigintillion","Quattuorvigintillion","Quinvigintillion","Sexvigintillion","Septenvigintillion","Octovigintillion","Novemvigintillion","Trigintillion","Untrigintillion","Dotrigintillion","Tretrigintillion","Quattuortrigintillion","Quintrigintillion","Sextrigintillion","Septentrigintillion","Octotrigintillion","Novemtrigintillion","F*ckloadillion","F*cktonillion"][t],n=Math.pow(10,3*t);return parseFloat((e/n).toFixed(2))+" "+i},exports.getGeometricSequencePrice=function(t){if("max"!==e.InstanceState.buyAmount){var i=t.basePrice*(1-Math.pow(t.priceScale,t.owned))/(1-t.priceScale);return t.basePrice*(1-Math.pow(t.priceScale,e.InstanceState.buyAmount+t.owned))/(1-t.priceScale)-i}},exports.findCodeNameInArr=function(e,t){return t.find(function(t){return t.codeName===e})},exports.getRandomColor=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},exports.getRandomFromArr=function(e){return e[Math.floor(Math.random()*e.length)]},exports.isObjEmpty=function(e){return 0===Object.keys(e).length},exports.sortObj=function(e,t){return Object.entries(e).sort(function(e,i){return e[1][t]-i[1][t]})},exports.isElEmpty=function(e){return e.innerHTML.length<=0};
},{"./State":"ibrd"}],"FCax":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tooltipWrapperEl=exports.tabsContentWrapperEl=exports.tabsWrapperEl=exports.particlesCanvasContext=exports.particlesCanvasEl=exports.comboSignNumberEl=exports.comboSignEl=exports.topbarInventoryGenerationXpBarEl=exports.topbarInventoryGenerationLvOnRefine=exports.topbarInventoryGenerationLv=exports.topbarInventoryOresEl=exports.topbarInventoryEl=exports.oreHpEl=exports.oreSpriteEl=exports.oreSpriteContainerEl=exports.toastsContainerRightEl=exports.toastsContainerLeftEl=exports.toastsContainerEl=exports.textScrollerTextEl=exports.textScrollerContainerEl=exports.torchRight=exports.torchLeft=exports.gameContainerRight=exports.pageContainer=void 0;var e=require("./utils");exports.pageContainer=e.select(".page-container"),exports.gameContainerRight=e.select(".game-container-right"),exports.torchLeft=e.select(".torch-left"),exports.torchRight=e.select(".torch-right"),exports.textScrollerContainerEl=e.select(".text-scroller-container"),exports.textScrollerTextEl=e.select(".text-scroller-container p"),exports.toastsContainerEl=e.select(".toasts-container"),exports.toastsContainerLeftEl=e.select(".toasts-container .left"),exports.toastsContainerRightEl=e.select(".toasts-container .right"),exports.oreSpriteContainerEl=e.select(".ore-sprite-container"),exports.oreSpriteEl=e.select(".ore-sprite"),exports.oreHpEl=e.select(".ore-hp"),exports.topbarInventoryEl=e.select(".topbar-inventory"),exports.topbarInventoryOresEl=e.select(".topbar-inventory-ores > .amount"),exports.topbarInventoryGenerationLv=e.select(".topbar-inventory-generation > .level"),exports.topbarInventoryGenerationLvOnRefine=e.select(".topbar-inventory-generation > .level-on-refine"),exports.topbarInventoryGenerationXpBarEl=e.select(".topbar-inventory-generation-xp .bar"),exports.comboSignEl=e.select(".combo-sign"),exports.comboSignNumberEl=e.select(".combo-sign span"),exports.particlesCanvasEl=e.select("#particles"),exports.particlesCanvasContext=exports.particlesCanvasEl.getContext("2d"),exports.tabsWrapperEl=e.select(".tabs-wrapper"),exports.tabsContentWrapperEl=e.select(".tabs-content-wrapper"),exports.tooltipWrapperEl=e.select(".tooltip-wrapper");
},{"./utils":"GUxD"}],"vI8V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateOreParticles=void 0;var t=require("./utils"),e=require("./constants"),i=require("./State"),s=0,a={gravity:.5,maxLife:100};exports.generateOreParticles=function(t,e){void 0===e&&(e=4);for(var i=0;i<e;i++)new r(t)};var r=function(a){if(a)this.x=a.clientX,this.y=a.clientY;else{var r=e.oreSpriteEl.getBoundingClientRect();this.x=t.getRandomNum(r.left,r.right),this.y=r.top}this.vx=t.getRandomNum(-2,2,5),this.vy=t.getRandomNum(-2,-1,5),this.size=t.getRandomNum(.5,2.5,3),s+=1,i.InstanceState.oreParticles[s]=this,this.id=s,this.life=0,this.opacity=1};r.prototype.draw=function(){this.x+=this.vx,this.y+=this.vy,this.vy+=a.gravity*Math.random(),this.life+=1,this.opacity-=.02,(this.life>a.maxLife||this.y>=window.innerHeight)&&delete i.InstanceState.oreParticles[this.id];t.getRandomNum(150,200);e.particlesCanvasContext.beginPath(),e.particlesCanvasContext.fillStyle="rgba( 255, 255, 255, "+this.opacity+" )",e.particlesCanvasContext.arc(this.x,this.y,this.size,0,2*Math.PI,!0),e.particlesCanvasContext.closePath(),e.particlesCanvasContext.fill()};
},{"./utils":"GUxD","./constants":"FCax","./State":"ibrd"}],"UmE0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateRisingText=void 0;var e=require("./utils"),t=require("./constants");exports.generateRisingText=function(n,i,o){var s=document.createElement("div");switch(s.style.position="absolute",s.style.pointerEvents="none",s.style.color="white",s.style.fontSize="24px",s.style.fontFamily="Germania One",s.style.zIndex="2",s.style.textShadow="0 0 1px rgba(0, 0, 0, 0.5)",s.style.animation="flyingNumber 2s forwards ease-out",i){case"buy":s.style.color="crimson",s.style.fontSize="30px",s.innerHTML="-$";break;case"weakSpot":s.style.fontSize="28px",s.style.animationDuration="2.5s",s.innerHTML="+"+o;break;case"combo":s.innerHTML=o+" hit combo",s.style.color=e.getRandomColor(),s.style.fontSize="35px",s.style.animationDuration="3s";break;case"buildingOps":var r=t.oreSpriteEl.getBoundingClientRect();s.style.animation="buildingFlyingNumber 1.2s ease-out",s.style.left=(r.left+r.right)/2+"px",s.style.top=(r.top+r.bottom)/2+"px",s.innerHTML="+"+o;break;default:s.innerHTML="+"+o}n&&(s.style.left=n.clientX+e.getRandomNum(-20,20)+"px",s.style.top=n.clientY+e.getRandomNum(-5,5)+"px"),t.pageContainer.append(s),s.addEventListener("animationend",function(){return e.removeEl(s)})};
},{"./utils":"GUxD","./constants":"FCax"}],"PZUX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instantiateTabs=void 0;var e=require("./utils"),t=require("./State"),a=function(t){this.name=t.name,this.codeName=e.getCodeName(t.name),this.isLocked=t.isLocked},s=[{name:"store",isLocked:!1},{name:"smith",isLocked:!0}];exports.instantiateTabs=function(e){void 0===e&&(e=JSON.parse(localStorage.getItem("tabs"))||s);var i=[];e.forEach(function(e){i.push(new a(e))}),t.InstanceState.tabs=i};
},{"./utils":"GUxD","./State":"ibrd"}],"JjQV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.showTooltip=exports.hideTooltip=void 0;var i=require("./constants"),e=require("./utils"),t=require("./State");exports.hideTooltip=function(){i.tooltipWrapperEl.innerHTML="",i.tooltipWrapperEl.classList.remove("visible")},exports.showTooltip=function(n,o){i.tooltipWrapperEl.classList.add("visible");var p="";switch(o.type){case"building":var r=e.getGeometricSequencePrice(o.building);p+="\n                <div class='tooltip-container tooltip-building tooltip-building-"+o.building.codeName+"'>\n                    <div class='tooltip-top'>\n                        <img src='./images/building-"+o.building.codeName+".png'/>\n                        <div class='tooltip-target-name-container'>\n                            <p>"+o.building.name+"</p>\n                            <small>[ "+o.building.name+" Production Multiplier: <strong>"+o.building.productionMultiplier+"x</strong> ]</small>\n                        </div>\n                        <p class='price' style='"+(t.State.inventory.ores<r?"color: crimson":"")+"'>\n                            <img src='./images/ore.png'/>\n                            "+e.beautifyNumber(r)+"\n                        </p>\n                    </div>\n                    <div class='tooltip-middle'>\n                        <p>"+o.building.desc+"</p>\n                        <div class='stats'>\n                            <p>Each "+o.building.name+" generates <strong>"+o.building.baseProduction*o.building.productionMultiplier+"</strong> ores per second.</p>",o.building.owned>0&&(p+="\n                    <p><strong>"+o.building.owned+" </strong>"+(o.building.owned>1?o.building.namePlural+" are":o.building.name+" is")+" generating <strong>"+o.building.owned*(o.building.baseProduction*o.building.productionMultiplier)+"</strong> ore per second.</p>\n                    <p class='building-percentage'>"+o.building.name+"s are currently generating <strong>"+e.beautifyNumber(e.getPercentage(o.building.owned*(o.building.baseProduction*o.building.productionMultiplier),t.State.ops))+"%</strong> of your total OpS</p>\n                    "),p+="\n                        </div>\n                    </div>\n                    <div class='tooltip-bottom'>\n                        <p>"+o.building.flavorText+"</p>\n                    </div>\n                </div>\n            ";break;case"upgrade":p+="\n                <div class='tooltip-container tooltip-upgrade tooltip-upgrade-"+o.upgrade.codeName+"'>\n                    <div class='tooltip-top'>\n                        <img src='./images/upgrade-"+o.upgrade.codeName+".png'/>\n                        <p>"+o.upgrade.name+"</p>\n                        <p class='price' style='"+(t.State.inventory.ores<o.upgrade.price?"color: crimson":"")+"'>\n                            <img src='./images/ore.png'/>\n                            "+e.beautifyNumber(o.upgrade.price)+"\n                        </p>\n                    </div>\n                    <div class='tooltip-middle'>\n                        <p>"+o.upgrade.desc+"</p>\n                    </div>\n                    <div class='tooltip-bottom'>\n                        <p>"+o.upgrade.flavorText+"</p>\n                    </div>\n                </div>\n            ";break;case"smithUpgrade":var l=o.smithUpgrade;p+="\n                <div class='tooltip-container tooltip-smithUpgrade tooltip-smithUpgrade-"+l.codeName+"'>\n                    <div class='tooltip-top'>\n                        <img src='./images/smithUpgrade-"+l.codeName+".png'/>\n                        <p>"+l.name+"</p>\n                    </div>\n                    <div class='tooltip-middle'>\n                        <p>"+l.desc+"</p>\n                        <div class='cost'>\n                            <p>Requires:</p>\n                            <p>Refined Ores: "+l.cost+"</p>\n                            <p>Power Needed: "+e.beautifyNumber(l.powerNeeded)+"</p>\n                        </div>\n                    </div>\n                    ",l.flavorText&&(p+="\n                    <div class='tooltip-bottom'>\n                        <p>"+l.flavorText+"</p>\n                    </div>"),p+="\n                </div>\n            ";break;default:console.log("no tooltip yet for this type:",o.type)}i.tooltipWrapperEl.innerHTML=p,o.type;i.tooltipWrapperEl.style.width="350px",i.tooltipWrapperEl.style.top=n.clientY-i.tooltipWrapperEl.getBoundingClientRect().height/2+"px",i.tooltipWrapperEl.style.left=i.gameContainerRight.getBoundingClientRect().left-350-20+"px"};
},{"./constants":"FCax","./utils":"GUxD","./State":"ibrd"}],"xBG6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instantiateBuildings=void 0;var e=require("./utils"),a=require("./index"),n=require("./State"),i=require("./Updates"),o=require("./Tooltip"),d=require("./RisingText"),t=0,s=function(s){var u=this;this.id=t,this.name=s.name,this.codeName=e.getCodeName(s.name),this.namePlural=s.namePlural,this.desc=s.desc,this.flavorText=s.flavorText,this.currentPrice=s.currentPrice||s.basePrice,this.basePrice=s.basePrice,this.priceScale=s.priceScale,this.baseProduction=s.baseProduction,this.productionMultiplier=s.productionMultiplier||1,this.isLocked=s.isLocked,this.isHidden=s.isHidden,this.owned=s.owned||0,this.onBuy=s.onBuy||null,t+=1,this.buy=function(t){a.spend(e.getGeometricSequencePrice(u))&&(u.owned+=n.InstanceState.buyAmount,u.currentPrice=u.basePrice*Math.pow(u.priceScale,u.owned),a.updateOPS(),i.UpdatesState.updateOres=!0,i.UpdatesState.updateTabContent=!0,r(u.id),u.onBuy&&u.onBuy.unlockUpgrade&&u.onBuy.unlockUpgrade.forEach(function(e){u.owned>=e.amountNeeded&&(n.State.upgrades[e.name].isLocked=!1,i.UpdatesState.updateTabContent=!0,console.log("UPGRADES",n.State.upgrades))}),d.generateRisingText(t,"buy"),o.showTooltip(t,{type:"building",building:u}))},this.mousemove=function(e){return o.showTooltip(e,{type:"building",building:u})}},r=function(a){var i=e.sortObj(n.State.buildings,t),o=i[a+1][1],d=i[a+3][1];o&&(o.isLocked=!1),d&&(d.isHidden=!1)},u=[{name:"School",namePlural:"Schools",desc:"Teach students about the wonders of ore.",flavorText:"Jesus christ Marie, they're minerals!",baseProduction:.5,basePrice:12,priceScale:1.12,isLocked:!1,isHidden:!1,onBuy:{unlockUpgrade:[{name:"Composition Notebooks",amountNeeded:1},{name:"No. 2 Pencil",amountNeeded:5},{name:"3 Ring Binder",amountNeeded:10},{name:"Looseleaf",amountNeeded:20},{name:"Schoolbag",amountNeeded:50},{name:"Fresh Pink Eraser",amountNeeded:100},{name:"Gum",amountNeeded:200},{name:"Report Card",amountNeeded:400}]}},{name:"Farm",namePlural:"Farms",desc:"Cultivate the lands for higher quality ores.",flavorText:"This totally makes sense...",baseProduction:2,basePrice:240,priceScale:1.15,isLocked:!0,isHidden:!1,onBuy:{unlockUpgrade:[{name:"Manure Spreader",amountNeeded:1},{name:"Pitchfork",amountNeeded:5},{name:"Tractor",amountNeeded:10},{name:"Rotary Cutter",amountNeeded:20},{name:"Hoe",amountNeeded:50},{name:"Baler",amountNeeded:100},{name:"Sickle",amountNeeded:200},{name:"Scythe",amountNeeded:400}]}},{name:"Quarry",namePlural:"Quarries",desc:"Designated mining area.",flavorText:"Diggy diggy hole.",baseProduction:20,basePrice:2520,priceScale:1.15,isLocked:!0,isHidden:!1,onBuy:{unlockUpgrade:[{name:"Floodlights",amountNeeded:1},{name:"Twill Rope",amountNeeded:5},{name:"Wooden Compass",amountNeeded:10},{name:"Ore Filter",amountNeeded:20},{name:"Waterproof Tape",amountNeeded:50},{name:"Metallic Compass",amountNeeded:100},{name:"Miners Mask",amountNeeded:200},{name:"Cape Chisel",amountNeeded:400}]}},{name:"Church",namePlural:"Churches",desc:"Praise to ye Old Ore Gods.",flavorText:"In ore name we pray, amen.",baseProduction:320,basePrice:37800,priceScale:1.15,isLocked:!0,isHidden:!0,onBuy:{unlockUpgrade:[{name:"Scripture Reading",amountNeeded:1},{name:"Communion",amountNeeded:5},{name:"Worship Session",amountNeeded:10},{name:"7th Day",amountNeeded:20},{name:"Eden Apple",amountNeeded:50},{name:"Apocalypse",amountNeeded:100},{name:"Judgement Day",amountNeeded:200},{name:"Rapture",amountNeeded:400}]}},{name:"Factory",namePlural:"Factories",desc:"Manufacture your ores.",flavorText:"Assembly line this SH%* up!",baseProduction:4480,basePrice:49e4,priceScale:1.15,isLocked:!0,isHidden:!0,onBuy:{unlockUpgrade:[{name:"Rubber Conveyor Belt",amountNeeded:1},{name:"Floppy Squiggle Tubes",amountNeeded:5},{name:"Clicky Squish Buttons",amountNeeded:10},{name:"Metallic Magnetic Panels",amountNeeded:20},{name:"Hydroponic Auxilleration",amountNeeded:50}]}},{name:"Crypt",namePlural:"Crypts",desc:"Raise dead ores from the graves.",flavorText:"Spooky dooky ores.",baseProduction:67200,basePrice:79e5,priceScale:1.15,isLocked:!0,isHidden:!0},{name:"Hospital",namePlural:"Hospitals",desc:"Heal the poor ol damaged ores.",flavorText:"An apple a day keeps the ore cancer away.",baseProduction:135e4,basePrice:1966e5,priceScale:1.15,isLocked:!0,isHidden:!0},{name:"Citadel",namePlural:"Citadels",desc:"wip",flavorText:"wip",baseProduction:148e5,basePrice:28e8,priceScale:1.15,isLocked:!0,isHidden:!0},{name:"Xeno Spaceship",namePlural:"Xeno Spaceships",desc:"wip",flavorText:"wip",baseProduction:1922e5,basePrice:495e8,priceScale:1.15,isLocked:!0,isHidden:!0},{name:"Sky Castle",namePlural:"Sky Castles",desc:"Use magic beans to reach an egg based source of ores.",flavorText:"wip",baseProduction:38e8,basePrice:124e10,priceScale:1.15,isLocked:!0,isHidden:!0},{name:"Eon Portal",namePlural:"Eon Portals",desc:"Steal ore from your past and future self.",flavorText:"wip",baseProduction:4515e7,basePrice:1858e10,priceScale:1.15,isLocked:!0,isHidden:!0},{name:"Sacred Mine",namePlural:"Sacred Mines",desc:"wip",flavorText:"wip",baseProduction:6919e8,basePrice:2972e11,priceScale:1.15,isLocked:!0,isHidden:!0},{name:"O.A.R.D.I.S.",namePlural:"O.A.R.D.I.S.",desc:"wip",flavorText:"wip",baseProduction:173e11,basePrice:8915e12,priceScale:1.15,isLocked:!0,isHidden:!0},{name:"Final Destination",namePlural:"Final Destinations",desc:"The Final Destination.",flavorText:"Thank you so much for playing <3.",baseProduction:1e18,basePrice:1e33,priceScale:1.15,isLocked:!0,isHidden:!0}];exports.instantiateBuildings=function(){var a=JSON.parse(localStorage.getItem("state")),i={};if(a){if(!e.isObjEmpty(a.buildings))for(var o in a.buildings)i[o]=new s(a.buildings[o])}else u.forEach(function(e){i[e.name]=new s(e)});n.State.buildings=i,console.log("buildings",n.State.buildings)};
},{"./utils":"GUxD","./index":"KqmS","./State":"ibrd","./Updates":"owfE","./Tooltip":"JjQV","./RisingText":"UmE0"}],"ViP4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instantiateSmithUpgrades=void 0;var e=require("./utils"),t=require("./State"),s=require("."),r=require("./Updates"),i=require("./RisingText"),a=require("./Tooltip"),o=1e3,n=6e4,c=60*n,d=function(o){var n=this;this.name=o.name,this.codeName=e.getCodeName(o.name),this.desc=o.desc,this.flavorText=o.flavorText||null,this.powerNeeded=o.powerNeeded,this.cost=o.cost,this.requires=o.requires||[],this.isLocked=o.isLocked,this.isInProgress=o.isInProgress||!1,this.isNew=o.isNew||!0,this.isOwned=o.isOwned||!1,this.isRepeatable=o.isRepeatable||!1,this.isRepeatable&&(this.priceIncrease=o.priceIncrease),this.onComplete=o.onComplete||null,this.complete=function(){n.completedOn=new Date,n.isInProgress=!1,r.UpdatesState.updateTabContent=!0,r.UpdatesState.updateTabs=!0,t.State.smith.currentProgress=0,t.State.smith.inProgress=!1,t.State.smith.currentUpgrade=n,s.completeSmithUpgrade(n.codeName),n.isRepeatable&&(n.powerNeeded*=n.priceIncrease),n.onComplete&&n.onComplete.unlockSmithUpgrade&&n.onComplete.unlockSmithUpgrade.forEach(function(e){p(e,n.codeName)})},this.start=function(){console.log("starting a smith upgrade"),n.isInProgress=!0,n.startedOn=new Date,r.UpdatesState.updateTabContent=!0,r.UpdatesState.updateTabs=!0,t.State.smith.currentProgress=0,t.State.smith.inProgress=!0,t.State.smith.currentUpgrade=n},this.buy=function(e){console.log("buying a smith upgrade",e),t.State.smith.inProgress||s.spend(n.cost,"refined")&&(i.generateRisingText(e,"buy"),a.hideTooltip(),n.start())},this.removeNew=function(t){n.isNew=!1,t.target.children[1]&&e.removeEl(t.target.children[1])}},p=function(e,s){var r=t.InstanceState.smithUpgrades.find(function(t){return t.codeName===e}),i=!0;if(r.requires)for(var a in r.requires)a===s&&(r.requires[a]=!0),!1===r.requires[a]&&(console.log("You dont own:",a),i=!1);i&&(console.log("unlocking upgrade:",r),r.isLocked=!1)},u=[{name:"Fragility Spectacles",desc:'Allows you to spot "weak spots" within the ore. Hitting the weak spot generates 5x the normal amount.',flavorText:"I can see... I can FIGHT!",powerNeeded:15,cost:0,isLocked:!1,onComplete:{unlockSmithUpgrade:["smithPowerUp"]}},{name:"Quest Board",desc:"Onwards to adventure! Go on quests to find greater rewards and even mysterious artifacts!",flavorText:"Fetch quests are the greatest aren't they?",powerNeeded:1e3,cost:1,isLocked:!1},{name:"Smith Power Up",desc:"Increase maximum smith power by a set amount",powerNeeded:100,cost:0,isLocked:!0,requires:{fragilitySpectacles:!1},isRepeatable:!0,priceIncrease:2.5}];function h(e){void 0===e&&(e=JSON.parse(localStorage.getItem("smithUpgrades"))||u);var s=[];e.forEach(function(e){s.push(new d(e))}),t.InstanceState.smithUpgrades=s}exports.instantiateSmithUpgrades=h;
},{"./utils":"GUxD","./State":"ibrd",".":"KqmS","./Updates":"owfE","./RisingText":"UmE0","./Tooltip":"JjQV"}],"noW9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Toast=void 0;var e=require("./State"),t=require("./utils"),n=require("./constants"),s=0;exports.Toast=function(i,a){var o=this,r=t.createEl("div",["toast","toast-"+s]);switch(this.id=s,this.self=r,this.close=function(){o.self.addEventListener("transitionend",function(){return t.removeEl(o.self)}),o.self.classList.add("close")},e.InstanceState.toasts.push(this),s++,i){case"achievement":r.classList.add("toast-achievement");var c=t.createEl("svg");c.innerHTML='\n                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="40" height="40" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                    <path stroke="none" d="M0 0h24v24H0z"/>\n                    <line x1="18" y1="6" x2="6" y2="18" />\n                    <line x1="6" y1="6" x2="18" y2="18" />\n                </svg>\n            ',c.addEventListener("click",function(){return o.close()}),r.innerHTML="\n                <div class='toast-top'>\n                    <img src='https://via.placeholder.com/32/'>\n                    <h2 class='achievement-name'>"+a.name+"</h2>\n                </div>\n                <div class='toast-middle'>"+a.desc+"</div>\n            ",r.append(c),n.toastsContainerLeftEl.append(r);break;case"notification":n.toastsContainerRightEl.append(r);break;default:console.log("type not recognized",i)}};
},{"./State":"ibrd","./utils":"GUxD","./constants":"FCax"}],"ctio":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instantiateAchievements=void 0;var e=require("./utils"),a=require("./Toast"),o=require("./State"),c=function(o){var c=this;this.name=o.name,this.codeName=e.getCodeName(o.name),this.desc=o.desc,this.isWon=o.won||!1,this.win=function(){c.isWon||(c.isWon=!0,new a.Toast("achievement",c))}},n=[{name:"Newbie Miner",desc:"Break your first rock"},{name:"Novice Miner",desc:"Break 10 rocks"},{name:"Intermediate Miner",desc:"Break 25 rocks"},{name:"Advanced Miner",desc:"Break 50 rocks"},{name:"Master Miner",desc:"Break 100 rocks"},{name:"Chief Miner",desc:"Break 200 rocks"},{name:"Exalted Miner",desc:"Break 500 rocks"},{name:"God Miner",desc:"Break 1000 rocks"},{name:"Combo Baby",desc:"Reach a 5 hit combo"},{name:"Combo Pleb",desc:"Reach a 20 hit combo"},{name:"Combo Squire",desc:"Reach a 50 hit combo"},{name:"Combo Knight",desc:"Reach a 100 hit combo"},{name:"Combo King",desc:"Reach a 200 hit combo"},{name:"Combo Master",desc:"Reach a 350 hit combo"},{name:"Combo Devil",desc:"Reach a 666 hit combo"},{name:"Combo Jackpot",desc:"Reach a 777 hit combo"},{name:"Combo God",desc:"Reach a 1000 hit combo"},{name:"Combo Saiyan",desc:"Reach a 5000 hit combo"},{name:"Combo Saitama",desc:"Reach a 10000 hit combo"},{name:"Not Even A Scratch",desc:"Deal more than 100 damage from a hit"},{name:"Didnt Even Hurt",desc:"Deal more than 1,000 damage from a hit"},{name:"That Tickled",desc:"Deal more than 100,000 damage from a hit"},{name:"I Felt That",desc:"Deal more than 1,000,000 damage from a hit"},{name:"Ore-aid Stand",desc:"Reach 50 OpS"},{name:"Ore Store",desc:"Reach 10,000 OpS"},{name:"401k",desc:"Reach 401,000 OpS"},{name:"Retirement Plan",desc:"Reach 5,000,000 OpS"},{name:"Hedge Fund",desc:"1,000,000,000 OpS"}];exports.instantiateAchievements=function(){var a=JSON.parse(localStorage.getItem("state")),t={};if(a){if(!e.isObjEmpty(a.achievements))for(var m in a.achievements)t[m]=new c(a.achievements[m])}else n.forEach(function(e){t[e.name]=new c(e)});o.State.achievements=t};
},{"./utils":"GUxD","./Toast":"noW9","./State":"ibrd"}],"CODg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.schoolUpgrades=void 0,exports.schoolUpgrades=[{name:"Composition Notebooks",flavorText:"College ruled!",price:300,onBuy:{increaseBuildingProductionMultiplier:["School",1]}},{name:"No. 2 Pencil",flavorText:"Test ready!",price:1e3,onBuy:{increaseBuildingProductionMultiplier:["School",1]}},{name:"3 Ring Binder",flavorText:'Be the Lord of the Rings with our new 2.5" binder!',price:12e3,onBuy:{increaseBuildingProductionMultiplier:["School",1]}},{name:"Looseleaf",flavorText:'"Can I borrow a sheet?"',price:45e4,onBuy:{increaseBuildingProductionMultiplier:["School",1]}},{name:"Schoolbag",flavorText:"Break your back carrying on of these stylish bags!",price:55e5,onBuy:{increaseBuildingProductionMultiplier:["School",2]}},{name:"Fresh Pink Eraser",flavorText:"Never use this. Keep it pristine.",price:225e5,onBuy:{increaseBuildingProductionMultiplier:["School",1]}},{name:"Gum",flavorText:"With this, you'll be the most popular kid in the class.",price:62e7,onBuy:{increaseBuildingProductionMultiplier:["School",1]}},{name:"Hallpass",flavorText:"Wander the halls without a care in the world.",price:3e12,onBuy:{increaseBuildingProductionMultiplier:["School",1]}},{name:"Report Card",flavorText:"Determines your fate for the upcoming months.",price:82e12,onBuy:{increaseBuildingProductionMultiplier:["School",1]}}];
},{}],"NPP0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.farmUpgrades=void 0,exports.farmUpgrades=[{name:"Manure Spreader",flavorText:"The poop helps the ore mature.",price:950,onBuy:{increaseBuildingProductionMultiplier:["Farm",1]}},{name:"Pitchfork",flavorText:"Torches not included...",price:12500,onBuy:{increaseBuildingProductionMultiplier:["Farm",1]}},{name:"Tractor",flavorText:"Im in me mums tractor.",price:265e3,onBuy:{increaseBuildingProductionMultiplier:["Farm",1]}},{name:"Rotary Cutter",flavorText:"Not even grass can stop us now.",price:345e4,onBuy:{increaseBuildingProductionMultiplier:["Farm",1]}},{name:"Hoe",flavorText:"hehe...",price:69e6,onBuy:{increaseBuildingProductionMultiplier:["Farm",1]}},{name:"Baler",flavorText:'"Baler? I hardly know her."',price:4e8,onBuy:{increaseBuildingProductionMultiplier:["Farm",1]}},{name:"Sickle",flavorText:"For easy sickle-ing of course.",price:47003e5,onBuy:{increaseBuildingProductionMultiplier:["Farm",1]}},{name:"Scythe",flavorText:"It's like a sickle... but bigger.",price:7e10,onBuy:{increaseBuildingProductionMultiplier:["Farm",1]}}];
},{}],"kHdT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quarryUpgrades=void 0,exports.quarryUpgrades=[{name:"Floodlights",flavorText:"Staring into one of them is like starting into a billion suns.",price:1900,onBuy:{increaseBuildingProductionMultiplier:["Quarry",1]}},{name:"Twill Rope",flavorText:"Study enuff...",price:11e3,onBuy:{increaseBuildingProductionMultiplier:["Quarry",1]}},{name:"Wooden Compass",flavorText:"Responds to ore magnetism.",price:51e4,onBuy:{increaseBuildingProductionMultiplier:["Quarry",1]}},{name:"Ore Filter",flavorText:"Less sorting, more ore.",price:7e6,onBuy:{increaseBuildingProductionMultiplier:["Quarry",1]}},{name:"Waterproof Tape",flavorText:"Poor mans Flex TapeÂ®",price:8e7,onBuy:{increaseBuildingProductionMultiplier:["Quarry",1]}},{name:"Metallic Compass",flavorText:"Looks cooler, does the same thing.",price:2105e5,onBuy:{increaseBuildingProductionMultiplier:["Quarry",1]}},{name:"Miners Mask",flavorText:"Asbestos be gone!",price:5e9,onBuy:{increaseBuildingProductionMultiplier:["Quarry",1]}},{name:"Cape Chisel",flavorText:"Faster than mining!",price:27e9,onBuy:{increaseBuildingProductionMultiplier:["Quarry",1]}},{name:"Ore Splitter",flavorText:"Right down the middle",price:6e11,onBuy:{increaseBuildingProductionMultiplier:["Quarry",1]}},{name:"Laser Drill",flavorText:"tbd",price:63e11,onBuy:{increaseBuildingProductionMultiplier:["Quarry",1]}}];
},{}],"mt6p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.churchUpgrades=void 0,exports.churchUpgrades=[{name:"Scripture Reading",flavorText:"Read the words of our l-ore-d and savior.",price:6e4,onBuy:{increaseBuildingProductionMultiplier:["Church",1]}},{name:"Communion",flavorText:"Note: Not communism.",price:74e4,onBuy:{increaseBuildingProductionMultiplier:["Church",1]}},{name:"Worship Session",flavorText:"More like W-ore-ship... haha...",price:28e5,onBuy:{increaseBuildingProductionMultiplier:["Church",1]}},{name:"7th Day",flavorText:"You would think a day of worship is one less day of work but somehow it works out to more ore!",price:62e6,onBuy:{increaseBuildingProductionMultiplier:["Church",1]}},{name:"Eden Apple",flavorText:"You can't resist this forbidden fruit.",price:777e6,onBuy:{increaseBuildingProductionMultiplier:["Church",1]}},{name:"Apocalypse",flavorText:"Hell on earth.",price:82e8,onBuy:{increaseBuildingProductionMultiplier:["Church",4]}},{name:"Judgement Day",flavorText:"It's the end of the world.",price:32e9,onBuy:{increaseBuildingProductionMultiplier:["Church",3]}},{name:"Rapture",flavorText:"Are you saved?",price:7e11,onBuy:{increaseBuildingProductionMultiplier:["Church",3]}},{name:"Chaos",flavorText:"...",price:245e10,onBuy:{increaseBuildingProductionMultiplier:["Church",2]}},{name:"Satanic Ritual",flavorText:"Sacrifices are the only way to appease the demons.",price:33e12,onBuy:{increaseBuildingProductionMultiplier:["Church",2]}}];
},{}],"QSEk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.factoryUpgrades=void 0,exports.factoryUpgrades=[{name:"Rubber Conveyor Belt",flavorText:"These moves the things to there, that's all I know.",price:3e4,onBuy:{increaseBuildingProductionMultiplier:["Factory",1]}},{name:"Floppy Squiggle Tubes",flavorText:"If I could tell you what these were for you'd buy twice as many.",price:3e5,onBuy:{increaseBuildingProductionMultiplier:["Factory",1]}},{name:"Clicky Squish Buttons",flavorText:"These go next to the Squishy Click Buttons.",price:44e6,onBuy:{increaseBuildingProductionMultiplier:["Factory",1]}},{name:"Metallic Magnetic Panels",flavorText:"These are actually for my fridge.",price:8e8,onBuy:{increaseBuildingProductionMultiplier:["Factory",1]}},{name:"Hydroponic Auxilleration",flavorText:"Aquaman is here to stay.",price:53e8,onBuy:{increaseBuildingProductionMultiplier:["Factory",1]}}];
},{}],"lacP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.upgrades=void 0;var r=require("./schoolUpgrades"),e=require("./farmUpgrades"),a=require("./quarryUpgrades"),s=require("./churchUpgrades"),p=require("./factoryUpgrades");exports.upgrades={schoolUpgrades:r.schoolUpgrades,farmUpgrades:e.farmUpgrades,quarryUpgrades:a.quarryUpgrades,churchUpgrades:s.churchUpgrades,factoryUpgrades:p.factoryUpgrades};
},{"./schoolUpgrades":"CODg","./farmUpgrades":"NPP0","./quarryUpgrades":"kHdT","./churchUpgrades":"mt6p","./factoryUpgrades":"QSEk"}],"ypIX":[function(require,module,exports) {
"use strict";var e=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var i=Array(e),a=0;for(r=0;r<t;r++)for(var s=arguments[r],n=0,u=s.length;n<u;n++,a++)i[a]=s[n];return i};Object.defineProperty(exports,"__esModule",{value:!0}),exports.instantiateUpgrades=void 0;var r=require("./utils"),t=require("./State"),i=require("./Tooltip"),a=require("./upgrades/index"),s=require("."),n=require("./Updates"),u=function(e){var t=this;this.name=e.name,this.codeName=r.getCodeName(e.name),this.desc=e.desc||o(e),this.flavorText=e.flavorText,this.price=e.price,this.onBuy=e.onBuy,this.isLocked=!1!==e.isLocked,this.isOwned=(e.isOwned,!1),this.buy=function(e){if(s.spend(t.price)){t.isOwned=!0,t.onBuy&&t.increaseBuildingProductionMultiplier;var i=e.target,a=r.select(".upgrades-container");r.removeEl(i),r.isElEmpty(a)&&(n.UpdatesState.updateTabContent=!0)}},this.mousemove=function(e){return i.showTooltip(e,{type:"upgrade",upgrade:t})}},o=function(e){return"Increases the production multiplier of "+t.State.buildings[e.onBuy.increaseBuildingProductionMultiplier[0]].namePlural+" by "+e.onBuy.increaseBuildingProductionMultiplier[1]},d=e(a.upgrades.schoolUpgrades,a.upgrades.farmUpgrades,a.upgrades.quarryUpgrades,a.upgrades.churchUpgrades,a.upgrades.factoryUpgrades);exports.instantiateUpgrades=function(){var e=JSON.parse(localStorage.getItem("state")),i={};if(e){if(!r.isObjEmpty(e.upgrades))for(var a in e.upgrades)i[a]=new u(e.upgrades[a])}else d.forEach(function(e){i[e.name]=new u(e)});t.State.upgrades=i};
},{"./utils":"GUxD","./State":"ibrd","./Tooltip":"JjQV","./upgrades/index":"lacP",".":"KqmS","./Updates":"owfE"}],"KqmS":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var n={};if(null!=a)for(var r in a)"default"!==r&&Object.hasOwnProperty.call(a,r)&&e(n,a,r);return t(n,a),n};Object.defineProperty(exports,"__esModule",{value:!0}),exports.completeSmithUpgrade=exports.updateOPS=exports.spend=void 0;var n=require("./State"),r=require("./Updates"),s=a(require("./constants")),i=require("./utils"),o=require("./OreParticle"),c=require("./RisingText"),d=require("./Tabs"),p=require("./Buildings"),u=require("./Tooltip"),l=require("./SmithUpgrades"),m=require("./Achievements"),S=require("./Upgrades"),g=function(e,t){void 0===t&&(t=!0),n.State.inventory.ores+=e,t&&v(e),r.UpdatesState.updateOres=!0};exports.spend=function(e,t){return void 0===t&&(t="ores"),n.State.inventory[t]>=e&&(n.State.inventory.ores-=e,!0)};var v=function(e){n.State.ore.hp-=e,n.State.ore.hp<=0&&b(),r.UpdatesState.updateOreSprite=!0,r.UpdatesState.updateOreHp=!0},b=function(){x(50),f(),n.State.ore.spriteType=i.getRandomNum(1,5),n.State.stats.rocksDestroyed++,1===n.State.stats.rocksDestroyed&&y("Newbie Miner"),10===n.State.stats.rocksDestroyed&&y("Novice Miner"),25===n.State.stats.rocksDestroyed&&y("Intermediate Miner"),50===n.State.stats.rocksDestroyed&&y("Advanced Miner"),100===n.State.stats.rocksDestroyed&&y("Master Miner"),200===n.State.stats.rocksDestroyed&&y("Chief Miner"),500===n.State.stats.rocksDestroyed&&y("Exalted Miner"),1e3===n.State.stats.rocksDestroyed&&y("God Miner"),1===n.State.stats.rocksDestroyed&&j("smith")},f=function(){n.State.ore.maxHp*=1.13,n.State.ore.hp=n.State.ore.maxHp},h=function(){s.comboSignEl.classList.contains("visible")||ne(),s.comboSignNumberEl.innerHTML=""+n.State.stats.currentCombo},E=function(e,t){void 0===t&&(t=!1);var a=n.State.opc;t?(a*=n.State.stats.weakSpotMultiplier,n.State.stats.weakSpotClicks++,n.State.stats.currentCombo++,x(3),c.generateRisingText(e,"weakSpot",a),n.State.stats.currentCombo%5==0&&c.generateRisingText(e,"combo",n.State.stats.currentCombo),n.State.stats.currentCombo>n.State.stats.highestCombo&&(n.State.stats.highestCombo=n.State.stats.currentCombo),5===n.State.stats.currentCombo&&y("Combo Baby"),20===n.State.stats.currentCombo&&y("Combo Pleb"),50===n.State.stats.currentCombo&&y("Combo Squire"),100===n.State.stats.currentCombo&&y("Combo Knight"),200===n.State.stats.currentCombo&&y("Combo King"),350===n.State.stats.currentCombo&&y("Combo Master"),666===n.State.stats.currentCombo&&y("Combo Devil"),777===n.State.stats.currentCombo&&y("Combo Jackpot"),1e3===n.State.stats.currentCombo&&y("Combo God"),5e3===n.State.stats.currentCombo&&y("Combo Saiyan"),1e4===n.State.stats.currentCombo&&y("Combo Saitama"),L()):(n.State.stats.currentCombo>0&&(n.State.stats.currentCombo=0),x(1),c.generateRisingText(e,null,a)),a>=100&&y("Not Even A Scratch"),a>=1e3&&y("Didnt Even Hurt"),a>=1e5&&y("That Tickled"),a>=1e6&&y("I Felt That"),h(),g(a),o.generateOreParticles(e),n.State.stats.oreClicks++},L=function(){var e=i.select(".weak-spot");e||((e=i.createEl("div",["weak-spot"])).addEventListener("click",function(e){return E(e,!0)}),s.oreSpriteContainerEl.append(e));var t=i.getRandomNum(0,s.oreSpriteContainerEl.offsetWidth-20),a=i.getRandomNum(0,s.oreSpriteContainerEl.offsetHeight-20);e.style.left=t+"px",e.style.bottom=a+"px"},y=function(e){n.State.achievements[e].win()},x=function(e){n.State.generation.xp+=e,n.State.generation.xp>=n.State.generation.maxXp&&w(),r.UpdatesState.updateGenerationXp=!0},w=function(){n.State.generation.maxXp*=1.15,n.State.generation.xp=0,n.State.generation.lvOnRefine+=1,r.UpdatesState.updateGenerationLvOnRefine=!0},T=function(){var e=i.beautifyNumber(n.State.inventory.ores);n.State.ops>0&&(e+=" <span class='ops'>("+n.State.ops+"/s)</span>"),s.topbarInventoryOresEl.innerHTML=""+e,r.UpdatesState.updateOres=!1},k=function(){switch(n.State.settings.oreHpType){case"percentage":s.oreHpEl.innerHTML=i.formatNumber(i.getPercentage(n.State.ore.hp,n.State.ore.maxHp))+"%";break;case"number":s.oreHpEl.innerHTML=i.formatNumber(n.State.ore.hp)+"/"+i.formatNumber(n.State.ore.maxHp);break;case"none":default:return}r.UpdatesState.updateOreHp=!1},C=function(){s.oreSpriteEl.src="./images/ore"+n.State.ore.spriteType+"-"+n.State.ore.spriteHp+".png";var e=i.getPercentage(n.State.ore.hp,n.State.ore.maxHp),t=Math.min(5,6-Math.ceil(e/20));n.State.ore.spriteHp!==t&&(n.State.ore.spriteHp=t,s.oreSpriteEl.src="./images/ore"+n.State.ore.spriteType+"-"+n.State.ore.spriteHp+".png",o.generateOreParticles(null,5)),r.UpdatesState.updateOreSprite=!1},U=function(){s.topbarInventoryGenerationLv.innerHTML=""+n.State.generation.lv,r.UpdatesState.updateGenerationLv=!1},O=function(){n.State.generation.lv<n.State.generation.lvOnRefine&&(s.topbarInventoryGenerationLvOnRefine.innerHTML="("+n.State.generation.lvOnRefine+")"),r.UpdatesState.updateGenerationLvOnRefine=!1},P=function(){s.topbarInventoryGenerationXpBarEl.style.width=i.getPercentage(n.State.generation.xp,n.State.generation.maxXp)+"%",r.UpdatesState.updateGenerationXp=!1};exports.updateOPS=function(){var e=0;for(var t in n.State.buildings){var a=n.State.buildings[t];e+=a.baseProduction*a.productionMultiplier*a.owned}n.State.ops=e,e>=50&&y("Ore-aid Stand"),e>=1e4&&y("Ore Store"),e>=401e3&&y("401k"),e>=5e6&&y("Retirement Plan"),e>=1e9&&y("Hedge Fund"),r.UpdatesState.updateOPS=!1};var H=function(e){n.InstanceState.buyAmount=e,r.UpdatesState.updateTabContent=!0},I=function(){for(var e in n.State.buildings){var t=n.State.buildings[e];if(!t.isHidden&&!t.isLocked){var a=document.querySelector(".building-"+t.codeName+" .building-price");n.State.inventory.ores>=i.getGeometricSequencePrice(t)?a.classList.contains("not-enough")&&a.classList.remove("not-enough"):a.classList.contains("not-enough")||a.classList.add("not-enough")}}for(var r in n.State.upgrades){var s=n.State.upgrades[r];if(!s.isLocked&&!s.isOwned){var o=document.querySelector(".upgrade-"+s.codeName);n.State.inventory.ores>=s.price?o.classList.contains("not-enough")&&o.classList.remove("not-enough"):o.classList.contains("not-enough")||o.classList.add("not-enough")}}},M=function(){if(!(n.State.smith.currentProgress>=n.State.smith.currentUpgrade.powerNeeded)){var e=n.State.smith.power/n.State.settings.tick;exports.spend(e)&&(n.State.smith.currentProgress+=e,N())}},N=function(){var e=i.select(".smith-tab-progress-bar .bar"),t=i.getPercentage(n.State.smith.currentProgress,n.State.smith.currentUpgrade.powerNeeded);if(e.style.width=t+"%",e.style.filter="grayscale( "+(100-t)+"% )","smith"===n.InstanceState.selectedTab){if(t>=100)return void(r.UpdatesState.updateTabContent=!0);var a=i.select(".smith-progress-bar .bar");a.style.filter="grayscale( "+(100-t)+"% )",a.style.width=t+"%"}};exports.completeSmithUpgrade=function(e){n.InstanceState.smithUpgrades.forEach(function(t){if(t.codeName!==e);else switch(t.isOwned=!0,e){case"fragilitySpectacles":L();break;case"smithPowerUp":n.State.smith.maxPower*=1.5;break;default:console.log("default case firing",e)}})};var q,R,D,G=function(e){var t=i.select(".smith-power");n.State.smith.power=e,t.innerHTML=e},A=function(){var e=document.createElement("div");e.classList.add("tabs-container"),n.InstanceState.tabs.filter(function(e){return!e.isLocked}).forEach(function(t){var a=i.createEl("div",["tab","tab-"+t.codeName]);a.addEventListener("click",function(){return _(t.codeName)}),n.InstanceState.selectedTab===t.codeName&&a.classList.add("tab-selected"),a.innerHTML=t.name,"smith"===t.codeName&&n.State.smith.inProgress&&(a.innerHTML="\n                    "+t.name+"\n                    <div class='smith-tab-progress-bar'>\n                        <div class='bar'></div>\n                    </div>\n                "),e.append(a)}),i.updateEl(s.tabsWrapperEl,e),r.UpdatesState.updateTabs=!1},_=function(e){n.InstanceState.selectedTab!==e&&(n.InstanceState.selectedTab=e,r.UpdatesState.updateTabs=!0,X())},j=function(e){n.InstanceState.tabs.forEach(function(t){if(t.codeName===e)return t.isLocked=!1,void(r.UpdatesState.updateTabs=!0)})},X=function(){var e,t=document.createElement("div");switch(t.classList.add("tabs-content-container"),n.InstanceState.selectedTab){case"store":e=B();break;case"smith":e=J();break;default:console.log("not built yet")}t.append(e),i.updateEl(s.tabsContentWrapperEl,t),r.UpdatesState.updateTabContent=!1},B=function(){var e=i.createEl("div",["tab-content","tab-content-store"]),t=F(),a=z(),n=K();return t.innerHTML&&e.append(t),e.append(a),e.append(n),e},F=function(){var e=i.createEl("div",["upgrades-container"]);return e.addEventListener("mouseenter",function(){return W("enter")}),e.addEventListener("mouseleave",function(){return W("leave")}),i.sortObj(n.State.upgrades,"price").filter(function(e){return!e[1].isOwned&&!e[1].isLocked}).forEach(function(t){var a=i.createEl("div",["upgrade","upgrade-"+t[1].codeName,""+(n.State.inventory.ores<t[1].price&&"not-enough")],"\n                <img src='./images/upgrade-"+t[1].codeName+".png'/>\n            ");a.addEventListener("click",function(e){return t[1].buy(e)}),a.addEventListener("mousemove",function(e){return t[1].mousemove(e)}),a.addEventListener("mouseleave",function(e){return u.hideTooltip()}),e.append(a)}),e},W=function(e){var t=i.select(".upgrades-container");"enter"===e&&(t.style.height=t.scrollHeight+"px"),"leave"===e&&(t.style.height="60px")},K=function(){var e=i.createEl("div",["buildings-container"]),t=function(t){var a=n.State.buildings[t];if(!a.isHidden){var r=i.createEl("div",["building","building-"+a.codeName,""+(a.isLocked&&"locked")]),s=i.getGeometricSequencePrice(a),o="<img class='building-img' src='./images/building-"+a.codeName+".png' />";a.isLocked||(o+="\n                    <div class='building-left'>\n                        <p class='building-name'>"+a.name+" "+(1!=n.InstanceState.buyAmount?"x"+n.InstanceState.buyAmount:"")+"</p>\n                        <p class='building-price'>\n                            <img src='./images/ore.png' />\n                            "+i.beautifyNumber(s)+"\n                        </p>\n                    </div>\n                    <p class='building-owned'>"+a.owned+"</p>\n                "),r.innerHTML=o,a.isLocked||(r.addEventListener("click",function(e){return a.buy(e)}),r.addEventListener("mousemove",function(e){return a.mousemove(e)}),r.addEventListener("mouseleave",function(){return u.hideTooltip()})),e.append(r)}};for(var a in n.State.buildings)t(a);return e},z=function(){var e=document.createElement("div");e.classList.add("buy-amount-container");var t=i.createEl("p",["buy-amount-text"],"Buy Amount"),a=document.createElement("div");a.classList.add("buy-amounts");return[1,10,100,"max"].forEach(function(e){var t=i.createEl("p",["buy-amount"],e);t.addEventListener("click",function(){return H(e)}),e===n.InstanceState.buyAmount&&t.classList.add("selected"),a.append(t)}),e.append(t),e.append(a),e},J=function(){var e=i.createEl("div",["tab-content","tab-content-smith"]),t=i.createEl("div",["under-tab-bar"]),a=Y(),r=n.State.smith.inProgress?Q():"",s=V();return e.append(t),e.append(a),e.append(r),e.append(s),e},Q=function(){var e=i.createEl("div",["smith-progress-container"]),t=n.State.smith.currentUpgrade,a=i.getPercentage(n.State.smith.currentProgress,t.powerNeeded),r=i.createEl("div",["smith-progress-top"],"\n        <p class='smith-upgrade-name'>"+t.name+"</p>\n        "),s=i.createEl("button",["collect-btn"],"COLLECT");s.addEventListener("click",function(){return t.complete()});var o=a>=100?s:i.createEl("div",["smith-progress-bar"]," <div class='smith-progress-bar'>\n                        <div class='bar'></div>\n                    </div>"),c=i.createEl("div");c.append(r),c.append(o);var d=document.createElement("img");return d.src="./images/smithUpgrade-"+t.codeName+".png",e.append(d),e.append(c),e},V=function(){var e=i.createEl("div",["smith-upgrades-wrapper"]),t=i.createEl("p",["smith-header-text"],"Available Upgrades"),a=(i.createEl("p",["smith-header-text","small"],"Locked Upgrades"),i.createEl("p",["smith-header-text","small"],"Owned Upgrades")),r=i.createEl("div",["smith-upgrades-container","available-smith-upgrades-container"]),s=i.createEl("div",["smith-upgrades-container","locked-smith-upgrades-container"]),o=i.createEl("div",["smith-upgrades-container","owned-smith-upgrades-container"]),c=!1,d=!1;return n.InstanceState.smithUpgrades.forEach(function(e){var t=i.createEl("div",["smith-upgrade"]),a=document.createElement("img");if(a.src="./images/smithUpgrade-"+e.codeName+".png",t.append(a),e.isNew){var n=i.createEl("p",["new"],"New!");t.append(n)}!e.isLocked&&!e.isOwned&&!e.isInProgress||e.isRepeatable&&!e.isLocked&&!e.isInProgress?(c=!0,t.addEventListener("click",function(t){return e.buy(t)}),t.addEventListener("mouseover",function(t){return e.removeNew(t)}),t.addEventListener("mousemove",function(t){return u.showTooltip(t,{type:"smithUpgrade",smithUpgrade:e})}),t.addEventListener("mouseleave",function(){return u.hideTooltip()}),r.append(t)):e.isLocked?(!0,s.append(t)):e.isOwned&&(d=!0,t.addEventListener("mousemove",function(t){return u.showTooltip(t,{type:"smithUpgrade",smithUpgrade:e})}),t.addEventListener("mouseleave",function(){return u.hideTooltip()}),o.append(t))}),c&&(e.append(t),e.append(r)),d&&(e.append(a),e.append(o)),e},Y=function(){var e=i.createEl("div",["smith-settings-container"],"\n        <p class='smith-power-text'>Smith Power</p>\n        <p class='smith-power'>"+n.State.smith.power+"</p>\n    "),t=document.createElement("input");return t.classList.add("smith-slider"),t.type="range",t.min="0",t.max=""+n.State.smith.maxPower,t.value=""+n.State.smith.power,t.step="1",t.addEventListener("input",function(e){return G(e.target.value)}),e.append(t),e},Z=function(){var e=i.getRandomFromArr(n.State.textScrollerMessages);s.textScrollerTextEl.innerHTML=e,n.InstanceState.textScroller.isInProgress=!0},$=function(){var e=30===n.State.settings.tick?2:1,t=s.textScrollerTextEl.offsetLeft;s.textScrollerTextEl.style.left=t-e+"px",t+s.textScrollerTextEl.offsetWidth<=0&&(s.textScrollerTextEl.innerHTML="",s.textScrollerTextEl.style.left="100%",n.InstanceState.textScroller.isInProgress=!1,Z())},ee=0,te=function(){if(r.UpdatesState.updateOres&&T(),r.UpdatesState.updateOreHp&&k(),r.UpdatesState.updateOreSprite&&C(),r.UpdatesState.updateGenerationLv&&U(),r.UpdatesState.updateGenerationXp&&P(),r.UpdatesState.updateGenerationLvOnRefine&&O(),r.UpdatesState.updateTabs&&A(),r.UpdatesState.updateTabContent&&X(),r.UpdatesState.updateOPS&&exports.updateOPS(),"store"===n.InstanceState.selectedTab&&I(),n.InstanceState.textScroller.isInProgress&&$(),n.State.smith.inProgress&&M(),g(n.State.ops/n.State.settings.tick,!1),Object.keys(n.InstanceState.oreParticles).length>0)for(var e in s.particlesCanvasContext.clearRect(0,0,s.particlesCanvasContext.canvas.width,s.particlesCanvasContext.canvas.height),n.InstanceState.oreParticles)n.InstanceState.oreParticles[e].draw();++ee>=n.State.settings.tick&&(ee=0,n.State.ops>0&&c.generateRisingText(null,"buildingOps",n.State.ops))},ae=function(){s.particlesCanvasEl.height=window.innerHeight,s.particlesCanvasEl.width=window.innerWidth},ne=function(){n.State.stats.highestCombo>=5&&s.comboSignEl.classList.add("visible")},re=function(){ae(),d.instantiateTabs(),p.instantiateBuildings(),l.instantiateSmithUpgrades(),m.instantiateAchievements(),ne(),S.instantiateUpgrades(),s.oreSpriteEl.onclick=E,Z(),setInterval(te,1e3/n.State.settings.tick)};window.onload=function(){return re()};var se=document.querySelector(".fps");se.style.zIndex="5",q=Date.now(),requestAnimationFrame(function e(){R=Date.now(),D=Math.round(1e3/(R-q)),q=R,requestAnimationFrame(e),se.innerHTML=D});
},{"./State":"ibrd","./Updates":"owfE","./constants":"FCax","./utils":"GUxD","./OreParticle":"vI8V","./RisingText":"UmE0","./Tabs":"PZUX","./Buildings":"xBG6","./Tooltip":"JjQV","./SmithUpgrades":"ViP4","./Achievements":"ctio","./Upgrades":"ypIX"}]},{},["KqmS"], null)
//# sourceMappingURL=replacethislinewithadot/scripts.5d42c471.js.map