parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"QVnC":[function(require,module,exports) {
var define;
var t,r=function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{u({},"")}catch(P){u=function(t,r,e){return t[r]=e}}function h(t,r,e,n){var o=r&&r.prototype instanceof d?r:d,i=Object.create(o.prototype),a=new G(n||[]);return i._invoke=function(t,r,e){var n=l;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===y){if("throw"===o)throw i;return F()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=j(a,e);if(c){if(c===v)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===l)throw n=y,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=p;var u=f(t,r,e);if("normal"===u.type){if(n=e.done?y:s,u.arg===v)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=y,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function f(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(P){return{type:"throw",arg:P}}}t.wrap=h;var l="suspendedStart",s="suspendedYield",p="executing",y="completed",v={};function d(){}function g(){}function m(){}var w={};w[i]=function(){return this};var L=Object.getPrototypeOf,x=L&&L(L(N([])));x&&x!==e&&n.call(x,i)&&(w=x);var b=m.prototype=d.prototype=Object.create(w);function E(t){["next","throw","return"].forEach(function(r){u(t,r,function(t){return this._invoke(r,t)})})}function _(t,r){var e;this._invoke=function(o,i){function a(){return new r(function(e,a){!function e(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var h=u.arg,l=h.value;return l&&"object"==typeof l&&n.call(l,"__await")?r.resolve(l.__await).then(function(t){e("next",t,a,c)},function(t){e("throw",t,a,c)}):r.resolve(l).then(function(t){h.value=t,a(h)},function(t){return e("throw",t,a,c)})}c(u.arg)}(o,i,e,a)})}return e=e?e.then(a,a):a()}}function j(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,j(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function k(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function G(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:F}}function F(){return{value:r,done:!0}}return g.prototype=b.constructor=m,m.constructor=g,g.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===g||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(_.prototype),_.prototype[a]=function(){return this},t.AsyncIterator=_,t.async=function(r,e,n,o,i){void 0===i&&(i=Promise);var a=new _(h(r,e,n,o),i);return t.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(b),u(b,c,"Generator"),b[i]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,G.prototype={constructor:G,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;k(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),v}},t}("object"==typeof module?module.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}
},{}],"HTI4":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.QuestStateTypesEnum=void 0,function(e){e.IDLE="idle",e.IN_PROGRESS="inProgress",e.BOSS_APPROACHING="bossApproaching",e.BOSS_FIGHT="bossFight",e.COMPLETED="completed",e.FAILED="failed"}(e=exports.QuestStateTypesEnum||(exports.QuestStateTypesEnum={}));
},{}],"dP0l":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResearchStateTypes=void 0,function(e){e.IDLE="idle",e.IN_PROGRESS="inProgress",e.COMPLETED="completed"}(e=exports.ResearchStateTypes||(exports.ResearchStateTypes={}));
},{}],"ibrd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InstanceState=exports.State=void 0;var e=require("./interfaces/Quest"),t=require("./interfaces/Research");exports.State={opc:1,ops:0,inventory:{ores:0,refined:0,equips:{pickaxe:{damage:1,hardness:100,sharpness:100,level:1,material:{name:"Wood",multiplier:-.03},multiplier:{sharpness:0,hardness:0},name:"Shitty Wood Pickaxe",rarity:{name:"Common",multiplier:0},type:"pickaxe"}}},hero:{stats:{agility:0,armor:0,attack:0,dexterity:0,hp:0,luck:0,speed:0,strength:0},baseStats:{agility:0,armor:0,attack:1,dexterity:0,hp:50,luck:0,speed:0,strength:0},bonusPercentStats:{agility:0,armor:0,attack:0,dexterity:0,hp:0,luck:0,speed:0,strength:0},critDamagePercentMultiplier:150},generation:{lv:0,lvsOnRefine:1,xp:0,maxXp:300,sp:0},ore:{hp:50,maxHp:50,baseHp:50,hpScale:1.18,spriteType:7,spriteHp:1},bonuses:{permanent:{globalPercentBonus:0,flatOpCBonus:0,flatOpCPerBuilding:0,flatOpSBonus:0,percentOpCBonus:0,percentOpSBonus:0,percentOpSToOpCBonus:0,percentOpCToOpSBonus:0,ocdPercentBonus:0},temporary:{globalPercentBonus:0,flatOpCBonus:0,flatOpCPerBuilding:0,flatOpSBonus:0,percentOpCBonus:0,percentOpSBonus:0,percentOpSToOpCBonus:0,percentOpCToOpSBonus:0,ocdPercentBonus:0}},pickaxeBonuses:{damage:0,hardness:0,sharpness:0},stats:{refinedOresEarned:0,oresEarned:0,lifetimeOresEarned:0,weakSpotMultiplier:3,xpPerWeakHit:3,oreClicks:0,weakSpotClicks:0,currentCombo:0,highestCombo:0,rockLevel:0,rocksDestroyed:0,totalRocksDestroyed:0,timesRefined:0,itemsOpened:0,manualAttackCount:0,critCount:0,dodgeCount:0,missCount:0,manualMissCount:0,goldNuggetPercentSpawnChance:30,goldNuggetsCount:0,goldNuggetsMissCount:0,buildingsOwned:0,overallBuildingsOwned:0,itemsPickedUpCount:0,itemsTrashedCount:0,dateStarted:null,itemDropChance:33,itemsPerDrop:1,rentalBoonMultiplier:2,printerGoBrrMultiplier:20,oresWhileAwayCap:0,oresWhileAwayPercentPenalty:50,maxItemsWhileAway:0,oreChunkDropChance:40,oreChunkMinDropAmount:0,oreChunkMaxDropAmount:2,healCount:0,ravenousStrikesCount:0,hulkSmashCount:0,tenantIntimidationCount:0,globalBonusPerGenerationLevel:3,weakSpotSizeScale:1,questOreBonus:.1},research:{currentState:t.ResearchStateTypes.IDLE,currentProgress:null,currentUpgrade:null,power:1,maxPower:5,powerToOreRatio:5},settings:{tick:30,oreHpType:"percentage",numberFormat:"default",hideRisingText:!1,hideOreParticles:!1,showFPS:!1,showAds:!1,version:null,lastSave:null,isMuted:!1,isAnimatedBackground:!0,volume:.5,isCheating:!1},skills:{},activeSkills:{tenantIntimidation:{isActive:!1,leftoverDuration:null},hulkSmash:{isActive:!1}},skillVars:{hulkSmash:{damageMultiplier:100},tenantIntimidation:{productionMultiplier:200,durationInSeconds:60},heal:{healAmountPercent:20},ravenousStrikes:{duration:10,additionalDamagePercent:100}},onCooldownSkills:[],buildings:{},upgrades:{},researchUpgrades:{},gameBooleans:{isHotSwappableOwned:!1,isBosscyclopediaOwned:!1,isDoggybagOwned:!1,isBuildingExpansionOwned:!1,isBreakTheRockTutorialShown:!1,isBuyBuildingsTutorialShown:!1,isResearchTabUnlockedTutorialShown:!1,isStartFirstResearchTutorialShown:!1},quests:{},quest:{state:e.QuestStateTypesEnum.IDLE,activeSkills:{heal:{isAvailable:!0},ravenousStrikes:{isAvailable:!0}},manualAttackCount:0},comboShield:{isAvailable:!1,lastUsed:null,timeBetweenUse:36e5},achievements:{},textScrollerQueue:[],textScrollerMessages:[],tabs:[]},exports.InstanceState={selectedTab:"store",buyAmount:1,oreParticles:{},toasts:[],questSkills:{ravenousStrikes:{isActive:!1}},isOreRageActive:!1,isOreMadnessActive:!1,isRentalBoonActive:!1,isPrinterGoBrrActive:!1,manualAttacksInARow:0,manualMissInARow:0,goldRushNuggetsInARow:0,isWindowFocused:!0,timeSinceLastFocus:null,torchLeftClickCount:0,torchRightClickCount:0,tooltipData:null};
},{"./interfaces/Quest":"HTI4","./interfaces/Research":"dP0l"}],"owfE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UpdatesState=void 0,exports.UpdatesState={updateOPS:!0,updateOPC:!0,updateOres:!0,updateRefinedOres:!0,updateOreHp:!0,updateOreSprite:!0,updateGenerationLv:!0,updateGenerationLvsOnRefine:!0,updateGenerationXp:!0,updateTabs:!0,updateTabContent:!0};
},{}],"uTxO":[function(require,module,exports) {
module.exports={"1.0.0 Beta 9":{released_on:"5/22/2021",commits:{feat:["updated how ore quest rewards are given","added more text scroller messages","quests now progress offline","buffed Boss 4","added a new combo achievement and updated another one","added quest name and time left during active quest","made exporting saves easier","added new achievements for buildings","lowered tenant intimidation cd by 50%","revamped save and load system."],refactor:["added discord logo to bottom right"],fix:["saving on tab focus","changed how item stats are generated","fixed bug where permanent building multipliers were being reset on refine","fixed bug where researching Ore Amazon breaks offline ore gain","fixed discrepancies in building upgrade cost","fixed a lot of broken shit","nerfed weak spot size research"]}},"1.0.0 Beta 8":{released_on:"5/18/2021",commits:{fix:["fixed bug where item comparison tooltip not displaying sprite","updating previous state to be compatible","fixed beautify number function for negative numbers","fixed bug where equips menu was blocking left torch from clicks","fixed bug where OCD upgrades werent resetting on refine","fixed bug where if you have no ops and researching an upgrade, your ores dont update","updated ADHD upgrades to OCD","fixed bishop research description","updated upgrade prices","fixed manual attacks not being clickable","fixed bug where item bags werent clickable","active skill tooltips now properly display correct info","fixed skill tree not being centered","fixed active skill tooltip location","fixed combo shield tooltip not displaying right time after unlocking Combo Polish","increase buy amount size"],feat:["updated poo on a stick artifact","added achievements for generation","added incredibly shitty sprites for equips","added more text scrollers","added speed stat unique to accessories and shoes","updated hardness and sharpness sheathe skill to provide a boost instead","added weak spot size research upgrades","added new building + its upgrades","added new combo achievement","added more research upgrade images","updated ore sprite size","research upgrades now display time left","added upgrades and sprites for hospitals","updated building upgrade unlock requirement and added crypt upgrade sprites","added leprechaun research upgrade sprite","added a ouple more text scrollers","nerfed xp gain from ores"]}},"1.0.0 Beta 7":{released_on:"5/13/2021",commits:{fix:["fixed some broken links in skill tree","fixed skill bar being behind torches","updated goon squad research description to be more clear","fixed bug where temporary bonuses werent being wiped","lowered tick rate","removal of invisible gold nuggets","fixed bug where equips menu wasnt visible"],feat:["resetting gen levels","implemented boss 3 artifact","added sprite for boss 3","you now gain xp from ore gain","removed requirement to refine","items now scale with gen level","added times refined to stats menu","implemented bonus based on current gen level","resetting skill tree and displaying proper gen level","hide quest board and refinement until later. Lower power req for refinement"]}},"1.0.0 Beta 6":{released_on:"5/12/2021",commits:{feat:["buffed strength values","lowering requirements for refinements","show achievement tooltip when achievement is locked",'lowered spawn rate of "special rock"',"added new misc achievement","updated item despawn time to 25s","added view skill tree button","show popup if screen resolution is too small","increase item level based on the amount of times refined","increased refine requirements for each refine","big ol buffy buff to artifacts","rock level resets to 0 on refine","added new research upgrade - Shield Polish"],bug:["fixed building upgrades not giving production multipliers","fixed bug regarding missing research power up skill","fixed bug regarding tooltip locations on smaller screens","fixed bug regarding things showing up at the wrong location because of scale","fixed typo for research upgrade Spiked Collar","fixed bug regarding skills","hiding scrollbars on firefox","fixed rising text location on scaled down monitors","fixed bug where generation level seemed to be going backwards","fixed zIndex of equips menu","fixed generation xp not updating after completing quest","fix tooltip description for artifacts","fixed accessory loss on refine","fixed lowercase in upgrades","fix scientific notation research bug"],refactor:["updated a couple of research upgrade descriptions","cancel button should always be on the right","updated equip values to use shorthand versions","updated refine popup with some additional details","big refactor of buildings and probably fixed some bugs along the way"]}},"1.0.0 Beta 5":{released_on:"5/9/2021",commits:{bug:["fixed gamebreaking bug regarding ops","fixed combo shield not rendering if tab stays open","fixed bug where ypgrades werent being hidden after refine","fixed bug regarding building levels","fixed research power text from spilling out"],feat:["added 4 new building upgrades",'added new text scrollers recommended by discord user "Sandro"',"added tooltips for stats","added tooltip for combo shield","added tooltip for generation in topbar","added performance section in settings","only show changelog if youre playing on an old version or are a new player","added button to view changelog into footer","update bonuses from combo achievements"],refactor:["updated changelog layout"]}},"1.0.0 Beta 4":{released_on:"5/7/2021",commits:{bug:["fixed bug where cancelling research upgrade removes upgrade forever","fixed bug regarding a secret achievement","fixed bug regarding building tooltip percentage text"],fix:["lowered ore hit sound","fixed gamebreaking bug when loading in","made secret achievement be unlocked in a better way than previously implemented"],feat:["added save importing and exporting","added auto generating changelogs and THIS popup that you see","increased item timeout duration by 50%","added new text scroller recommended by TCP Ty"]}},"1.0.0 Beta 3":{released_on:"5/7/2021",commits:{feat:['added "new" on achievements that havent been viewed yet']}}};
},{}],"lyKV":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var e=this||o;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||o;if(e=parseFloat(e),t.ctx||l(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||o;t.ctx||l(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||o,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||o,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,l()),e},codecs:function(e){return(this||o)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||o;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||o,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(a){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),i=r&&parseInt(r[0].split("/")[1],10)<33;return e._codecs={mp3:!(i||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||o;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var o=new Audio;o._unlocked=!0,e._releaseHtml5Audio(o)}catch(n){e.noAudio=!0;break}for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var i=e._howls[r]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[r]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||o;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||o;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&o.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&o.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var o=new n,r=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};r.prototype={init:function(e){var t=this;return o.ctx||l(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=o.usingWebAudio&&!t._html5,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=null;if(o.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,r;if(this._format&&this._format[t])n=this._format[t];else{if("string"!=typeof(r=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&o.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new i(this),this._webAudio&&s(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var i=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(i++,r=n._sounds[a]._id);1===i?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&o._autoResume();var d=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),_=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-d),l=1e3*_/Math.abs(s._rate),c=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var f=function(){s._paused=!1,s._seek=d,s._start=c,s._stop=p,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(d>=p)){var h=s._node;if(n._webAudio){var m=function(){n._playLock=!1,f(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;h.gain.setValueAtTime(e,o.ctx.currentTime),s._playStart=o.ctx.currentTime,void 0===h.bufferSource.start?s._loop?h.bufferSource.noteGrainOn(0,d,86400):h.bufferSource.noteGrainOn(0,d,_):s._loop?h.bufferSource.start(0,d,86400):h.bufferSource.start(0,d,_),l!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),l)),t||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)};"running"===o.state&&"interrupted"!==o.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var v=function(){h.currentTime=d,h.muted=s._muted||n._muted||o._muted||h.muted,h.volume=s._volume*o.volume(),h.playbackRate=s._rate;try{var r=h.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,f(),r.then(function(){n._playLock=!1,h._unlocked=!0,t||(n._emit("play",s._id),n._loadQueue())}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):t||(n._playLock=!1,f(),n._emit("play",s._id),n._loadQueue()),h.playbackRate=s._rate,h.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),l):(n._endTimers[s._id]=function(){n._ended(s),h.removeEventListener("ended",n._endTimers[s._id],!1)},h.addEventListener("ended",n._endTimers[s._id],!1))}catch(i){n._emit("playerror",s._id,i)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===h.src&&(h.src=n._src,h.load());var A=window&&window.ejecta||!h.readyState&&o._navigator.isCocoonJS;if(h.readyState>=3||A)v();else{n._playLock=!0;var y=function(){v(),h.removeEventListener(o._canPlayEvent,y,!1)};h.addEventListener(o._canPlayEvent,y,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),o=0;o<n.length;o++){t._clearTimer(n[o]);var r=t._soundById(n[o]);if(r&&!r._paused&&(r._seek=t.seek(n[o]),r._rateSeek=0,r._paused=!0,t._stopFade(n[o]),r._node))if(t._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),t._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||t._emit("pause",r?r._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var o=n._getSoundIds(e),r=0;r<o.length;r++){n._clearTimer(o[r]);var i=n._soundById(o[r]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(o[r]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),i=0;i<r.length;i++){var a=n._soundById(r[i]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&void 0===i[1]?r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0]):i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)(n=r._soundById(t[a]))&&(n._volume=e,i[2]||r._stopFade(t[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,o.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*o.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,r)}}),i;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),i.volume(e,r);for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(r||i._stopFade(a[s]),i._webAudio&&!u._muted){var d=o.ctx.currentTime,_=d+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,d),u._node.gain.linearRampToValueAtTime(t,_)}i._startFadeInterval(u,e,t,n,a[s],void 0===r)}}return i},_startFadeInterval:function(e,t,n,o,r,i){var a=this,s=t,u=n-t,d=Math.abs(u/.01),_=Math.max(4,d>0?o/d:o),l=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var r=(Date.now()-l)/o;l=Date.now(),s+=u*r,s=u<0?Math.max(n,s):Math.min(n,s),s=Math.round(100*s)/100,a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))},_)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,o=arguments;if(0===o.length)return this._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=this._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],this._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var r=this._getSoundIds(t),i=0;i<r.length;i++)(n=this._soundById(r[i]))&&(n._loop=e,this._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return this},rate:function(){var e,t,n,r=this,i=arguments;if(0===i.length)t=r._sounds[0]._id;else if(1===i.length){r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)if(n=r._soundById(t[a])){r.playing(t[a])&&(n._rateSeek=r.seek(t[a]),n._playStart=r._webAudio?o.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,o.ctx.currentTime):n._node&&(n._node.playbackRate=e);var s=r.seek(t[a]),u=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[t[a]]&&n._paused||(r._clearTimer(t[a]),r._endTimers[t[a]]=setTimeout(r._ended.bind(r,n),u)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var i=n._soundById(t);if(i){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var a=n.playing(t)?o.ctx.currentTime-i._playStart:0,s=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(s+a*Math.abs(i._rate))}return i._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),i._seek=e,i._ended=!1,n._clearTimer(t),n._webAudio||!i._node||isNaN(i._node.duration)||(i._node.currentTime=e);var d=function(){n._emit("seek",t),u&&n.play(t,!0)};if(u&&!n._webAudio){var _=function(){n._playLock?setTimeout(_,0):d()};setTimeout(_,0)}else d()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(o._canPlayEvent,t[n]._loadFn,!1),o._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=o._howls.indexOf(e);r>=0&&o._howls.splice(r,1);var i=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===e._src||e._src.indexOf(o._howls[n]._src)>=0){i=!1;break}return a&&i&&delete a[e._src],o.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,o){var r=this["_on"+e];return"function"==typeof t&&r.push(o?{id:n,fn:t,once:o}:{id:n,fn:t}),this},off:function(e,t,n){var o=this["_on"+e],r=0;if("number"==typeof t&&(n=t,t=null),t||n)for(r=0;r<o.length;r++){var i=n===o[r].id;if(t===o[r].fn&&i||!t&&i){o.splice(r,1);break}}else if(e)this["_on"+e]=[];else{var a=Object.keys(this);for(r=0;r<a.length;r++)0===a[r].indexOf("_on")&&Array.isArray(this[a[r]])&&(this[a[r]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var o=this["_on"+e],r=o.length-1;r>=0;r--)o[r].id&&o[r].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,o[r].fn),0),o[r].once&&this.off(e,o[r].fn,o[r].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=o.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),r)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),o._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new i(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=o.ctx.createBufferSource(),e._node.bufferSource.buffer=a[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,o.ctx.currentTime),this},_cleanBuffer:function(e){var t=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=o._scratchBuffer}catch(n){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=o._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),this._node.gain.setValueAtTime(t,o.ctx.currentTime),this._node.paused=!0,this._node.connect(o.masterGain)):o.noAudio||(this._node=o._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(o._canPlayEvent,this._loadFn,!1),this._node.src=e._src,this._node.preload=!0===e._preload?"auto":e._preload,this._node.volume=t*o.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(o._canPlayEvent,this._loadFn,!1)}};var a={},s=function(e){var t=e._src;if(a[t])return e._duration=a[t].duration,void _(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),o=new Uint8Array(n.length),r=0;r<n.length;++r)o[r]=n.charCodeAt(r);d(o.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){i.setRequestHeader(t,e._xhr.headers[t])}),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete a[t],e.load())},u(i)}},u=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(a[t._src]=e,_(t,e)):n()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(e).then(r).catch(n):o.ctx.decodeAudioData(e,r,n)},_=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},l=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(i){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),t=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!r&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};"function"==typeof e&&e.amd&&e([],function(){return{Howler:o,Howl:r}}),"undefined"!=typeof exports&&(exports.Howler=o,exports.Howl=r),void 0!==t?(t.HowlerGlobal=n,t.Howler=o,t.Howl=r,t.Sound=i):"undefined"!=typeof window&&(window.HowlerGlobal=n,window.Howler=o,window.Howl=r,window.Sound=i)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,n,o,r,i){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,o="number"!=typeof o?a[3]:o,r="number"!=typeof r?a[4]:r,i="number"!=typeof i?a[5]:i,"number"!=typeof e?a:(this._orientation=[e,t,n,o,r,i],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,o,r,i),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"stereo",action:function(){o.stereo(e,n)}}),o;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0]}for(var i=o._getSoundIds(n),a=0;a<i.length;a++){var s=o._soundById(i[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,r),"spatial"===r?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),o._emit("stereo",s._id)}}return o},Howl.prototype.pos=function(e,n,o,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,o,r)}}),i;if(n="number"!=typeof n?0:n,o="number"!=typeof o?-.5:o,void 0===r){if("number"!=typeof e)return i._pos;i._pos=[e,n,o]}for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,o],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setPosition(e,n,o)),i._emit("pos",u._id)}}return i},Howl.prototype.orientation=function(e,n,o,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,o,r)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,o="number"!=typeof o?i._orientation[2]:o,void 0===r){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,o]}for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,o],u._node&&(u._panner||(u._pos||(u._pos=i._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,o)),i._emit("orientation",u._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,o,r=arguments;if(!this._webAudio)return this;if(0===r.length)return this._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(o=this._soundById(parseInt(r[0],10)))?o._pannerAttr:this._pannerAttr;e=r[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:this._panningModel})}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var i=this._getSoundIds(n),a=0;a<i.length;a++)if(o=this._soundById(i[a])){var s=o._pannerAttr;s={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:s.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:s.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:s.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:s.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:s.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:s.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:s.panningModel};var u=o._panner;u?(u.coneInnerAngle=s.coneInnerAngle,u.coneOuterAngle=s.coneOuterAngle,u.coneOuterGain=s.coneOuterGain,u.distanceModel=s.distanceModel,u.maxDistance=s.maxDistance,u.refDistance=s.refDistance,u.rolloffFactor=s.rolloffFactor,u.panningModel=s.panningModel):(o._pos||(o._pos=this._pos||[0,0,-.5]),t(o,"spatial"))}return this},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}();
},{}],"Crhs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.playSound=exports.SoundNames=exports.Sounds=void 0;var e=require("howler"),o=require("./State");exports.Sounds={oreHit:new e.Howl({src:["./sounds/oreHit.wav"]}),oreWeakSpotHit:new e.Howl({src:["./sounds/oreWeakSpotHit.wav"]}),orePercentageLost:new e.Howl({src:["./sounds/orePercentageLost.wav"]}),oreDestroyed:new e.Howl({src:["./sounds/oreDestroyed.wav"]}),pickupOreChunk:new e.Howl({src:["./sounds/oreHover.wav"]}),goldNuggetClick:new e.Howl({src:["./sounds/goldNuggetClick.wav"]}),storeItemHover:new e.Howl({src:["./sounds/storeItemHover.wav"]}),buy:new e.Howl({src:["./sounds/buy.wav"]}),questComplete:new e.Howl({src:["./sounds/questComplete.wav"]}),questFailed:new e.Howl({src:["./sounds/questFailed.wav"]}),bossManualHit:new e.Howl({src:["./sounds/bossHit.wav"]}),notEnough:new e.Howl({src:["./sounds/notEnough.wav"]}),researchUpgradeStart:new e.Howl({src:["./sounds/researchUpgradeStart.wav"]}),misc:new e.Howl({src:["./sounds/misc.wav"]}),refine:new e.Howl({src:["./sounds/refine.wav"]}),equipItem:new e.Howl({src:["./sounds/equipItem.wav"]}),dropItem:new e.Howl({src:["./sounds/dropItem.wav"]}),inspectItem:new e.Howl({src:["./sounds/inspectItem.wav"]}),winAchievement:new e.Howl({src:["./sounds/winAchievement.wav"]}),researchComplete:new e.Howl({src:["./sounds/researchComplete.wav"]}),researchCollect:new e.Howl({src:["./sounds/researchCollect.wav"]}),buildingLevelUp:new e.Howl({src:["./sounds/buildingLevelUp.wav"]})};var s,t={oreHit:.1,oreWeakSpotHit:.15,orePercentageLost:.15,oreDestroyed:.15,pickupOreChunk:.2,goldNuggetClick:.2,storeItemHover:.2,buy:.2,questComplete:.2,questFailed:.2,bossManualHit:.2,notEnough:.2,researchUpgradeStart:.2,misc:.1,refine:.2,equipItem:.2,dropItem:1,inspectItem:.1,winAchievement:.5,researchComplete:.5,researchCollect:.3,buildingLevelUp:.2};!function(e){e.oreHit="oreHit",e.oreWeakSpotHit="oreWeakSpotHit",e.orePercentageLost="orePercentageLost",e.oreDestroyed="oreDestroyed",e.pickupOreChunk="pickupOreChunk",e.goldNuggetClick="goldNuggetClick",e.storeItemHover="storeItemHover",e.buy="buy",e.questComplete="questComplete",e.questFailed="questFailed",e.bossManualHit="bossManualHit",e.notEnough="notEnough",e.researchUpgradeStart="researchUpgradeStart",e.misc="misc",e.refine="refine",e.equipItem="equipItem",e.dropItem="dropItem",e.inspectItem="inspectItem",e.winAchievement="winAchievement",e.researchComplete="researchComplete",e.researchCollect="researchCollect",e.buildingLevelUp="buildingLevelUp"}(s=exports.SoundNames||(exports.SoundNames={})),exports.playSound=function(e){if(!o.State.settings.isMuted){var s=t[e];exports.Sounds[e].volume(s*o.State.settings.volume),exports.Sounds[e].play()}};
},{"howler":"lyKV","./State":"ibrd"}],"GUxD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAnchorDimensions=exports.getScale=exports.getMousePos=exports.roundNumber=exports.getRandomWithWeights=exports._buildCloseBtn=exports.buildModal=exports.closeTopmostModal=exports.msTimeSince=exports.msToDate=exports.msToTimeColon=exports.msToTime=exports.getSave=exports.getCurrentMaxAmountAndTotalPriceForBuilding=exports.getRandomLocationWithinEl=exports.camelToTitle=exports.capitalize=exports.percentToDecimal=exports.getAngle=exports.getDistance=exports.isElEmpty=exports.sortObj=exports.isObjEmpty=exports.getRandomFromArr=exports.getRandomColor=exports.findObjectByIdInArr=exports.findObjectByNameInArr=exports.findInObjectByMatchingKey=exports.findCodeNameInArr=exports.getGeometricSequencePrice=exports.beautifyNumber=exports.createSelect=exports.createEl=exports.updateEl=exports.getCodeName=exports.getRandomNum=exports.getUUID=exports.removeEl=exports.getPercentage=exports.select=void 0;var e=require("./constants"),t=require("./Sounds"),o=require("./State");exports.select=function(e){return document.querySelector("".concat(e))},exports.getPercentage=function(e,t){return e/t*100},exports.removeEl=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null!=e&&e.parentNode&&(t?(e.style.opacity=e.style.opacity||"1",e.style.transition="opacity .3s",e.addEventListener("transitionend",function(){e&&e.parentNode.removeChild(e)}),e.style.opacity="0"):e.parentNode.removeChild(e))},exports.getUUID=function(){return"".concat(exports.getRandomNum(1e3,9999),"-").concat(exports.getRandomNum(1e3,9999),"-").concat(exports.getRandomNum(1e3,9999),"-").concat(exports.getRandomNum(1e3,9999))},exports.getRandomNum=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=Math.pow(10,Math.max(o,0)),i=t*r,a=e*r,l=n?1:0;return(Math.floor(Math.random()*(i-a+l))+a)/r},exports.getCodeName=function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,"").replace(/\./g,"")},exports.updateEl=function(e,t){e.innerHTML="",e.append(t)},exports.createEl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=document.createElement(e);return t.forEach(function(e){return n.classList.add(e)}),n.innerHTML=o+"",n},exports.createSelect=function(e,t){var o=document.createElement("select");return e.forEach(function(e){var t=document.createElement("option");t.value=e,t.text=e,o.append(t)}),o.value=t,o},exports.beautifyNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?1:0,n=e<0,r=[["",""],["Thousand","K"],["Million","M"],["Billion","B"],["Trillion","T"],["Quadrillion","Qa"],["Quintillion","Qi"],["Sextillion","Sx"],["Septillion","Sp"],["Octillion","Oc"],["Nonillion","No"],["Decillion","Dc"],["Undecillion","Ud"],["Duodecillion","Dd"],["Tredecillion","Td"],["Quattuordecillion","Qad"],["Quindecillion","Qid"],["Sexdecillion","Sxd"],["Septendecillion","Spd"],["Octodecillion","Ocd"],["Novemdecillion","Nod"],["Vigintillion","Vg"],["Unvigintillion","Uvg"],["Duovigintillion","Dvg"],["Trevigintillion","Tvg"],["Quattuorvigintillion","Qavg"],["Quinvigintillion","Qibg"],["Sexvigintillion","Sxvg"],["Septenvigintillion","Spvg"],["Octovigintillion","Ocvg"],["Novemvigintillion"],["Trigintillion"],["Untrigintillion"],["Dotrigintillion"],["Tretrigintillion"],["Quattuortrigintillion"],["Quintrigintillion"],["Sextrigintillion"],["Septentrigintillion"],["Octotrigintillion"],["Novemtrigintillion"],["F*ckloadillion"],["F*cktonillion"]];if(!e)return 0;if(e<=10&&e>0){if(Math.round(e)===e)return e;if(Number.isInteger(e))return e;var i=Number(e).toFixed(1);return"0"===i[2]?i[0]:Number(e).toFixed(1)}var a=Math.abs(e),l=Math.log10(a)/3|0;if(0===l)return Math.round(a);if("default"===o.State.settings.numberFormat){var c=r[l][t]?r[l][t]:r[l][0],s=a/Math.pow(10,3*l);return"".concat(n?"-":"").concat(parseFloat(s.toFixed(2))," ").concat(c)}return e.toExponential(2)},exports.getGeometricSequencePrice=function(e){if("max"!==o.InstanceState.buyAmount){var t=e.basePrice*(1-Math.pow(e.priceScale,e.owned))/(1-e.priceScale);return e.basePrice*(1-Math.pow(e.priceScale,o.InstanceState.buyAmount+e.owned))/(1-e.priceScale)-t}},exports.findCodeNameInArr=function(e,t){return t.find(function(t){return t.codeName===e})},exports.findInObjectByMatchingKey=function(e,t,o){var n=Object.values(e).find(function(e){return e[t]===o});return n||(console.error("ERROR FINDING OBJECT BY MATCHING KEY:",{obj:e,key:t,match:o}),!1)},exports.findObjectByNameInArr=function(e,t){for(var o=0;o<e.length;o++){var n=e[o];if(n.name===t)return n}},exports.findObjectByIdInArr=function(e,t){for(var o=0;o<e.length;o++){var n=e[o];if(n.id===t)return n}},exports.getRandomColor=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},exports.getRandomFromArr=function(e){return e[Math.floor(Math.random()*e.length)]},exports.isObjEmpty=function(e){return!!e&&0===Object.keys(e).length},exports.sortObj=function(e,t){return Object.entries(e).sort(function(e,o){return e[1][t]-o[1][t]})},exports.isElEmpty=function(e){return e.innerHTML.length<=0},exports.getDistance=function(e,t,o,n){return Math.sqrt(Math.pow(e-t,2)+Math.pow(o-n,2))},exports.getAngle=function(e,t,o,n){var r=e-o,i=t-n,a=Math.atan2(-i,-r);return(a*=180/Math.PI)<0&&(a+=360),a},exports.percentToDecimal=function(e){return e/100},exports.capitalize=function(e,t){return t?e.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" "):e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)},exports.camelToTitle=function(e){return e.replace(/([A-Z])/g,function(e){return" ".concat(e)}).replace(/^./,function(e){return e.toUpperCase()}).trim()},exports.getRandomLocationWithinEl=function(e,t){var o=e.getBoundingClientRect(),n=o.height,r=o.width;return{x:exports.getRandomNum(0,r-2*t),y:exports.getRandomNum(0,n-2*t)}},exports.getCurrentMaxAmountAndTotalPriceForBuilding=function(e){for(var t=1,n=e.currentPrice,r=e.basePrice*Math.pow(e.priceScale,e.owned+t);o.State.inventory.ores>=n+r;)n+=r,t+=1,r=e.basePrice*Math.pow(e.priceScale,e.owned+t);return{amount:t,totalPrice:n}},exports.getSave=function(){var e=localStorage.getItem("s");return!!e&&JSON.parse(atob(e))},exports.msToTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",o=[],n="short"===t?" hr":" hour",r="short"===t?" m":" min",i="short"===t?" s":" sec",a=Math.trunc(e/36e5);a>0&&(a>1&&(n+="s"),o.push(a+n),e-=36e5*a);var l=Math.trunc(e/6e4);l>0&&(o.push(l+r),e-=6e4*l);var c=Math.trunc(e/1e3);return c>0&&o.push(c+i),o.join(" ")},exports.msToTimeColon=function(e){var t,o,n;return t=Math.floor(e/1e3/60/60),o=Math.floor(60*(e/1e3/60/60-t)),n=(n=Math.floor(60*(60*(e/1e3/60/60-t)-o)))<10?"0".concat(n):"".concat(n),o=o<10?"0".concat(o):"".concat(o),t=t<10?"0".concat(t):"".concat(t),parseInt(t)>0?"".concat(t,":").concat(o,":").concat(n):parseInt(o)>0?"".concat(o,":").concat(n):"00:".concat(n)},exports.msToDate=function(e){var t=new Date(e),o=t.getUTCMonth()+1,n=t.getUTCDate(),r=t.getUTCFullYear();return"".concat(o,"/").concat(n,"/").concat(r)},exports.msTimeSince=function(e){return exports.msToTime(Date.now()-e)},exports.closeTopmostModal=function(e){var o;if(e){var n=e.target;n.classList.contains("modal-wrapper")&&(o=n)}else{var r=document.querySelectorAll(".modal-wrapper");r.length>0&&(o=r[r.length-1])}if(o){t.playSound(t.SoundNames.misc);var i=o.children[0];i.style.animation="fadeOutDown .15s ease-out forwards",i.addEventListener("animationend",function(){return exports.removeEl(o)})}},exports.buildModal=function(t,o,n,r){var i=exports.createEl("div",["modal-wrapper"]);i.addEventListener("click",exports.closeTopmostModal);var a=exports.createEl("div",["modal","modal-".concat(exports.getCodeName(t))]);r&&(a.style.width=r+"px");var l=exports.createEl("h2",["modal-title"],t);if(a.append(l),a.append(exports._buildCloseBtn()),a.append(o),n)a.append(n);else{var c=exports.createEl("div",["modal-actions"]),s=exports.createEl("button",["modal-action"],"Ok");s.onclick=function(){return exports.closeTopmostModal()},c.append(s),a.append(c)}i.append(a),e.pageContainer.append(i)},exports._buildCloseBtn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=exports.createEl("img",["close-btn"]);return o.src="./images/misc-close.svg",o.style.right=e+"px",o.style.top=e+"px",t&&(o.style.filter="brightness(0)"),o.addEventListener("click",function(){return exports.closeTopmostModal()}),o},exports.getRandomWithWeights=function(e){var t=[];return e.forEach(function(e){for(var o=0;o<e.weight;o++)t.push(e)}),exports.getRandomFromArr(t)},exports.roundNumber=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.round(10*e)/10},exports.getMousePos=function(e){var t=exports.getScale();return{x:e.clientX/t,y:e.clientY/t}},exports.getScale=function(){var e=exports.select("body"),t=window.getComputedStyle(e).getPropertyValue("transform").match(/matrix\((-?\d*\.?\d+),\s*0,\s*0,\s*(-?\d*\.?\d+),\s*0,\s*0\)/)||[];return t.length>1?parseFloat(t[1]):1},exports.getAnchorDimensions=function(e){var t=e.getBoundingClientRect(),o=exports.getScale(),n={bottom:null,height:null,left:null,right:null,top:null,width:null,x:null,y:null,toJSON:function(){}};for(var r in t)n[r]=t[r]/o;return n};
},{"./constants":"FCax","./Sounds":"Crhs","./State":"ibrd"}],"FCax":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.skillTreeConfirmButtonEl=exports.skillTreeContainerEl=exports.skillTreeWrapperEl=exports.generationHeaderPointsEl=exports.generationHeaderLvEl=exports.tooltipWrapperEl=exports.tabsContentWrapperEl=exports.tabsWrapperEl=exports.particlesCanvasContext=exports.particlesCanvasEl=exports.rightBottomButtonsContainerEl=exports.leftBottomButtonsContainerEl=exports.bottomButtonsContainerEl=exports.comboSignNumberEl=exports.comboSignEl=exports.topbarInventoryGenerationXpBarEl=exports.topbarInventoryGenerationLvsOnRefine=exports.topbarInventoryGenerationLv=exports.topbarInventoryGenerationWrapperEl=exports.topbarInventoryRefinedOresAmountEl=exports.topbarInventoryRefinedOresEl=exports.topbarInventoryRefinedOresContainerEl=exports.topbarInventoryOresEl=exports.topbarInventoryEl=exports.oreHpEl=exports.oreSpriteEl=exports.oreSpriteContainerEl=exports.oreSpriteWrapperEl=exports.toastsContainerRightEl=exports.toastsContainerLeftEl=exports.toastsContainerEl=exports.textScrollerContainerEl=exports.torchRight=exports.torchLeft=exports.achievementsAnchorEl=exports.questContainerEl=exports.footerRightEl=exports.footerLeftEl=exports.gameContainerRight=exports.gameContainerLeftTopBg=exports.gameContainerLeftTopEl=exports.gameContainerLeft=exports.gameContainer=exports.pageContainer=exports.statsIconEl=exports.settingsIconEl=exports.Time=void 0;var e=require("./utils");exports.Time={SECONDS:1e3,MINUTES:6e4,HOURS:36e5,DAYS:864e5,MONTHS:2592e6},exports.settingsIconEl=e.select(".icon-settings"),exports.statsIconEl=e.select(".icon-stats"),exports.pageContainer=e.select(".page-container"),exports.gameContainer=e.select(".game-container"),exports.gameContainerLeft=e.select(".game-container-left"),exports.gameContainerLeftTopEl=e.select(".game-container-left-top"),exports.gameContainerLeftTopBg=e.select(".game-container-left-top-bg"),exports.gameContainerRight=e.select(".game-container-right"),exports.footerLeftEl=e.select("footer .left"),exports.footerRightEl=e.select("footer .right"),exports.questContainerEl=e.select(".game-container-left-bottom"),exports.achievementsAnchorEl=e.select(".achievements-anchor"),exports.torchLeft=e.select(".torch-left"),exports.torchRight=e.select(".torch-right"),exports.textScrollerContainerEl=e.select(".text-scroller-container"),exports.toastsContainerEl=e.select(".toasts-container"),exports.toastsContainerLeftEl=e.select(".toasts-container .left"),exports.toastsContainerRightEl=e.select(".toasts-container .right"),exports.oreSpriteWrapperEl=e.select(".ore-sprite-wrapper"),exports.oreSpriteContainerEl=e.select(".ore-sprite-container"),exports.oreSpriteEl=e.select(".ore-sprite"),exports.oreHpEl=e.select(".ore-hp"),exports.topbarInventoryEl=e.select(".topbar-inventory"),exports.topbarInventoryOresEl=e.select(".topbar-inventory-ores > .amount"),exports.topbarInventoryRefinedOresContainerEl=e.select(".refined-ores-container"),exports.topbarInventoryRefinedOresEl=e.select(".topbar-inventory-refined-ores"),exports.topbarInventoryRefinedOresAmountEl=e.select(".topbar-inventory-refined-ores > .amount"),exports.topbarInventoryGenerationWrapperEl=e.select(".topbar-inventory-generation-wrapper"),exports.topbarInventoryGenerationLv=e.select(".topbar-inventory-generation > .level"),exports.topbarInventoryGenerationLvsOnRefine=e.select(".topbar-inventory-generation > .levels-on-refine"),exports.topbarInventoryGenerationXpBarEl=e.select(".topbar-inventory-generation-xp .bar"),exports.comboSignEl=e.select(".combo-sign"),exports.comboSignNumberEl=e.select(".combo-sign h1"),exports.bottomButtonsContainerEl=e.select(".bottom-buttons-container"),exports.leftBottomButtonsContainerEl=e.select(".bottom-buttons-container .left"),exports.rightBottomButtonsContainerEl=e.select(".bottom-buttons-container .right"),exports.particlesCanvasEl=e.select("#particles"),exports.particlesCanvasContext=exports.particlesCanvasEl.getContext("2d"),exports.tabsWrapperEl=e.select(".tabs-wrapper"),exports.tabsContentWrapperEl=e.select(".tabs-content-wrapper"),exports.tooltipWrapperEl=e.select(".tooltip-wrapper"),exports.generationHeaderLvEl=e.select(".generation-header h1 span"),exports.generationHeaderPointsEl=e.select(".generation-header p span"),exports.skillTreeWrapperEl=e.select(".generation-skill-tree-wrapper"),exports.skillTreeContainerEl=e.select(".generation-skill-tree-container"),exports.skillTreeConfirmButtonEl=e.select(".generation-header button");
},{"./utils":"GUxD"}],"vI8V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateOreParticles=void 0;var t=require("./utils"),e=require("./constants"),i=require("./State"),s=0,a={gravity:.5,maxLife:100};exports.generateOreParticles=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!i.State.settings.hideOreParticles)for(var s=0;s<e;s++)new r(t)};var r=function(a){if(a){var r=t.getMousePos(a),n=r.x,o=r.y;this.x=n,this.y=o}else{var h=e.oreSpriteEl.getBoundingClientRect(),l=t.getScale();this.x=t.getRandomNum(h.left,h.right)/l,this.y=h.top/l}this.vx=t.getRandomNum(-2,2,5),this.vy=t.getRandomNum(-2,-1,5),this.size=t.getRandomNum(.5,2.5,3),s+=1,i.InstanceState.oreParticles[s]=this,this.id=s,this.life=0,this.opacity=1};r.prototype.draw=function(){this.x+=this.vx,this.y+=this.vy,this.vy+=a.gravity*Math.random(),this.life+=1,this.opacity-=.02,(this.life>a.maxLife||this.y>=window.innerHeight)&&delete i.InstanceState.oreParticles[this.id];t.getRandomNum(150,200);e.particlesCanvasContext.beginPath(),e.particlesCanvasContext.fillStyle="rgba( 255, 255, 255, ".concat(this.opacity," )"),e.particlesCanvasContext.arc(this.x,this.y,this.size,0,2*Math.PI,!0),e.particlesCanvasContext.closePath(),e.particlesCanvasContext.fill()};
},{"./utils":"GUxD","./constants":"FCax","./State":"ibrd"}],"UmE0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateRisingText=exports.types=void 0;var e,t=require("./utils"),n=require("./constants"),o=require("./State");!function(e){e.BUY="buy",e.WEAK_SPOT="weakSpot",e.COMBO="combo",e.COMBO_LOSS="comboLoss",e.BUILDING_OPS="buildingOps",e.HULK_SMASH="hulkSmash",e.WEAK_SPOT_HULK_SMASH="weakSpotHulkSmash",e.COMBO_SHIELD="comboShield",e.HOT_SWAPPABLE="hotSwappable",e.QUEST_COMPLETE="questComplete",e.QUEST_FAILED="questFailed",e.MANUAL_ATTACK="manualAttack",e.MANUAL_ATTACK_CRIT="manualAttackCrit",e.MANUAL_ATTACK_MISS="manualAttackMiss",e.IDLE_ATTACK_MISS_FROM_HERO="idleAttackMissFromHero",e.IDLE_ATTACK_MISS_FROM_BOSS="idleAttackMissFromBoss",e.IDLE_ATTACK_FROM_HERO="idleAttackFromHero",e.IDLE_ATTACK_FROM_BOSS="idleAttackFromBoss",e.RAVENOUS_STRIKES="ravenousStrikes",e.HEAL="heal",e.GOLD_NUGGET="goldNugget",e.GOLD_RUSH="goldRush",e.ORE_RAGE="oreRage",e.ORE_MADNESS="oreMadness",e.RENTAL_BOON="rentalBoon",e.PRINTER_GO_BRR="printerGoBrr"}(e=exports.types||(exports.types={})),exports.generateRisingText=function(s,a,r){if(o.InstanceState.isWindowFocused&&!o.State.settings.hideRisingText){var i=document.createElement("div");switch(i.style.position="absolute",i.style.pointerEvents="none",i.style.color="white",i.style.fontSize="24px",i.style.fontFamily="Germania One",i.style.zIndex="2",i.style.textShadow="0 0 5px rgba(0, 0, 0, .5)",i.style.animation="flyingNumber 2s forwards ease-out",i.innerHTML="+".concat(t.beautifyNumber(r)),a){case e.BUY:i.style.color="crimson",i.style.fontSize="30px",i.innerHTML="-$";break;case e.WEAK_SPOT:i.style.fontSize="28px",i.style.animationDuration="2.5s",i.innerHTML="+".concat(t.beautifyNumber(r));break;case e.COMBO:i.innerHTML="".concat(r," hit combo"),i.style.color=t.getRandomColor(),i.style.fontSize="35px",i.style.animationDuration="3s";break;case e.COMBO_SHIELD:i.innerHTML="COMBO PROTECTED",i.style.animationDuration="4.5s",i.style.color="#00abff";break;case e.BUILDING_OPS:i.style.animation="buildingFlyingNumber 1.2s ease-out";var l=r;o.InstanceState.isRentalBoonActive&&(l*=o.State.stats.rentalBoonMultiplier),o.InstanceState.isPrinterGoBrrActive&&(l*=o.State.stats.printerGoBrrMultiplier),i.innerHTML="+".concat(t.beautifyNumber(l));break;case e.COMBO_LOSS:i.style.color="maroon",i.style.fontSize="30px",i.style.animation="comboLoss 1s linear forwards",i.innerHTML="Combo Loss";break;case e.GOLD_NUGGET:i.style.color="gold",i.style.fontSize="40px";break;case e.GOLD_RUSH:i.style.color="gold",i.innerHTML="Gold Rush",i.style.animationDuration="3s";break;case e.ORE_RAGE:i.style.color="crimson",i.style.textAlign="center",i.style.animationDuration="3s",i.innerHTML="\n                <p class'bold'>ORE RAGE</p>\n                <p>Gain 3x ores per click for 30 seconds</p>\n            ";break;case e.ORE_MADNESS:i.style.animationDuration="3s",i.style.color="crimson",i.style.textAlign="center",i.innerHTML="\n                <p class'bold'>ORE MADNESS</p>\n                <p>Gain 20x ores per click for 10 seconds</p>\n            ";break;case e.RENTAL_BOON:i.style.animationDuration="3s",i.style.color="green",i.style.textAlign="center",i.innerHTML="\n                <p class'bold'>RENTAL BOON</p>\n                <p>Gain ".concat(o.State.stats.rentalBoonMultiplier,"x the OpS for 60s</p>\n            ");break;case e.PRINTER_GO_BRR:i.style.animationDuration="3s",i.style.color="green",i.style.textAlign="center",i.innerHTML="\n                <p class'bold'>PRINTER GO BRRRRRRrrr</p>\n                <p>Gain ".concat(o.State.stats.printerGoBrrMultiplier,"x your OpS for 10s</p>\n            ");break;case e.QUEST_FAILED:case e.QUEST_COMPLETE:var c="";for(var S in r)c+="<p>".concat(t.beautifyNumber(r[S])," ").concat(t.camelToTitle(S),"</p>");i.style.color=a===e.QUEST_COMPLETE?"chartreuse":"red",i.style.animationDuration="3.5s",i.style.textAlign="center",i.innerHTML="\n                <p>".concat(a===e.QUEST_COMPLETE?"QUEST COMPLETE":"QUEST FAILED","</p>\n                <div>\n                    ").concat(a===e.QUEST_COMPLETE?c:"","\n                </div>\n            ");break;case e.MANUAL_ATTACK:i.style.color="red",i.style.animation="flyingNumberShort 1.2s forwards ease-out",i.innerHTML="".concat(t.beautifyNumber(r)," Damage!");break;case e.MANUAL_ATTACK_CRIT:i.style.color="#d37600",i.style.animation="flyingNumberShort 2s forwards ease-out",i.style.fontWeight="bold",i.innerHTML="CRIT!";break;case e.HULK_SMASH:i.style.color="#009f1c",i.style.textAlign="center",i.style.fontSize="40px",i.innerHTML="\n                <p>HULK SMASH</p>\n                <p>+".concat(t.beautifyNumber(r),"</p>\n            ");break;case e.WEAK_SPOT_HULK_SMASH:i.style.color="#009f1c",i.style.textAlign="center",i.style.fontSize="50px",i.style.animationDuration="3.5s",i.innerHTML="\n                    <p>WEAK SPOT HULK SMASH</p>\n                    <p>+".concat(t.beautifyNumber(r),"</p>\n                ");break;case e.HEAL:i.style.color="lime",i.innerHTML=t.getRandomFromArr(["YOU FEEL INVIGORATED","HEALED","HEAL SPELL!"]);break;case e.RAVENOUS_STRIKES:i.style.color="crimson",i.innerHTML=t.getRandomFromArr(["AHHHHHHHHHHHHhhh","RAVENOUS STRIKES!","MO' DAMAGE!"]);break;case e.HOT_SWAPPABLE:i.innerHTML=t.getRandomFromArr(["Hot Swapped!","Pop!","Hot Swap!"]),i.style.animationDuration="3s";break;case e.IDLE_ATTACK_FROM_BOSS:case e.IDLE_ATTACK_FROM_HERO:i.style.fontSize="15px",i.style.animation="flyingNumberShort 1.2s forwards ease-out",i.style.color="red",i.innerHTML="-".concat(t.beautifyNumber(r)," hp");break;case e.IDLE_ATTACK_MISS_FROM_HERO:case e.IDLE_ATTACK_MISS_FROM_BOSS:case e.MANUAL_ATTACK_MISS:i.style.animation="comboLoss 1s linear",i.style.color="red",i.style.fontSize="16px",i.innerHTML="Missed"}if(s){var A=t.getMousePos(s),T=A.x,_=A.y;i.style.left=T+t.getRandomNum(-20,20)+"px",i.style.top=_+t.getRandomNum(-5,5)+"px"}n.pageContainer.append(i);var E=t.getScale();switch(a){case e.BUILDING_OPS:var p=n.oreSpriteEl.getBoundingClientRect();i.style.left=(p.left+p.right)/E/2-i.offsetWidth/2+"px",i.style.top=(p.top+p.bottom)/E/2-30+"px";break;case e.IDLE_ATTACK_MISS_FROM_BOSS:case e.IDLE_ATTACK_FROM_BOSS:var y=t.select(".hero-img").getBoundingClientRect();i.style.left=(y.left+y.right)/E/2-i.offsetWidth/2+"px",i.style.top=y.top/E-10+"px";break;case e.IDLE_ATTACK_MISS_FROM_HERO:case e.IDLE_ATTACK_FROM_HERO:var O=t.select(".boss-img").getBoundingClientRect();i.style.left=(O.left+O.right)/E/2-i.offsetWidth/2+"px",i.style.top=O.top/E-10+"px"}i.addEventListener("animationend",function(){return t.removeEl(i)})}};
},{"./utils":"GUxD","./constants":"FCax","./State":"ibrd"}],"PZUX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instantiateTabs=void 0;var e=require("./utils"),t=require("./State"),a=function(t){this.name=t.name,this.codeName=e.getCodeName(t.name),this.isLocked=t.isLocked,this.hasUpdates=t.hasUpdates||!1},s=[{name:"store",isLocked:!1},{name:"research",isLocked:!0,hasUpdates:!0}];exports.instantiateTabs=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:JSON.parse(localStorage.getItem("tabs"));var i=e.getSave(),o=[];s.forEach(function(e){o.push(new a(e))}),i&&i.tabs.forEach(function(t){var a=e.findObjectByNameInArr(s,t.name);a.isLocked=t.isLocked,a.hasUpdates=t.hasUpdates}),t.State.tabs=o};
},{"./utils":"GUxD","./State":"ibrd"}],"wf64":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.notify=exports.NotifyTypes=void 0;var t,e=require("./constants"),o=require("./Sounds"),i=require("./utils");!function(t){t.DEFAULT="default",t.ERROR="error"}(t=exports.NotifyTypes||(exports.NotifyTypes={})),exports.notify=function(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT,r=i.getUUID(),a=i.createEl("div",["notification"],n);a.dataset.notificationUuid=r,e.gameContainer.append(a),a.getBoundingClientRect(),a.classList.add("show"),s===t.ERROR&&o.playSound(o.SoundNames.notEnough),setTimeout(function(){var t=i.select('[data-notification-uuid="'.concat(r,'"]'));t&&(t.ontransitionend=function(){return i.removeEl(t)},t.classList.remove("show"))},3*e.Time.SECONDS)};
},{"./constants":"FCax","./Sounds":"Crhs","./utils":"GUxD"}],"vNBS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getResearchUpgrade=exports.getRawResearchUpgrade=exports.instantiateResearchUpgrades=exports.unlockResearchUpgrade=exports.ResearchUpgrade=void 0;var e=require("./utils"),s=require("./State"),o=require("./Updates"),a=require("./RisingText"),t=require("./Tooltip"),r=require("./Sounds"),n=require("./index"),c=require("./Notification"),i=require("./interfaces/Research");exports.ResearchUpgrade=function(d){var l,p=this;this.name=d.name,this.codeName=d.codeName||e.getCodeName(d.name),this.desc=d.desc,this.flavorText=d.flavorText||null,this.powerNeeded=d.powerNeeded,this.currentPowerConsumed=d.currentPowerConsumed||0,this.cost=d.cost,this.requires=d.requires||[],this.isLocked=d.isLocked,this.isInProgress=d.isInProgress||!1,this.isNew=null===(l=d.isNew)||void 0===l||l,this.isOwned=d.isOwned||!1,this.isRepeatable=d.isRepeatable||!1,this.isRepeatable&&(this.priceIncrease=d.priceIncrease,this.owned=d.owned||0),this.onComplete=d.onComplete||null,this.isPurchased=d.isPurchased||!1,this.completedOn=d.completedOn||null,this.complete=function(){r.playSound(r.SoundNames.researchCollect),p.completedOn=Date.now(),p.isInProgress=!1,p.isOwned=!0,o.UpdatesState.updateTabContent=!0,o.UpdatesState.updateTabs=!0,s.State.research.currentProgress=0,s.State.research.currentState=i.ResearchStateTypes.IDLE,s.State.research.currentUpgrade=p,p.isRepeatable&&(p.powerNeeded*=p.priceIncrease,p.owned++,p.currentPowerConsumed=0),p.onComplete&&p.onComplete(),s.State.research.currentUpgrade=null},this.start=function(){r.playSound(r.SoundNames.researchUpgradeStart),p.isInProgress=!0,p.startedOn=Date.now(),o.UpdatesState.updateTabContent=!0,o.UpdatesState.updateTabs=!0,o.UpdatesState.updateOres=!0,s.State.research.currentProgress=p.currentPowerConsumed,s.State.research.currentState=i.ResearchStateTypes.IN_PROGRESS,s.State.research.currentUpgrade=p,t.hideTooltip()},this.buy=function(e){return n.spend(p.cost,"refined")?(p.isPurchased=!0,a.generateRisingText(e,a.types.BUY),t.hideTooltip(),o.UpdatesState.updateRefinedOres=!0,!0):(c.notify("Not enough Refined Ores",c.NotifyTypes.ERROR),!1)},this.click=function(o){var t=s.State.researchUpgrades["Hot Swappable"],r=e.select("#start-first-research-tutorial");if(r&&e.removeEl(r,!0),s.State.research.currentState===i.ResearchStateTypes.IDLE||t.isOwned){if(p.isPurchased||p.buy(o)){if(s.State.research.currentUpgrade)a.generateRisingText(o,a.types.HOT_SWAPPABLE),e.findInObjectByMatchingKey(s.State.researchUpgrades,"name",s.State.research.currentUpgrade.name).isInProgress=!1,s.State.research.currentUpgrade.isInProgress=!1;p.start()}}else c.notify("A research is already in progress",c.NotifyTypes.ERROR)},this.removeNew=function(s){p.isNew=!1,s.target.children[1]&&e.removeEl(s.target.children[1])}},exports.unlockResearchUpgrade=function(e,a){var t=s.State.researchUpgrades[e];if(t.isLocked){var r=!0;if(t.requires)for(var n in t.requires)n===a&&(t.requires[n]=!0),!1===t.requires[n]&&(r=!1);r&&(t.isLocked=!1,"research"===s.InstanceState.selectedTab?o.UpdatesState.updateTabContent=!0:(s.State.tabs[1].hasUpdates=!0,o.UpdatesState.updateTabs=!0))}};var d=[{name:"Fragility Spectacles",desc:'Allows you to spot <span class="bold">"weak spots"</span> within the ore.<br/>Hitting the weak spot generates <span class="bold">5x</span> the normal amount.',flavorText:"I can see... I can FIGHT!",powerNeeded:40,cost:0,isLocked:!1,onComplete:function(){n.generateWeakSpot(),exports.unlockResearchUpgrade("Research Power Up"),exports.unlockResearchUpgrade("Watchdog"),exports.unlockResearchUpgrade("20/40 Vision")}},{name:"Quest Board",desc:'<span class="bold">Onwards to adventure!</span> Go on quests to find greater rewards and even <span class="bold italic" style="color: #9300ff">mysterious artifacts</span>!',flavorText:"Fetch quests are the greatest aren't they?",powerNeeded:1e3,cost:1,isLocked:!0,onComplete:function(){n.buildQuestButton()}},{name:"Research Power Up",desc:'Increase maximum <strong>research power</strong> by <span class="bold">50%</span>.',powerNeeded:100,cost:0,isLocked:!0,isRepeatable:!0,priceIncrease:1.9,onComplete:function(){s.State.research.maxPower*=1.5}},{name:"Refinement",desc:'Allows for... <span style="color: gold" class="bold">REFINEMENT!</span>',powerNeeded:3e6,cost:0,isLocked:!0},{name:"Watchdog",desc:'This <strong>ferocious animal</strong> watches over your buildings and makes sure they don\'t slack! <span class="bold">Enables offline gain</span>.<br/>\n            Offline gain is <span class="bold">50%</span> normal speed. <br/>\n            Caps out at <span class=\'bold\'>1 Million</span>.',flavorText:"Bork bork.",powerNeeded:1e3,cost:0,isLocked:!0,onComplete:function(){s.State.stats.oresWhileAwayCap=1e6,exports.unlockResearchUpgrade("Ore Storage"),exports.unlockResearchUpgrade("Spiked Collar"),exports.unlockResearchUpgrade("Doggybag")}},{name:"Ore Storage",desc:'Increases maximum amount of ores gained while away to <span class="bold">1 Billion</span>.',powerNeeded:2e4,cost:0,isLocked:!0,onComplete:function(){s.State.stats.oresWhileAwayCap=1e9,exports.unlockResearchUpgrade("Ore Warehouse")}},{name:"Ore Warehouse",desc:'Increases maximum amount of ores gained while away to <span class="bold">1 Trillion</span>.',powerNeeded:5e5,cost:100,isLocked:!0,onComplete:function(){s.State.stats.oresWhileAwayCap=1e12,exports.unlockResearchUpgrade("Ore Amazon")}},{name:"Ore Amazon",desc:"Takes away maximum cap for ores gained while away.",flavorText:"The Jeff Bezos of Ore",powerNeeded:1e7,cost:500,isLocked:!0,onComplete:function(){s.State.stats.oresWhileAwayCap=1e48}},{name:"Spiked Collar",desc:'This little accessory for your <strong>watchdog</strong> makes it ever more menacing.<br/>Lowers offline production penalty from <span class="bold">50%</span> to <span class="bold">25%</span>',powerNeeded:5e4,cost:0,isLocked:!0,onComplete:function(){s.State.stats.oresWhileAwayPercentPenalty=25,exports.unlockResearchUpgrade("Snipped Ears")}},{name:"Snipped Ears",desc:"DONT DO THIS EVER TO YOUR DOG PLEASE.<br/>Removes offline production penalty.",powerNeeded:5e5,cost:25,isLocked:!0,onComplete:function(){s.State.stats.oresWhileAwayPercentPenalty=0}},{name:"Combo Shield",desc:'Prevents an accidental click on the ore when on a combo. Becomes available again <span class="bold">1 hour</span> after use.',powerNeeded:500,cost:0,isLocked:!0,onComplete:function(){s.State.comboShield.isAvailable=!0,exports.unlockResearchUpgrade("Shield Polish"),n.updateComboSign()}},{name:"Shield Polish",desc:"Decrease the cooldown of your combo shield by <strong>50%</strong>",powerNeeded:5e5,cost:10,isLocked:!0,onComplete:function(){s.State.comboShield.timeBetweenUse*=.5,n.updateComboSign()}},{name:"Hulk Fists",desc:'Why does hulk need hulk fists on top of his fists? Increase <span class="bold">Hulk Smash</span> damage to <span class="bold">150x</span> your normal OpC',powerNeeded:2e4,cost:10,isLocked:!0,onComplete:function(){s.State.skillVars.hulkSmash.damageMultiplier=150,exports.unlockResearchUpgrade("World Breaker Hulk")}},{name:"World Breaker Hulk",desc:'Increase hulk smash damage to <span class="bold">200x</span> your normal OpC',powerNeeded:1e5,cost:50,isLocked:!0,onComplete:function(){s.State.skillVars.hulkSmash.damageMultiplier=200,exports.unlockResearchUpgrade("Immortal Hulk")}},{name:"Immortal Hulk",desc:'Increase hulk smash damage to <span class="bold">300x</span> your normal OpC',powerNeeded:1e6,cost:200,isLocked:!0,onComplete:function(){s.State.skillVars.hulkSmash.damageMultiplier=300}},{name:"Vocal Lessons",desc:'Train your vocal cords to yell and scowl longer. Increase the duration of <strong>Tenant Intimidation</strong> by <span class="bold">30s</span>',powerNeeded:1300,cost:25,isLocked:!0,onComplete:function(){return s.State.skillVars.tenantIntimidation.durationInSeconds+=30}},{name:"Goon Squad",desc:'Get your goons to help rake in that money. Increase <strong>Tenant Intimidation</strong> production multiplier from <span class="bold">200x</span> to <span class="bold">300x</span>.',flavorText:"Squad up!",powerNeeded:5e3,cost:70,isLocked:!0,onComplete:function(){return s.State.skillVars.tenantIntimidation.productionMultiplier+=100}},{name:"Cleric",desc:'2nd job advancement! Increase <strong>heal</strong> percentage from <span class="bold">20%</span> to <span class="bold">40%</span>.',powerNeeded:1e3,cost:10,isLocked:!0,onComplete:function(){s.State.skillVars.heal.healAmountPercent=40,exports.unlockResearchUpgrade("Priest")}},{name:"Priest",desc:'3rd job advancement! Increase <strong>heal</strong> percentage from <span class="bold">40%</span> to <span class="bold">65%</span>.',flavorText:"Yes I played Maplestory... How'd you know?",powerNeeded:9e3,cost:30,isLocked:!0,onComplete:function(){s.State.skillVars.heal.healAmountPercent=65,exports.unlockResearchUpgrade("Bishop")}},{name:"Bishop",desc:'4th job advancement! <span class="bold">Heal</span> now <span class="bold">full heals</span>.',flavorText:"Time to spam genesis",powerNeeded:2e4,cost:100,isLocked:!0,onComplete:function(){return s.State.skillVars.heal.healAmountPercent=100}},{name:"Stamina",desc:'Increase the duration of <strong>Ravenous Strikes</strong> by <span class="bold">10 seconds</span>.',powerNeeded:4500,cost:20,isLocked:!0,onComplete:function(){s.State.skillVars.ravenousStrikes.duration+=10,exports.unlockResearchUpgrade("Energy Drink")}},{name:"Energy Drink",desc:'Increase the duration of <strong>Ravenous Strikes</strong> by another <span class="bold">20 seconds</span>.',powerNeeded:66666,cost:66,isLocked:!0,onComplete:function(){s.State.skillVars.ravenousStrikes.duration+=20,exports.unlockResearchUpgrade("Full Moon")}},{name:"Full Moon",desc:'<strong>Ravenous Strikes</strong> now last for the <span class="bold">entire duration</span> of the quest.',powerNeeded:666666,cost:666,isLocked:!0,onComplete:function(){return s.State.skillVars.ravenousStrikes.duration+=1/0}},{name:"Sharpened Claws",desc:'<strong>Ravenous Strikes</strong> deals <span class="bold">200%</span> damage per manual attack.',powerNeeded:1e4,cost:30,isLocked:!0,onComplete:function(){s.State.skillVars.ravenousStrikes.additionalDamagePercent=200,exports.unlockResearchUpgrade("Diamond Tipped Claws")}},{name:"Diamond Tipped Claws",desc:'<strong>Ravenous Strikes</strong> deals <span class="bold">300%</span> damage per manual attack.',powerNeeded:99e3,cost:100,isLocked:!0,onComplete:function(){return s.State.skillVars.ravenousStrikes.additionalDamagePercent=300}},{name:"Hot Swappable",desc:"Pop and play. Allows swapping between research upgrades. You don't lose your current progress.",flavorText:"r/mk",powerNeeded:3e3,cost:3,isLocked:!0,onComplete:function(){return s.State.gameBooleans.isHotSwappableOwned=!0}},{name:"Crit Damage Up I",desc:'Increase <strong>crit damage multiplier</strong> by <span class="bold">50%</span>',powerNeeded:5e3,cost:0,isLocked:!0,onComplete:function(){s.State.hero.critDamagePercentMultiplier+=50,exports.unlockResearchUpgrade("Crit Damage Up II")}},{name:"Crit Damage Up II",desc:'Increase <strong>crit damage multiplier</strong> by <span class="bold">50%</span>',powerNeeded:1e4,cost:30,isLocked:!0,onComplete:function(){s.State.hero.critDamagePercentMultiplier+=50,exports.unlockResearchUpgrade("Crit Damage Up III")}},{name:"Crit Damage Up III",desc:'Increase <strong>crit damage multiplier</strong> by <span class="bold">100%</span>',powerNeeded:1e4,cost:30,isLocked:!0,onComplete:function(){s.State.hero.critDamagePercentMultiplier+=100}},{name:"Mo Items",desc:'Increase <strong>item drop rate</strong> from <span class="bold">33%</span> to <span class="bold">50%</span>',powerNeeded:5e3,cost:0,isLocked:!0,onComplete:function(){exports.unlockResearchUpgrade("Even Mo Items"),s.State.stats.itemDropChance=50}},{name:"Even Mo Items",desc:'Increase <strong>item drop rate</strong> from <span class="bold">50%</span> to <span class="bold">75%</span>',powerNeeded:3e4,cost:50,isLocked:!0,onComplete:function(){exports.unlockResearchUpgrade("Da Most Items"),s.State.stats.itemDropChance=75}},{name:"Da Most Items",desc:'Chance to drop <span class="bold">2</span> items.',powerNeeded:1e5,cost:200,isLocked:!0,onComplete:function(){return s.State.stats.itemsPerDrop=2}},{name:"Bosscyclopedia",desc:"Allows you to view boss stats in quest menu before completing the boss.",powerNeeded:5e3,cost:30,isLocked:!0,onComplete:function(){return s.State.gameBooleans.isBosscyclopediaOwned=!0}},{name:"Doggybag",desc:'Your doggo will now store up to <span class="bold">1</span> item while away.',powerNeeded:8e3,cost:0,isLocked:!0,onComplete:function(){s.State.gameBooleans.isDoggybagOwned=!0,s.State.stats.maxItemsWhileAway=1,exports.unlockResearchUpgrade("Doggy Satchel")}},{name:"Doggy Satchel",desc:'Your doggo will now store up to <span class="bold">2</span> item while away.',powerNeeded:2e4,cost:30,isLocked:!0,onComplete:function(){s.State.stats.maxItemsWhileAway=2,exports.unlockResearchUpgrade("Doggy Briefcase")}},{name:"Doggy Briefcase",desc:'Your doggo will now store up to <span class="bold">4</span> item while away.',powerNeeded:5e4,cost:100,isLocked:!0,onComplete:function(){s.State.stats.maxItemsWhileAway=4,exports.unlockResearchUpgrade("Iron Doggy Legs")}},{name:"Iron Doggy Legs",desc:'Your doggo will now store up to <span class="bold">6</span> item while away.',powerNeeded:1e5,cost:1e3,isLocked:!0,onComplete:function(){s.State.stats.maxItemsWhileAway=6}},{name:"Leprechaun",desc:"Hands off me lucky charms. Increases the chance of <strong>gold nuggets</strong>.",powerNeeded:3500,cost:0,isLocked:!0,onComplete:function(){s.State.stats.goldNuggetPercentSpawnChance=50}},{name:"Building Expansion",desc:"<strong>Expand the reach</strong> of your buildings.<br/><br/>Allows you to spend refined ores to <strong>upgrade</strong> the level of your buildings for a flat percent increase in its production.",flavorText:"Domain Expansion...",powerNeeded:5e5,cost:100,isLocked:!0,onComplete:function(){s.State.gameBooleans.isBuildingExpansionOwned=!0}},{name:"20/40 Vision",codeName:"2040Vision",desc:"Increase the <strong>size</strong> of your <strong>weak spot</strong> by <strong>10%</strong>.",powerNeeded:15e3,cost:0,isLocked:!0,onComplete:function(){s.State.stats.weakSpotSizeScale=1.1,exports.unlockResearchUpgrade("20/60 Vision")}},{name:"20/60 Vision",codeName:"2060Vision",desc:"Increase the <strong>size</strong> of your <strong>weak spot</strong> by <strong>10%</strong>.",powerNeeded:5e4,cost:0,isLocked:!0,onComplete:function(){s.State.stats.weakSpotSizeScale=1.2,exports.unlockResearchUpgrade("20/100 Vision")}},{name:"20/100 Vision",codeName:"20100Vision",desc:"Increase the <strong>size</strong> of your <strong>weak spot</strong> by <strong>10%</strong>.",powerNeeded:2e5,cost:2,isLocked:!0,onComplete:function(){s.State.stats.weakSpotSizeScale=1.3,exports.unlockResearchUpgrade("Legally Blind")}},{name:"Legally Blind",desc:"How are you even playing this? Increase the <strong>size</strong> of your <strong>weak spot</strong> by <strong>20%</strong>",powerNeeded:5e6,cost:100,isLocked:!0,onComplete:function(){s.State.stats.weakSpotSizeScale=1.5}}];exports.instantiateResearchUpgrades=function(){var o={},a=e.getSave();if(d.forEach(function(e){o[e.name]=new exports.ResearchUpgrade(e)}),a){var t=function(e){var s=a.researchUpgrades[e],t=exports.getRawResearchUpgrade(e);o[e]=new exports.ResearchUpgrade(s);["desc","onComplete"].forEach(function(s){return o[e][s]=t[s]})};for(var r in a.researchUpgrades)t(r)}s.State.researchUpgrades=o},exports.getRawResearchUpgrade=function(s){return e.findObjectByNameInArr(d,s)},exports.getResearchUpgrade=function(e){var o=s.State.researchUpgrades[e];if(o)return o;console.error("Couldn't find research upgrade:",e)};
},{"./utils":"GUxD","./State":"ibrd","./Updates":"owfE","./RisingText":"UmE0","./Tooltip":"JjQV","./Sounds":"Crhs","./index":"KqmS","./Notification":"wf64","./interfaces/Research":"dP0l"}],"XXWm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUpdatedSkillDesc=exports.resetSkillTree=exports.instantiateSkills=exports.getSkillByName=exports.ActiveSkillState=void 0;var n,e=require("./utils"),s=require("./State"),a=require("./Tooltip"),o=require("./constants"),i=require("./index"),t=require("./ResearchUpgrades"),l=require("./Buildings");!function(n){n.AVAILABLE="available",n.ACTIVE="active",n.ON_COOLDOWN="onCooldown"}(n=exports.ActiveSkillState||(exports.ActiveSkillState={}));var p=function(t){var l=this;this.id=t.id,this.name=t.name,this.codeName=e.getCodeName(t.name),this.skillType=t.skillType||"passive","active"===t.skillType&&(this.skillCooldown=t.skillCooldown,this.skillCurrentCooldown=t.skillCurrentCooldown||null,this.activeSkillState=t.activeSkillState||n.AVAILABLE),this.desc=t.desc,this.flavorText=t.flavorText||null,this.skillSize=t.skillSize,this.position=t.position,this.unlocks=t.unlocks||[],this.onUnlock=t.onUnlock,this.isLocked=!1!==t.isLocked,this.isOwned=t.isOwned||!1,this.el=t.el||null,this.mousemove=function(n){a.showTooltip(n,{type:a.TooltipTypes.SKILL,skill:l})},this.click=function(n){l.isLocked||l.isOwned||s.State.generation.sp>0&&(s.State.generation.sp-=1,o.generationHeaderPointsEl.innerHTML=s.State.generation.sp+"",l.isOwned=!0,l.el.classList.add("skill-owned"),l.onUnlock&&l.onUnlock(),l.unlocks.forEach(function(n){var a=Object.values(s.State.skills).find(function(e){return e.id===n});a.isLocked=!1,e.select(".skill-".concat(n)).classList.remove("skill-locked");var o=[l.id,n].sort(),i=e.select(".skill-line-".concat(o[0],"-").concat(o[1]));i.classList.remove("locked"),a.isOwned&&i.classList.add("owned")}),i.updateOPC())}},r=[{id:1,name:"Blessings of the Ore God",desc:"Unlock equipments tab.<br/>Equips now drop from item bags.<br/>Gain a global bonus of <span>5%</span> on all sources of ore income.",flavorText:"The Ore God blesses you. You feel weird...",skillSize:"large",position:{x:0,y:.5},unlocks:[2,9,36,64],onUnlock:function(){return i.updateBonuses("permanent","globalPercentBonus",5)},isLocked:!1},{id:2,name:"Flat OpC Up",desc:"Increase OpC by <span>1</span>",skillSize:"small",position:{x:.4,y:-1},unlocks:[1,3],onUnlock:function(){i.updateBonuses("permanent","flatOpCBonus",1)}},{id:3,name:"Flat OpC Up",desc:"Increase OpC by <span>1</span>",skillSize:"small",position:{x:.53,y:-1.5},unlocks:[2,4],onUnlock:function(){i.updateBonuses("permanent","flatOpCBonus",1)}},{id:4,name:"Flat OpC Up",desc:"Increase OpC by <span>1</span>",skillSize:"small",position:{x:.66,y:-2},unlocks:[3,5,15],onUnlock:function(){i.updateBonuses("permanent","flatOpCBonus",1)}},{id:5,name:"Flat OpC Up",desc:"Increase OpC by <span>1</span>",skillSize:"small",position:{x:1.5,y:-2},unlocks:[4,6,25],onUnlock:function(){i.updateBonuses("permanent","flatOpCBonus",1)}},{id:6,name:"Flat OpC Up",desc:"Increase OpC by <span>1</span>",skillSize:"small",position:{x:1.35,y:-1.5},unlocks:[5,7],onUnlock:function(){i.updateBonuses("permanent","flatOpCBonus",1)}},{id:7,name:"Minecrafter",desc:"Base pickaxe on refine starts with <span>20</span> damage",flavorText:"Diggy diggy hole.",skillSize:"large",position:{x:1.1,y:-.7},unlocks:[6],onUnlock:function(){i.equipItem(i.getBasePickaxe())}},{id:9,name:"Percent OpC Up",desc:"Increase OpC by <span>1%</span>",skillSize:"small",position:{x:-.4,y:-1},unlocks:[1,10],onUnlock:function(){i.updateBonuses("permanent","percentOpCBonus",1)}},{id:10,name:"Percent OpC Up",desc:"Increase OpC by <span>1%</span>",skillSize:"small",position:{x:-.53,y:-1.5},unlocks:[9,11],onUnlock:function(){i.updateBonuses("permanent","percentOpCBonus",1)}},{id:11,name:"Percent OpC Up",desc:"Increase OpC by <span>1%</span>",skillSize:"small",position:{x:-.66,y:-2},unlocks:[10,12,16],onUnlock:function(){i.updateBonuses("permanent","percentOpCBonus",1)}},{id:12,name:"Percent OpC Up",desc:"Increase OpC by <span>1%</span>",skillSize:"small",position:{x:-1.5,y:-2},unlocks:[11,13,20],onUnlock:function(){i.updateBonuses("permanent","percentOpCBonus",1)}},{id:13,name:"Percent OpC Up",desc:"Increase OpC by <span>1%</span>",skillSize:"small",position:{x:-1.35,y:-1.5},unlocks:[12,14],onUnlock:function(){i.updateBonuses("permanent","percentOpCBonus",1)}},{id:14,name:"Too the Moon",desc:"Increase OpC by <span>5%</span>",flavorText:"Bagholding GME... who's with me.",skillSize:"large",position:{x:-1.1,y:-.7},unlocks:[13],onUnlock:function(){i.updateBonuses("permanent","percentOpCBonus",5)}},{id:15,name:"Flat OpC Up",desc:"Increase OpC by <span>2</span>",skillSize:"small",position:{x:.53,y:-2.5},unlocks:[4,17,18],onUnlock:function(){i.updateBonuses("permanent","flatOpCBonus",1)}},{id:16,name:"Percent OpC Up",desc:"Increase OpC by <span>1%</span>",skillSize:"small",position:{x:-.53,y:-2.5},unlocks:[11,17,19],onUnlock:function(){i.updateBonuses("permanent","percentOpCBonus",1)}},{id:17,name:"Hulk Smash",skillType:"active",skillCooldown:2*o.Time.HOURS,desc:"Your next click deals <span>".concat(s.State.skillVars.hulkSmash.damageMultiplier,"x</span> your OpC."),flavorText:"Me angry. Me smash.",skillSize:"large",position:{x:0,y:-2},unlocks:[16,15],onUnlock:function(){return t.unlockResearchUpgrade("Hulk Fists")}},{id:18,name:"Flat OpC Up",desc:"Increase OpC by <span>2</span>",skillSize:"small",position:{x:.4,y:-3},unlocks:[15],onUnlock:function(){i.updateBonuses("permanent","flatOpCBonus",2)}},{id:19,name:"Percent OpC Up",desc:"Increase OpC by <span>1%</span>",skillSize:"small",position:{x:-.4,y:-3},unlocks:[16],onUnlock:function(){i.updateBonuses("permanent","percentOpCBonus",1)}},{id:20,name:"Pickaxe Sharpness Up",desc:"Increase all pickaxe sharpness by <span>2%</span>",skillSize:"small",position:{x:-1.35,y:-2.5},unlocks:[12,21,23],onUnlock:function(){i.updatePickaxeBonuses("sharpness",2)}},{id:21,name:"Pickaxe Sharpness Up",desc:"Increase all pickaxe sharpness by <span>2%</span>",skillSize:"small",position:{x:-1.2,y:-3},unlocks:[20,24],onUnlock:function(){i.updatePickaxeBonuses("sharpness",2)}},{id:22,name:"Whetstone",desc:"Increase all pickaxe sharpness by <span>10%</span>",skillSize:"large",position:{x:-.8,y:-4.3},unlocks:[24],onUnlock:function(){i.updatePickaxeBonuses("sharpness",10)}},{id:23,name:"Sharpness Sheathe",desc:"Pickaxe <strong>sharpness</strong> gets a flat <strong>20%</strong> boost",skillSize:"large",position:{x:-2.5,y:-2.5},unlocks:[20]},{id:24,name:"Pickaxe Sharpness Up",desc:"Increase all pickaxe sharpness by <span>2%</span>",skillSize:"small",position:{x:-1.05,y:-3.5},unlocks:[21,22,30],onUnlock:function(){i.updatePickaxeBonuses("sharpness",2)}},{id:25,name:"Pickaxe Hardness Up",desc:"Increase all pickaxe hardness by <span>2%</span>",skillSize:"small",position:{x:1.35,y:-2.5},unlocks:[5,26,29],onUnlock:function(){i.updatePickaxeBonuses("hardness",2)}},{id:26,name:"Pickaxe Hardness Up",desc:"Increase all pickaxe hardness by <span>2%</span>",skillSize:"small",position:{x:1.2,y:-3},unlocks:[25,27],onUnlock:function(){i.updatePickaxeBonuses("hardness",2)}},{id:27,name:"Pickaxe Hardness Up",desc:"Increase all pickaxe hardness by <span>2%</span>",skillSize:"small",position:{x:1.05,y:-3.5},unlocks:[26,28,32],onUnlock:function(){i.updatePickaxeBonuses("hardness",2)}},{id:28,name:"Quenching",desc:"Increase all pickaxe hardness by <span>10%</span>",skillSize:"large",position:{x:.8,y:-4.3},unlocks:[27],onUnlock:function(){i.updatePickaxeBonuses("hardness",10)}},{id:29,name:"Hardness Sheathe",desc:"Pickaxe <strong>Hardness</strong> gets a flat <strong>20%</strong> boost",skillSize:"large",position:{x:2.5,y:-2.5},unlocks:[25]},{id:30,name:"OpS as OpC",desc:"Gain <span>1%</span> of your OpS as OpC",skillSize:"small",position:{x:-.5,y:-3.7},unlocks:[24,31],onUnlock:function(){i.updateBonuses("permanent","percentOpSToOpCBonus",1)}},{id:31,name:"OpS as OpC",desc:"Gain <span>1%</span> of your OpS as OpC",skillSize:"small",position:{x:0,y:-3.9},unlocks:[30,32,33],onUnlock:function(){i.updateBonuses("permanent","percentOpSToOpCBonus",1)}},{id:32,name:"OpS as OpC",desc:"Gain <span>1%</span> of your OpS as OpC",skillSize:"small",position:{x:.5,y:-3.7},unlocks:[27,31],onUnlock:function(){i.updateBonuses("permanent","percentOpSToOpCBonus",1)}},{id:33,name:"OpS as OpC",desc:"Gain <span>1%</span> of your OpS as OpC",skillSize:"small",position:{x:0,y:-4.6},unlocks:[31,34],onUnlock:function(){i.updateBonuses("permanent","percentOpSToOpCBonus",1)}},{id:34,name:"OpS as OpC",desc:"Gain <span>1%</span> of your OpS as OpC",skillSize:"small",position:{x:-0,y:-5.4},unlocks:[33,35],onUnlock:function(){i.updateBonuses("permanent","percentOpSToOpCBonus",1)}},{id:35,name:"Share the Wealth",desc:"Gain <span>5%</span> of your OpS as OpC",skillSize:"large",position:{x:0,y:-6.5},unlocks:[34],onUnlock:function(){i.updateBonuses("permanent","percentOpSToOpCBonus",5)}},{id:36,name:"Flat OpS Up",desc:"Increase OpS by <span>2</span>",skillSize:"small",position:{x:-.8,y:1.04},unlocks:[1,37],onUnlock:function(){i.updateBonuses("permanent","flatOpSBonus",2)}},{id:37,name:"Flat OpS Up",desc:"Increase OpS by <span>2</span>",skillSize:"small",position:{x:-1.5,y:1.5},unlocks:[36,38],onUnlock:function(){i.updateBonuses("permanent","flatOpSBonus",2)}},{id:38,name:"Flat OpS Up",desc:"Increase OpS by <span>2</span>",skillSize:"small",position:{x:-2.2,y:1.96},unlocks:[37,39,43],onUnlock:function(){i.updateBonuses("permanent","flatOpSBonus",2)}},{id:39,name:"Starter Schools",desc:"Start off with <span>3</span> free schools",skillSize:"small",position:{x:-2.7,y:1.2},unlocks:[38,40,47],onUnlock:function(){i.gainBuildingFree("School",3)}},{id:40,name:"More Starter Schools",desc:"Start off with <span>3</span> more free schools",skillSize:"small",position:{x:-3.15,y:.5},unlocks:[39,41],onUnlock:function(){i.gainBuildingFree("School",3)}},{id:41,name:"Even More Starter Schools",desc:"Start off with <span>4</span> more free schools",skillSize:"small",position:{x:-2.5,y:.08},unlocks:[40,42],onUnlock:function(){i.gainBuildingFree("School",4)}},{id:42,name:"Educated",desc:"Start off with <span>10</span> more free schools.<br/>Increase school production multiplier by <span>200%</span>",flavorText:"Call me Pointdexter",skillSize:"large",position:{x:-2,y:.8},unlocks:[41],onUnlock:function(){i.gainBuildingFree("School",10),l.increaseBuildingProductionMultiplier("School",2,!0)}},{id:43,name:"Quarry Buffer",desc:"Increase Quarry production multiplier by 50%",skillSize:"small",position:{x:-1.7,y:2.7},unlocks:[38,44,48],onUnlock:function(){l.increaseBuildingProductionMultiplier("Quarry",.5,!0)}},{id:44,name:"Quarry Buffer",desc:"Increase Quarry production multiplier by 50%",skillSize:"small",position:{x:-1.15,y:3.5},unlocks:[43,45],onUnlock:function(){l.increaseBuildingProductionMultiplier("Quarry",.5,!0)}},{id:45,name:"Quarry Buffer",desc:"Increase Quarry production multiplier by 50%",skillSize:"small",position:{x:-.5,y:3.08},unlocks:[44,46],onUnlock:function(){l.increaseBuildingProductionMultiplier("Quarry",.5,!0)}},{id:46,name:"Ore-Sniffing Doggies",desc:"Increase Quarry production multiplier by 150%",skillSize:"large",position:{x:-1,y:2.3},unlocks:[45],onUnlock:function(){l.increaseBuildingProductionMultiplier("Quarry",1.5,!0)}},{id:47,name:"Flat OpS Up",desc:"Increase OpS by <span>10</span>",skillSize:"small",position:{x:-3,y:1.7},unlocks:[39,49],onUnlock:function(){i.updateBonuses("permanent","flatOpSBonus",1)}},{id:48,name:"Flat OpS Up",desc:"Increase OpS by <span>10</span>",skillSize:"small",position:{x:-2.28,y:2.7},unlocks:[43,49],onUnlock:function(){i.updateBonuses("permanent","flatOpSBonus",1)}},{id:49,name:"Tenant Intimidation",skillType:"active",skillCooldown:2*o.Time.HOURS,desc:"For <span>".concat(s.State.skillVars.tenantIntimidation.durationInSeconds," seconds</span>, every building production multiplier is increased by <span>").concat(s.State.skillVars.tenantIntimidation.productionMultiplier,"%</span>"),skillSize:"large",position:{x:-2.9,y:2.42},unlocks:[47,48,50],onUnlock:function(){t.unlockResearchUpgrade("Vocal Lessons"),t.unlockResearchUpgrade("Goon Squad")}},{id:50,name:"All Buildings Percent OpS Up",desc:"Increase every building OpS by <span>1%</span>",skillSize:"small",position:{x:-3.6,y:2.83},unlocks:[49,52,53,60],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",1)}},{id:51,name:"All Buildings Percent OpS Up",desc:"Increase every building OpS by <span>1%</span>",skillSize:"small",position:{x:-4.3,y:3.24},unlocks:[61,63],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",1)}},{id:52,name:"All Buildings Percent OpS Up",desc:"Increase every building OpS by <span>1%</span>",skillSize:"small",position:{x:-4,y:2.2},unlocks:[50,54],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",1)}},{id:53,name:"All Buildings Percent OpS Up",desc:"Increase every building OpS by <span>1%</span>",skillSize:"small",position:{x:-3.2,y:3.5},unlocks:[50,57],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",1)}},{id:54,name:"All Buildings Percent OpS Up",desc:"Increase every building OpS by <span>1%</span>",skillSize:"small",position:{x:-4.4,y:1.57},unlocks:[52,55],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",1)}},{id:55,name:"All Buildings Percent OpS Up",desc:"Increase every building OpS by <span>1%</span>",skillSize:"small",position:{x:-4.8,y:.94},unlocks:[54,56],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",1)}},{id:56,name:"Join Our Discord",desc:"Increase every building OpS by <span>5%</span>",flavorText:"Shameless plug... I know...",skillSize:"large",position:{x:-5.2,y:.31},unlocks:[55],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",5)}},{id:57,name:"All Buildings Percent OpS Up",desc:"Increase every building OpS by <span>1%</span>",skillSize:"small",position:{x:-2.8,y:4.17},unlocks:[53,58],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",1)}},{id:58,name:"All Buildings Percent OpS Up",desc:"Increase every building OpS by <span>1%</span>",skillSize:"small",position:{x:-2.4,y:4.84},unlocks:[57,59],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",1)}},{id:59,name:"Automata",desc:"Increase every building OpS by <span>5%</span>",flavorText:"Check out my other WIP game Automata on my site!",skillSize:"large",position:{x:-2,y:5.51},unlocks:[58],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",5)}},{id:60,name:"All Buildings Percent OpS Up",desc:"Increase every building OpS by <span>1%</span>",skillSize:"small",position:{x:-4.65,y:2.7},unlocks:[50,62],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",1)}},{id:61,name:"All Buildings Percent OpS Up",desc:"Increase every building OpS by <span>1%</span>",skillSize:"small",position:{x:-4,y:3.8},unlocks:[51,62],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",1)}},{id:62,name:"All Buildings Percent OpS Up",desc:"Increase every building OpS by <span>1%</span>",skillSize:"small",position:{x:-5.8,y:4.15},unlocks:[60,61],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",1)}},{id:63,name:"Upmost Perfection",desc:"Increase every building OpS by <span>10%</span>",flavorText:"Its... beautiful.",skillSize:"large",position:{x:-4.8,y:3.54},unlocks:[51],onUnlock:function(){i.updateBonuses("permanent","percentOpSBonus",10)}},{id:64,name:"Hero Hp Up",desc:"Increase hero base hp by <span>5</span>",skillSize:"small",position:{x:.9,y:1.2},unlocks:[1,65,66],onUnlock:function(){i.updateHeroBaseStats("hp",5)}},{id:65,name:"Hero Hp Up",desc:"Increase hero hp by <span>10</span>",skillSize:"small",position:{x:1.2,y:.8},unlocks:[64,69],onUnlock:function(){i.updateHeroBaseStats("hp",10)}},{id:66,name:"Hero Hp Up",desc:"Increase hero hp by <span>10</span>",skillSize:"small",position:{x:.6,y:1.6},unlocks:[64,68],onUnlock:function(){i.updateHeroBaseStats("hp",10)}},{id:67,name:"Heal",skillType:"quest-active",desc:"Once per bossfight, you can heal your hero for <span>".concat(s.State.skillVars.heal.healAmountPercent,"%</span>"),skillSize:"large",position:{x:2,y:2},unlocks:[68,69],onUnlock:function(){t.unlockResearchUpgrade("Cleric")}},{id:68,name:"Hero Strength Up",desc:"Increase hero strength by <span>3</span>",skillSize:"small",position:{x:1.2,y:1.775},unlocks:[66,67,76],onUnlock:function(){i.updateHeroBaseStats("strength",3)}},{id:69,name:"Hero Armor Up",desc:"Increase hero armor by <span>3</span>",skillSize:"small",position:{x:1.545,y:1.3},unlocks:[65,67,70],onUnlock:function(){i.updateHeroBaseStats("armor",3)}},{id:70,name:"Hero Armor Up",desc:"Increase hero armor by <span>5</span>",skillSize:"small",position:{x:2.5,y:1.3},unlocks:[69,71,73],onUnlock:function(){i.updateHeroBaseStats("armor",10)}},{id:71,name:"Hero Armor Up",desc:"Increase hero armor by <span>5</span>",skillSize:"small",position:{x:3,y:1.3},unlocks:[70,72,73],onUnlock:function(){i.updateHeroBaseStats("armor",10)}},{id:72,name:"Beefy Boi",desc:"Increase hero armor by <span>30</span><br/>Increase hero hp by <span>100</span>",flavorText:"Oh he beefy alright.",skillSize:"large",position:{x:3.8,y:1.3},unlocks:[71],onUnlock:function(){i.updateHeroBaseStats("armor",3)}},{id:73,name:"Boots of Speed",desc:"Increase hero speed by <span>10</span><br/>",skillSize:"small",position:{x:2.75,y:1},unlocks:[70,71,74],onUnlock:function(){i.updateHeroBaseStats("speed",5)}},{id:74,name:"Boots of Swiftness",desc:"Increase hero speed by <span>20</span><br/>",skillSize:"small",position:{x:2.75,y:.65},unlocks:[73,75],onUnlock:function(){i.updateHeroBaseStats("speed",10)}},{id:75,name:"Boots of Mobility",desc:"Increase hero speed by <span>30</span><br/>",flavorText:"Hardstuck D4?",skillSize:"large",position:{x:3.2,y:.2},unlocks:[74],onUnlock:function(){i.updateHeroBaseStats("speed",30)}},{id:76,name:"Hero Strength Up",desc:"Increase hero strength by <span>3</span>",skillSize:"small",position:{x:1.2,y:2.72},unlocks:[68,80],onUnlock:function(){i.updateHeroBaseStats("strength",3)}},{id:77,name:"Blood Rush",desc:"Increase hero strength by <span>40</span>",flavorText:"AHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH",skillSize:"large",position:{x:1.2,y:3.22},unlocks:[81],onUnlock:function(){i.updateHeroBaseStats("strength",40)}},{id:78,name:"Hero Strength Up",desc:"Increase hero strength by <span>3</span>",skillSize:"small",position:{x:1.2,y:3.72},unlocks:[79,80,81],onUnlock:function(){i.updateHeroBaseStats("strength",3)}},{id:79,name:"Ravenous Strikes",skillType:"quest-active",desc:"for ".concat(s.State.skillVars.ravenousStrikes.duration," seconds, all manual strikes towards the boss deals an additional <span>").concat(s.State.skillVars.ravenousStrikes.additionalDamagePercent,"%</span> damage."),skillSize:"large",position:{x:1.2,y:4.5},unlocks:[78],onUnlock:function(){t.unlockResearchUpgrade("Stamina"),t.unlockResearchUpgrade("Sharpened Claws")}},{id:80,name:"Hero Strength Up",desc:"Increase hero strength by <span>3</span>",skillSize:"small",position:{x:1.7,y:3.22},unlocks:[76,78,82],onUnlock:function(){i.updateHeroBaseStats("strength",3)}},{id:81,name:"Hero Strength Up",desc:"Increase hero strength by <span>3</span>",skillSize:"small",position:{x:.7,y:3.22},unlocks:[77,78],onUnlock:function(){i.updateHeroBaseStats("strength",3)}},{id:82,name:"Hero Strength Up",desc:"Increase hero strength by <span>10</span>",skillSize:"small",position:{x:2.3,y:3.22},unlocks:[80,84],onUnlock:function(){i.updateHeroBaseStats("strength",10)}},{id:83,name:"Giant Syndrome",desc:"Increase strength by <span>50</span></br>Increase HP by <span>200</span><br/>Increase armor by <span>50</span>",skillSize:"large",position:{x:2.6,y:2.5},unlocks:[84,86],onUnlock:function(){i.updateHeroBaseStats("strength",50),i.updateHeroBaseStats("hp",200),i.updateHeroBaseStats("armor",50)}},{id:84,name:"Hero Percent Strength Up",desc:"Increase hero strength by <span>5%</span>",skillSize:"small",position:{x:2.6,y:3.22},unlocks:[82,83],onUnlock:function(){i.updateHeroBaseStats("strength",5,!0)}},{id:85,name:"Equilibrium",desc:"Increase all hero stats by <span>10%</span>",skillSize:"large",position:{x:4.5,y:4},unlocks:[87],onUnlock:function(){i.updateHeroBaseStats("agility",10,!0),i.updateHeroBaseStats("armor",10,!0),i.updateHeroBaseStats("attack",10,!0),i.updateHeroBaseStats("dexterity",10,!0),i.updateHeroBaseStats("hp",10,!0),i.updateHeroBaseStats("luck",10,!0),i.updateHeroBaseStats("strength",10,!0)}},{id:86,name:"Hero Percent All Stats Up",desc:"Increase all hero stats by <span>2%</span>",skillSize:"small",position:{x:3.3,y:3.05},unlocks:[83,88],onUnlock:function(){i.updateHeroBaseStats("agility",2,!0),i.updateHeroBaseStats("armor",2,!0),i.updateHeroBaseStats("attack",2,!0),i.updateHeroBaseStats("dexterity",2,!0),i.updateHeroBaseStats("hp",2,!0),i.updateHeroBaseStats("luck",2,!0),i.updateHeroBaseStats("strength",2,!0)}},{id:87,name:"Hero Percent All Stats Up",desc:"Increase all hero stats by <span>2%</span>",skillSize:"small",position:{x:3.8,y:3.45},unlocks:[88,85],onUnlock:function(){i.updateHeroBaseStats("agility",2,!0),i.updateHeroBaseStats("armor",2,!0),i.updateHeroBaseStats("attack",2,!0),i.updateHeroBaseStats("dexterity",2,!0),i.updateHeroBaseStats("hp",2,!0),i.updateHeroBaseStats("luck",2,!0),i.updateHeroBaseStats("strength",2,!0)}},{id:88,name:"Hero Percent All Stats Up",desc:"Increase all hero stats by <span>2%</span>",skillSize:"small",position:{x:3.55,y:3.25},unlocks:[86,87],onUnlock:function(){i.updateHeroBaseStats("agility",2,!0),i.updateHeroBaseStats("armor",2,!0),i.updateHeroBaseStats("attack",2,!0),i.updateHeroBaseStats("dexterity",2,!0),i.updateHeroBaseStats("hp",2,!0),i.updateHeroBaseStats("luck",2,!0),i.updateHeroBaseStats("strength",2,!0)}}];exports.getSkillByName=function(n){return e.findInObjectByMatchingKey(s.State.skills,"name",n)};var c=function(n){var s=e.findObjectByNameInArr(r,n);if(s)return s;console.error("Couldnt find skill:",n)};exports.instantiateSkills=function(){var n={};r.forEach(function(e){var s=new p(e);n[s.name+" "+s.id]=s});var a=e.getSave();if(a){var o=function(e){var s=a.skills[e],o=c(s.name);n[e]=new p(s);["skillCooldown"].forEach(function(s){n[e][s]&&(n[e][s]=o[s])})};for(var i in a.skills)o(i);if(a.onCooldownSkills){var t=[];a.onCooldownSkills.forEach(function(e){var s=n[e.name+" "+e.id];t.push(s)}),s.State.onCooldownSkills=t}}s.State.skills=n},exports.resetSkillTree=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.State,e=0,a={};for(var o in n.skills){n.skills[o].isOwned&&(e+=1)}for(var i in r.forEach(function(n){var e=new p(n);a[e.name+" "+e.id]=e}),n.buildings){var t=n.buildings[i];t.ownedFree=0,t.ownedTotal=0}n.skills=a,n.generation.lv=e,n.generation.sp=e},exports.getUpdatedSkillDesc=function(n){switch(n){case"Tenant Intimidation":return"For <span>".concat(s.State.skillVars.tenantIntimidation.durationInSeconds," seconds</span>, every building production multiplier is increased by <span>").concat(s.State.skillVars.tenantIntimidation.productionMultiplier,"%</span>");case"Hulk Smash":return"Your next click deals <span>".concat(s.State.skillVars.hulkSmash.damageMultiplier,"x</span> your OpC.");default:console.error("Couldnt find skill:",n)}};
},{"./utils":"GUxD","./State":"ibrd","./Tooltip":"JjQV","./constants":"FCax","./index":"KqmS","./ResearchUpgrades":"vNBS","./Buildings":"xBG6"}],"JjQV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.showTooltip=exports.hideTooltip=exports.TooltipTypes=void 0;var t,e=require("./constants"),o=require("./utils"),n=require("./State"),a=require("./ResearchUpgrades"),i=require("./Skills"),l=require("./index");!function(t){t.BUILDING="building",t.BUILDING_UPGRADE="buildingUpgrade",t.RESEARCH_UPGRADE="researchUpgrade",t.UPGRADE="upgrade",t.SKILL="skill",t.ACTIVE_SKILL="activeSkill",t.QUEST_SKILL="questSkill",t.ITEM="item",t.RECAP_ITEM="recapItem",t.ACHIEVEMENT="achievement",t.REFINEMENT="refinement",t.COMBO="combo",t.STAT="stat"}(t=exports.TooltipTypes||(exports.TooltipTypes={})),exports.hideTooltip=function(){e.tooltipWrapperEl.innerHTML="",e.tooltipWrapperEl.classList.remove("visible"),n.InstanceState.tooltipData=null},exports.showTooltip=function(s,r){e.tooltipWrapperEl.classList.add("visible"),n.InstanceState.tooltipData=r;var p="";switch(r.type){case t.BUILDING:var c=r.building,d="max"===n.InstanceState.buyAmount?o.getCurrentMaxAmountAndTotalPriceForBuilding(c).totalPrice:o.getGeometricSequencePrice(c),g="".concat(c.name," ").concat(n.State.gameBooleans.isBuildingExpansionOwned?"<span>[Lv.<strong>".concat(c.buildingLevel,"</strong>]</span>"):"");p+="\n                <div class='tooltip-container tooltip-building tooltip-building-".concat(c.codeName,"'>\n                    <div class='tooltip-top'>\n                        <img src='./images/building-").concat(c.codeName,".png'/>\n                        <div class='tooltip-target-name-container'>\n                            <p class='building-name'>").concat(g,"</p>\n                            <small>[ ").concat(c.name," Production Multiplier: <strong>").concat(c.productionMultiplier+c.permanentProductionMultiplier,"x</strong> ]</small>\n                        </div>\n                        <p class='price' style='").concat(n.State.inventory.ores<d?"color: crimson":"","'>\n                            <img src='./images/ore.png'/>\n                            ").concat(o.beautifyNumber(d),"\n                        </p>\n                    </div>\n                    <div class='tooltip-middle'>\n                        <p>").concat(c.desc,"</p>"),c.ownedTotal>0&&(p+="\n                    <div class='stats'>\n                            <p>Each ".concat(c.name," generates <strong>").concat(o.beautifyNumber(c.production),"</strong> ores per second.</p>\n                            <p><strong>").concat(c.ownedTotal," </strong>").concat(c.ownedTotal>1?"".concat(c.namePlural," are"):"".concat(c.name," is")," generating <strong>").concat(o.beautifyNumber(c.ownedTotal*c.production),"</strong> ores per second.</p>\n                            <p class='building-percentage'>").concat(c.name,"s are currently generating <strong>").concat(o.beautifyNumber(c.percentOfOps),"%</strong> of your total OpS</p>\n                            <p><strong>").concat(o.beautifyNumber(c.amountGenerated),"</strong> ores ").concat(c.amountGeneratedFlavorText.toLowerCase(),".</p>\n                        \n                    </div>")),p+="\n                    </div>\n                    <div class='tooltip-bottom'>\n                        <p>".concat(c.flavorText,"</p>\n                    </div>\n                </div>\n            ");break;case t.BUILDING_UPGRADE:p+="\n                <div class='tooltip-container tooltip-building-upgrade'>\n                    <div class='tooltip-top'>\n                        <h3>Level ".concat(r.building.buildingLevel," ").concat(r.building.name,"</h3>\n                        <p>Refined: <strong>").concat(o.beautifyNumber(r.building.upgradeLevelCost),"</strong></p>\n                    </div>\n                    <div class='tooltip-middle'>\n                        <p>You are currently getting an extra <strong>").concat(r.building.buildingLevel,"%</strong> from ").concat(r.building.namePlural,"</p>\n                    </div>\n                </div>\n            ");break;case t.UPGRADE:p+="\n                <div class='tooltip-container tooltip-upgrade tooltip-upgrade-".concat(r.upgrade.codeName,"'>\n                    <div class='tooltip-top'>\n                        <img src='./images/upgrade-").concat(r.upgrade.codeName,".png'/>\n                        <p>").concat(r.upgrade.name,"</p>\n                        <p class='price' style='").concat(n.State.inventory.ores<r.upgrade.price?"color: crimson":"","'>\n                            <img src='./images/ore.png'/>\n                            ").concat(o.beautifyNumber(r.upgrade.price),"\n                        </p>\n                    </div>\n                    <div class='tooltip-middle'>\n                        <p>").concat(r.upgrade.desc,"</p>\n                    </div>\n                    ").concat(r.upgrade.flavorText?"\n                        <div class='tooltip-bottom'>\n                            <p>".concat(r.upgrade.flavorText,"</p>\n                        </div>\n                    "):"","\n                </div>\n            ");break;case t.RESEARCH_UPGRADE:var m=r.researchUpgrade,v=m.cost>0?"<p class='".concat(m.cost>n.State.inventory.refined?"not-enough":"","'>Refined Ores: <span class='bold'>").concat(m.cost,"</span></p>"):"";p+="\n                <div class='tooltip-container tooltip-researchUpgrade tooltip-researchUpgrade-".concat(m.codeName,"'>\n                    <div class='tooltip-top'>\n                        <img src='./images/researchUpgrade-").concat(m.codeName,".png'/>\n                        <p>").concat(m.name," ").concat(m.isRepeatable?"<small>[repeatable lv.".concat(m.owned," ]</small>"):"","</p>\n                    </div>\n                    <div class='tooltip-middle'>\n                        <p>").concat(m.desc,"</p>\n                        ").concat(!m.isOwned||m.isRepeatable?"<div class='cost'>\n                        <p>Requires:</p>\n                        ".concat(v,"\n                        <p>Power Needed: <span class='bold'>").concat(o.beautifyNumber(m.powerNeeded),"</span></p>\n                    </div>"):"","\n                    </div>\n                    "),m.flavorText&&(p+="\n                    <div class='tooltip-bottom'>\n                        <p>".concat(m.flavorText,"</p>\n                    </div>")),m.isOwned&&!m.isRepeatable&&(p+="<small class='completed-on'>Unlocked: <span class='bold'>".concat(o.msTimeSince(m.completedOn),"</span> ago on <span class='bold'>").concat(o.msToDate(m.completedOn),"</span></small>")),p+="\n                </div>\n            ";break;case t.ACTIVE_SKILL:case t.QUEST_SKILL:case t.SKILL:var u=r.skill,b=u.name;r.type===t.ACTIVE_SKILL&&u.activeSkillState===i.ActiveSkillState.ACTIVE&&(b+=" <small>(In Use)</small>");var E="active"===u.skillType?i.getUpdatedSkillDesc(u.name):u.desc;p+="\n                <div class='tooltip-container skill-tooltip-container'>\n                    <div class='tooltip-top'>\n                        <img src='https://via.placeholder.com/50/'>\n                        <div>\n                            <small class='skill-id'>[ Skill ID: ".concat(u.id," ]</small>\n                            <p class='skill-name'>").concat(b,"</p>\n                        </div>\n                    </div>\n                    <div class='tooltip-middle'>\n                        <p class='skill-type'>[ ").concat(u.skillType," ]</p>\n                        <p>").concat(E,"</p>\n                        ").concat(u.skillCooldown?"<p class='skill-cooldown'>Cooldown: <span>".concat(o.msToTime(u.skillCooldown),"</span></p>"):"","\n                        ").concat(u.skillCurrentCooldown?"<p class='skill-current-cooldown'>Time left: <span>".concat(o.msToTime(u.skillCurrentCooldown),"</span></p>"):"","\n                    </div>\n                    <div class='tooltip-bottom'>\n                        ").concat(u.flavorText?u.flavorText:"","\n                    </div>\n                <div>\n            ");break;case t.RECAP_ITEM:case t.ITEM:var h=r.item,y="pickaxe"===h.type?l.buildPickaxeSprite(h,128):l.buildItemSprite(h,128),T="\n                [".concat(r.type===t.RECAP_ITEM?' <span class="bold">NEW ITEM</span> &nbsp;•&nbsp;':"","\n                ").concat(h.rarity.name," ").concat(h.isArtifact?"":"&nbsp;•&nbsp; Lv.".concat(h.level)," ]\n            ");if(p+="\n                <div class='tooltip-container tooltip-item'>\n                    ".concat(y,"\n                    <div class='tooltip-right'>\n                        <div class='tooltip-item-name'>\n                            <p>").concat(T,"</p>\n                            <h1 class='").concat(h.rarity.name.toLowerCase(),"'>").concat(h.name,"</h1>\n                        </div>\n                        ").concat(l._buildItemStats(h,!1,null,null,r.type!==t.RECAP_ITEM),"\n                    </div>\n                </div>\n            "),r.type===t.RECAP_ITEM){var f=n.State.inventory.equips[h.type];if(f){var S="pickaxe"===f.type?l.buildPickaxeSprite(f,128):l.buildItemSprite(f,128);p+="\n                        <div class='tooltip-container tooltip-item' style='margin-top: 5px'>\n                            ".concat(S,"\n                            <div class='tooltip-right'>\n                                <div class='tooltip-item-name'>\n                                    <p>[ <span class=\"bold\">EQUIPPED ITEM</span> &nbsp;•&nbsp; ").concat(f.rarity.name," &nbsp;•&nbsp; Lv.").concat(f.level," ]</p>\n                                    <h1 class='").concat(f.rarity.name.toLowerCase(),"'>").concat(f.name,"</h1>\n                                </div>\n                                ").concat(l._buildItemStats(f,!1,!0,h,r.type!==t.RECAP_ITEM),"\n                            </div>\n                        </div>\n                    ")}}break;case t.ACHIEVEMENT:var k=r.achievement,x=k.name,I=k.bonusText,W=k.types,C=k.desc,L=k.timeUnlocked,A=!k.isWon,w="";W.forEach(function(t){return w+="[".concat(t,"]")}),A&&(w+='<span class="locked-text"> [LOCKED]</span>'),p="\n                <div class='tooltip-container tooltip-achievement'>\n                    <div class='achievement-name-container'>\n                        <img class=".concat(A&&"locked"," src='https://via.placeholder.com/32/'>\n                        <div>\n                            <small class='achievement-types'>").concat(w,"</small>\n                            <h2 class='achievement-name'>").concat(x,"</h2>\n                        </div>\n                    </div>\n                    ").concat(A?"":"<p class='achievement-desc'>".concat(C,"</p>\n                            ").concat(I?"<div class='achievement-bonuses'><p>".concat(I,"</p></div>"):"","\n                            <p class='achievement-unlocked-on'>Unlocked: <span class='bold'>").concat(o.msTimeSince(L),"</span> ago on <span class='bold'>").concat(o.msToDate(L),"</span></p>"),"\n                </div>\n            ");break;case t.REFINEMENT:p="\n                <div class='tooltip-container tooltip-refinement centered'>\n                    <header>You are currently on <strong>Generation ".concat(n.State.generation.lv,"</strong>.</header>\n                    <div>\n                        <p>You are gaining a global <strong>").concat(n.State.generation.lv*n.State.stats.globalBonusPerGenerationLevel,"%</strong> bonus on all ore gain.</p>\n                        <p>You will gain <strong>").concat(n.State.generation.lvsOnRefine,"</strong> levels on refine.</p>\n                        <p>You need <strong>").concat(o.beautifyNumber(n.State.generation.maxXp-n.State.generation.xp)," xp</strong> to level up.</p>\n                    </div>\n                </div>\n            ");break;case t.COMBO:if(!a.getResearchUpgrade("Combo Shield").isOwned)return void exports.hideTooltip();var R=Date.now()-(n.State.comboShield.lastUsed+n.State.comboShield.timeBetweenUse);p="\n                <div class='tooltip-container tooltip-combo centered'>\n                    <header>Combo Shield: <span class='".concat(n.State.comboShield.isAvailable?"active":"on-cooldown","'>").concat(n.State.comboShield.isAvailable?"ACTIVE":"ON COOLDOWN","</span></header>\n                ").concat(n.State.comboShield.isAvailable?"":"\n                    <div>\n                        <p>Combo Shield comes back in</p>\n                        <p><strong>".concat(o.msToTime(Math.abs(R)),"</strong></p>\n                    </div>\n                "),"\n                </div>\n            ");break;case t.STAT:var N=r.statType,M="";switch(N){case"agility":M="<strong>Agility</strong> increases your <strong>attacks per second (ApS)</strong>.";break;case"armor":M="<strong>Armor</strong> increases your <strong>defense</strong>.";break;case"attack":M="<strong>Attack</strong> increases your <strong>damage</strong>.";break;case"dexterity":M="<strong>Dexterity</strong> increases your <strong>hit chance</strong>.";break;case"hp":M="<strong>HP</strong> increases your <strong>health points</strong>.";break;case"luck":M="<strong>Luck</strong> increases your <strong>dodge chance</strong> and <strong>crit chance</strong>.";break;case"speed":M="<strong>Speed</strong> decreases the <strong>travel duration</strong> during <strong>quests</strong>.";break;case"strength":M="<strong>Strength</strong> increases your <strong>damage</strong>."}p="\n                <div class='tooltip-container tooltip-stat tooltip-stat-".concat(N,"'>\n                    <p>").concat(M,"</p>\n                </div>\n            ");break;default:console.error("no tooltip yet for this type:",r.type)}if(e.tooltipWrapperEl.innerHTML=p,s){var P=s.target,U=o.getAnchorDimensions(P),D=o.getMousePos(s),O=D.x,_=D.y,B=o.getScale();switch(r.type){case t.SKILL:e.tooltipWrapperEl.style.width="375px",e.tooltipWrapperEl.style.top=_-e.tooltipWrapperEl.getBoundingClientRect().height/2+"px",e.tooltipWrapperEl.style.left=U.left-375+"px";var G=e.tooltipWrapperEl.getBoundingClientRect(),q=G.left,H=G.bottom,K=G.top;q<0&&(e.tooltipWrapperEl.style.left=U.right+"px"),H>e.skillTreeWrapperEl.offsetHeight&&(e.tooltipWrapperEl.style.top=_-e.tooltipWrapperEl.offsetHeight+"px"),K<0&&(e.tooltipWrapperEl.style.top=_-U.height+"px");break;case t.ITEM:P=o.select(".equips"),U=o.getAnchorDimensions(P),e.tooltipWrapperEl.style.width="auto",e.tooltipWrapperEl.style.top=_-e.tooltipWrapperEl.getBoundingClientRect().height/B/2+"px",e.tooltipWrapperEl.style.left=U.right-20+"px";break;case t.RECAP_ITEM:e.tooltipWrapperEl.style.zIndex="6",e.tooltipWrapperEl.style.left=O+20+"px",e.tooltipWrapperEl.style.top=_+"px";break;case t.ACTIVE_SKILL:P=o.select(".skill-bar"),e.tooltipWrapperEl.style.left=P.offsetLeft-e.tooltipWrapperEl.offsetWidth+20+"px",e.tooltipWrapperEl.style.top=_-e.tooltipWrapperEl.offsetHeight/2+"px";break;case t.QUEST_SKILL:e.tooltipWrapperEl.style.left=U.right+"px",e.tooltipWrapperEl.style.top=_-e.tooltipWrapperEl.offsetHeight+"px";break;case t.ACHIEVEMENT:e.tooltipWrapperEl.style.zIndex="6",e.tooltipWrapperEl.style.top=_+"px",e.tooltipWrapperEl.style.left=O+30+"px";break;case t.REFINEMENT:e.tooltipWrapperEl.style.width="320px",e.tooltipWrapperEl.style.top=_+20+"px",e.tooltipWrapperEl.style.left=O-e.tooltipWrapperEl.offsetWidth/2+"px";break;case t.COMBO:e.tooltipWrapperEl.style.width="auto",e.tooltipWrapperEl.style.top=_+20+"px",e.tooltipWrapperEl.style.left=O-e.tooltipWrapperEl.offsetWidth/2+"px";break;case t.STAT:e.tooltipWrapperEl.style.width="auto",e.tooltipWrapperEl.style.top=_+20+"px",e.tooltipWrapperEl.style.left=O+"px";break;default:e.tooltipWrapperEl.style.width="375px",e.tooltipWrapperEl.style.top=_-e.tooltipWrapperEl.getBoundingClientRect().height/B/2+"px",e.tooltipWrapperEl.style.left=e.gameContainerRight.getBoundingClientRect().left/B-375+"px"}}};
},{"./constants":"FCax","./utils":"GUxD","./State":"ibrd","./ResearchUpgrades":"vNBS","./Skills":"XXWm","./index":"KqmS"}],"noW9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Toast=void 0;var e=require("./State"),t=require("./utils"),n=require("./constants"),s=0;exports.Toast=function(a,i){var c=this,l=t.createEl("div",["toast","toast-".concat(s)]);switch(this.id=s,this.self=l,this.close=function(){c.self.addEventListener("transitionend",function(){t.removeEl(c.self);for(var n=0;n<e.InstanceState.toasts.length;n++){e.InstanceState.toasts[n].id===c.id&&e.InstanceState.toasts.splice(n,1)}if(e.InstanceState.toasts.length<2){var s=t.select(".close-all-button");s&&t.removeEl(s)}}),c.self.classList.add("close")},e.InstanceState.toasts.push(this),s++,setTimeout(function(){c.self&&c.close()},30*n.Time.SECONDS),a){case"achievement":l.classList.add("toast-achievement");var r=t.createEl("svg");r.innerHTML='\n                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x icon-x" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                    <path stroke="none" d="M0 0h24v24H0z"/>\n                    <line x1="18" y1="6" x2="6" y2="18" />\n                    <line x1="6" y1="6" x2="18" y2="18" />\n                </svg>\n            ',r.addEventListener("click",function(){return c.close()}),l.innerHTML="\n                <img src='https://via.placeholder.com/32/'>\n                <div>\n                    <small class='achievement-types'>ACHIEVEMENT UNLOCKED</small>\n                    <h2 class='achievement-name'>".concat(i.name,"</h2>\n                    ").concat(i.bonusText?"<div class='achievement-bonuses'><p>".concat(i.bonusText,"</p></div>"):"","\n                </div>\n            "),l.append(r),n.achievementsAnchorEl.append(l),o();break;case"notification":n.toastsContainerRightEl.append(l);break;default:console.log("type not recognized",a)}};var o=function(){if(!t.select(".close-all-button")&&e.InstanceState.toasts.length>1){var s=t.createEl("div",["close-all-button"]);s.onclick=a,s.innerHTML='\n                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x icon-x" viewBox="0 0 24 24" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                    <path stroke="none" d="M0 0h24v24H0z"/>\n                    <line x1="18" y1="6" x2="6" y2="18" />\n                    <line x1="6" y1="6" x2="18" y2="18" />\n                </svg>\n            ',n.achievementsAnchorEl.append(s),n.achievementsAnchorEl.getBoundingClientRect(),s.classList.add("visible")}},a=function(){e.InstanceState.toasts.forEach(function(e){e.close()}),t.removeEl(t.select(".close-all-button"))};
},{"./State":"ibrd","./utils":"GUxD","./constants":"FCax"}],"gTrx":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.AchievementTypes=void 0,function(e){e.DEFAULT="achievement",e.COMBO="combo achievement",e.OPC="opc achievement",e.OPS="ops achievement",e.QUEST="quest achievement",e.HERO="hero achievement",e.GENERATION="generation achievement",e.GOLD_NUGGET="gold nugget achievement",e.WTF="wtf achievement",e.BUILDING="building achievement",e.ITEM="item achievement",e.MISC="misc achievement"}(e=exports.AchievementTypes||(exports.AchievementTypes={}));
},{}],"hm8n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.churchAchievements=void 0;var e=require("../../Buildings"),n=require("../types"),c="Church",s="Churches";exports.churchAchievements=[{types:[n.AchievementTypes.BUILDING],name:"Church I",desc:'Own <span class="bold">100</span> '.concat(s),bonusText:"Increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Church II",desc:'Own <span class="bold">300</span> '.concat(s),bonusText:"Increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Church III",desc:'Own <span class="bold">500</span> '.concat(s),bonusText:"Increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Church IV",desc:'Own <span class="bold">700</span> '.concat(s),bonusText:"Increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Church V",desc:'Own <span class="bold">1000</span> '.concat(s),bonusText:"Increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Enlightened",desc:'Enlighten <span class="bold">1 Billion</span> ores in a single run.'},{types:[n.AchievementTypes.BUILDING],name:"Pastor",desc:'Reach level <span class"bold">10</span> on '.concat(s),bonusText:"Permanently increase ".concat(c," base production by 300%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,3,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Minister",desc:'Reach level <span class"bold">30</span> on '.concat(s),bonusText:"Permanently increase ".concat(c," base production by 300%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,4,!0)}}];
},{"../../Buildings":"xBG6","../types":"gTrx"}],"im5Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cryptAchievements=void 0;var e=require("../../Buildings"),n=require("../types"),s="Crypt",t="Crypts";exports.cryptAchievements=[{types:[n.AchievementTypes.BUILDING],name:"Crypt I",desc:'Own <span class="bold">100</span> '.concat(t),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Crypt II",desc:'Own <span class="bold">300</span> '.concat(t),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Crypt III",desc:'Own <span class="bold">500</span> '.concat(t),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Crypt IV",desc:'Own <span class="bold">700</span> '.concat(t),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Crypt V",desc:'Own <span class="bold">1000</span> '.concat(t),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Raised",desc:'Raise <span class="bold">100 Million</span> ores in a single run.'},{types:[n.AchievementTypes.BUILDING],name:"Graveserf",desc:'Reach level <span class"bold">10</span> on '.concat(t),bonusText:"Permanently increase ".concat(s," base production by 300%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,3,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Gravelord",desc:'Reach level <span class"bold">30</span> on '.concat(t),bonusText:"Permanently increase ".concat(s," base production by 300%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,3,!0)}}];
},{"../../Buildings":"xBG6","../types":"gTrx"}],"OB2B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.factoryAchievements=void 0;var e=require("../../Buildings"),n=require("../types"),c="Factory",t="Factories";exports.factoryAchievements=[{types:[n.AchievementTypes.BUILDING],name:"Factory I",desc:'Own <span class="bold">100</span> '.concat(t),bonusText:"Permanently increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Factory II",desc:'Own <span class="bold">300</span> '.concat(t),bonusText:"Permanently increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Factory III",desc:'Own <span class="bold">500</span> '.concat(t),bonusText:"Permanently increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Factory IV",desc:'Own <span class="bold">700</span> '.concat(t),bonusText:"Permanently increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Factory V",desc:'Own <span class="bold">1000</span> '.concat(t),bonusText:"Permanently increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Manufactured",desc:'Manufacture <span class="bold">10 Billion</span> ores in a single run.'},{types:[n.AchievementTypes.BUILDING],name:"Foreman",desc:'Reach level <span class"bold">10</span> on '.concat(t),bonusText:"Permanently increase ".concat(c," base production by 400%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,4,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Overseer",desc:'Reach level <span class"bold">30</span> on '.concat(t),bonusText:"Permanently increase ".concat(c," base production by 400%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,4,!0)}}];
},{"../../Buildings":"xBG6","../types":"gTrx"}],"XpJL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.farmAchievements=void 0;var e=require("../../Buildings"),n=require("../types"),s="Farm",c="Farms";exports.farmAchievements=[{types:[n.AchievementTypes.BUILDING],name:"Farm I",desc:'Own <span class="bold">100</span> '.concat(c),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Farm II",desc:'Own <span class="bold">300</span> '.concat(c),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Farm III",desc:'Own <span class="bold">500</span> '.concat(c),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Farm IV",desc:'Own <span class="bold">700</span> '.concat(c),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Farm V",desc:'Own <span class="bold">1000</span> '.concat(c),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Harvested",desc:'Educate <span class="bold">10 Million</span> ores in a single run.'},{types:[n.AchievementTypes.BUILDING],name:"Botanist",desc:'Reach level <span class"bold">10</span> on '.concat(c),bonusText:"Permanently increase ".concat(s," base production by 500%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Biologist",desc:'Reach level <span class"bold">30</span> on '.concat(c),bonusText:"Permanently increase ".concat(s," base production by 500%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,5,!0)}}];
},{"../../Buildings":"xBG6","../types":"gTrx"}],"VEuc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hospitalAchievements=void 0;var e=require("../../Buildings"),n=require("../types"),s="Hospital",i="Hospitals";exports.hospitalAchievements=[{types:[n.AchievementTypes.BUILDING],name:"Hospital I",desc:'Own <span class="bold">100</span> '.concat(i),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier("Hospital",.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Hospital II",desc:'Own <span class="bold">300</span> '.concat(i),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier("Hospital",.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Hospital III",desc:'Own <span class="bold">500</span> '.concat(i),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier("Hospital",.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Hospital IV",desc:'Own <span class="bold">700</span> '.concat(i),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier("Hospital",.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Hospital V",desc:'Own <span class="bold">1000</span> '.concat(i),bonusText:"Permanently increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier("Hospital",.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Healed",desc:'Heal <span class="bold">1 Trillion</span> ores in a single run.'},{types:[n.AchievementTypes.BUILDING],name:"Nurse",desc:'Reach level <span class"bold">10</span> on '.concat(i),bonusText:"Permanently increase ".concat(s," base production by 300%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,3,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Doctor",desc:'Reach level <span class"bold">10</span> on '.concat(i),bonusText:"Permanently increase ".concat(s," base production by 300%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,3,!0)}}];
},{"../../Buildings":"xBG6","../types":"gTrx"}],"yqpT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quarryAchievements=void 0;var e=require("../../Buildings"),n=require("../types"),s="Quarry",c="Quarries";exports.quarryAchievements=[{types:[n.AchievementTypes.BUILDING],name:"Quarry I",desc:'Own <span class="bold">100</span> '.concat(c),bonusText:"Increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Quarry II",desc:'Own <span class="bold">300</span> '.concat(c),bonusText:"Increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Quarry III",desc:'Own <span class="bold">500</span> '.concat(c),bonusText:"Increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Quarry IV",desc:'Own <span class="bold">700</span> '.concat(c),bonusText:"Increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Quarry V",desc:'Own <span class="bold">1000</span> '.concat(c),bonusText:"Increase ".concat(s," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Mined",desc:'Mine <span class="bold">100 Million</span> ores in a single run.'},{types:[n.AchievementTypes.BUILDING],name:"Prospector",desc:'Reach level <span class"bold">10</span> on '.concat(c),bonusText:"Permanently increase ".concat(s," base production by 400%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,4,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Excavator",desc:'Reach level <span class"bold">30</span> on '.concat(c),bonusText:"Permanently increase ".concat(s," base production by 400%"),onWin:function(){return e.increaseBuildingProductionMultiplier(s,4,!0)}}];
},{"../../Buildings":"xBG6","../types":"gTrx"}],"znez":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.schoolAchievements=void 0;var e=require("../../Buildings"),n=require("../types"),c="School",s="Schools";exports.schoolAchievements=[{types:[n.AchievementTypes.BUILDING],name:"School I",desc:'Own <span class="bold">100</span> '.concat(s),bonusText:"Increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"School II",desc:'Own <span class="bold">300</span> '.concat(s),bonusText:"Increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"School III",desc:'Own <span class="bold">500</span> '.concat(s),bonusText:"Increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"School IV",desc:'Own <span class="bold">700</span> '.concat(s),bonusText:"Increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"School V",desc:'Own <span class="bold">1000</span> '.concat(s),bonusText:"Increase ".concat(c," base production by 50%"),onWin:function(){return e.increaseBuildingProductionMultiplier(c,.5,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Educated",desc:'Educate <span class="bold">1 Million</span> ores in a single run.'},{types:[n.AchievementTypes.BUILDING],name:"Principal",desc:'Reach level <span class"bold">10</span> on '.concat(s),bonusText:"Permanently increase ".concat(c,' base production by <span class="bold">2000%</span>'),onWin:function(){return e.increaseBuildingProductionMultiplier(c,20,!0)}},{types:[n.AchievementTypes.BUILDING],name:"Superintendent",desc:'Reach level <span class"bold">30</span> on '.concat(s),bonusText:"Permanently increase ".concat(c,' base production by <span class="bold">5000%</span>'),onWin:function(){return e.increaseBuildingProductionMultiplier(c,50,!0)}}];
},{"../../Buildings":"xBG6","../types":"gTrx"}],"Vct8":[function(require,module,exports) {
"use strict";function e(e){return i(e)||n(e)||t(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(e,r){if(e){if("string"==typeof e)return o(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,r):void 0}}function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function i(e){if(Array.isArray(e))return o(e)}function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildingAchievements=void 0;var c=require("./church"),a=require("./crypt"),u=require("./factory"),s=require("./farm"),l=require("./hospital"),h=require("./quarry"),m=require("./school");exports.buildingAchievements=[].concat(e(m.schoolAchievements),e(s.farmAchievements),e(h.quarryAchievements),e(c.churchAchievements),e(u.factoryAchievements),e(a.cryptAchievements),e(l.hospitalAchievements));
},{"./church":"hm8n","./crypt":"im5Q","./factory":"OB2B","./farm":"XpJL","./hospital":"VEuc","./quarry":"yqpT","./school":"znez"}],"xuBa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.comboAchievements=void 0;var e=require("../State"),s=require("./types");exports.comboAchievements=[{types:[s.AchievementTypes.COMBO],name:"Combo Baby",desc:"Reach a 5 hit combo.",bonusText:'Increase <span class="bold">weak spot multiplier</span> by <span class="bold">.5</span>',onWin:function(){return e.State.stats.weakSpotMultiplier+=.5}},{types:[s.AchievementTypes.COMBO],name:"Combo Pleb",desc:"Reach a 20 hit combo.",bonusText:'Increase <span class="bold">weak spot multiplier</span> by <span class="bold">.5</span>',onWin:function(){return e.State.stats.weakSpotMultiplier+=.5}},{types:[s.AchievementTypes.COMBO],name:"Combo Squire",desc:"Reach a 50 hit combo.",bonusText:'Increase <span class="bold">weak spot multiplier</span> by <span class="bold">1</span>',onWin:function(){return e.State.stats.weakSpotMultiplier+=1}},{types:[s.AchievementTypes.COMBO],name:"Combo Knight",desc:"Reach a 100 hit combo.",bonusText:'Increase <span class="bold">weak spot multiplier</span> by <span class="bold">1</span>',onWin:function(){return e.State.stats.weakSpotMultiplier+=1}},{types:[s.AchievementTypes.COMBO],name:"Combo King",desc:"Reach a 200 hit combo.",bonusText:'Increase <span class="bold">weak spot multiplier</span> by <span class="bold">2</span>',onWin:function(){return e.State.stats.weakSpotMultiplier+=2}},{types:[s.AchievementTypes.COMBO],name:"Combo Master",desc:"Reach a 350 hit combo.",bonusText:'Increase <span class="bold">weak spot multiplier</span> by <span class="bold">2</span>',onWin:function(){return e.State.stats.weakSpotMultiplier+=2}},{types:[s.AchievementTypes.COMBO],name:"Combo Devil",desc:"Reach a 666 hit combo.",bonusText:'Increase <span class="bold">weak spot multiplier</span> by <span class="bold">3</span>',onWin:function(){return e.State.stats.weakSpotMultiplier+=3}},{types:[s.AchievementTypes.COMBO],name:"Combo Jackpot",desc:"Reach a 777 hit combo.",bonusText:'Increase <span class="bold">weak spot multiplier</span> by <span class="bold">3</span>',onWin:function(){return e.State.stats.weakSpotMultiplier+=3}},{types:[s.AchievementTypes.COMBO],name:"Combo God",desc:"Reach a 1000 hit combo.",bonusText:'Increase <span class="bold">weak spot multiplier</span> by <span class="bold">5</span>',onWin:function(){return e.State.stats.weakSpotMultiplier+=5}},{types:[s.AchievementTypes.COMBO],name:"Combo L337",desc:"Reach a 1337 hit combo.",bonusText:'Increase <span class="bold">weak spot multiplier</span> by <span class="bold">5</span>',onWin:function(){return e.State.stats.weakSpotMultiplier+=3}},{types:[s.AchievementTypes.COMBO],name:"Combo Exodus",desc:"Reach a 5000 hit combo.",bonusText:'Increase <span class="bold">weak spot multiplier</span> by <span class="bold">5</span>',onWin:function(){return e.State.stats.weakSpotMultiplier+=5}},{types:[s.AchievementTypes.COMBO],name:"Combo Saiyan",desc:"Reach a 9001 hit combo.",flavorText:"It's over 9000!",bonusText:'Increase <span class="bold">weak spot multiplier</span> by <span class="bold">5</span>',onWin:function(){return e.State.stats.weakSpotMultiplier+=5}},{types:[s.AchievementTypes.COMBO],name:"Combo Saitama",desc:"Reach a 10000 hit combo.",bonusText:'Increase <span class="bold">weak spot multiplier</span> by <span class="bold">5</span>',onWin:function(){return e.State.stats.weakSpotMultiplier+=5}}];
},{"../State":"ibrd","./types":"gTrx"}],"asYD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultAchievements=void 0;var e=require("../State"),n=require("./types");exports.defaultAchievements=[{types:[n.AchievementTypes.DEFAULT],name:"Strike the Earth",desc:"Mine your first ore"},{types:[n.AchievementTypes.DEFAULT],name:"Newbie Miner",desc:'Break your <span class="bold">first</span> rock.',bonusText:'Permanently increase <span class="bold">OpC</span> by <span class="bold">1%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpCBonus+=1}},{types:[n.AchievementTypes.DEFAULT],name:"Novice Miner",desc:'Break <span class="bold">10</span> rocks.',bonusText:'Permanently increase <span class="bold">OpC</span> by <span class="bold">1%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpCBonus+=1}},{types:[n.AchievementTypes.DEFAULT],name:"Intermediate Miner",desc:'Break <span class="bold">25</span> rocks.',bonusText:'Permanently increase <span class="bold">OpC</span> by <span class="bold">2%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpCBonus+=2}},{types:[n.AchievementTypes.DEFAULT],name:"Advanced Miner",desc:'Break <span class="bold">50</span> rocks.',bonusText:'Permanently increase <span class="bold">OpC</span> by <span class="bold">2%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpCBonus+=2}},{types:[n.AchievementTypes.DEFAULT],name:"Master Miner",desc:'Break <span class="bold">100</span> rocks.',bonusText:'Permanently increase <span class="bold">OpC</span> by <span class="bold">3%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpCBonus+=3}},{types:[n.AchievementTypes.DEFAULT],name:"Chief Miner",desc:'Break <span class="bold">200</span> rocks.',bonusText:'Permanently increase <span class="bold">OpC</span> by <span class="bold">3%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpCBonus+=3}},{types:[n.AchievementTypes.DEFAULT],name:"Exalted Miner",desc:'Break <span class="bold">500</span> rocks.',bonusText:'Permanently increase <span class="bold">OpC</span> by <span class="bold">4%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpCBonus+=4}},{types:[n.AchievementTypes.DEFAULT],name:"God Miner",desc:'Break <span class="bold">1000</span> rocks.',bonusText:'Permanently increase <span class="bold">OpC</span> by <span class="bold">5%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpCBonus+=5}},{types:[n.AchievementTypes.DEFAULT],name:"Refinee",desc:"Refine for your first time!"},{types:[n.AchievementTypes.DEFAULT],name:"Refiner",desc:"Refine <strong>10</strong> times."},{types:[n.AchievementTypes.DEFAULT],name:"Refinest",desc:"Refine <strong>100</strong> times."},{types:[n.AchievementTypes.DEFAULT],name:"Weekly",desc:"Play for more than a week",bonusText:'Permanently increase <span class="bold">OpS</span> by <span class="bold">2%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpSBonus+=2}},{types:[n.AchievementTypes.DEFAULT],name:"Monthly",desc:"Play for more than a month",bonusText:'Permanently increase <span class="bold">OpS</span> by <span class="bold">3%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpSBonus+=3}},{types:[n.AchievementTypes.DEFAULT],name:"Yearly",desc:"Play for more than 1 year",bonusText:'Permanently increase <span class="bold">OpS</span> by <span class="bold">5%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpSBonus+=5}}];
},{"../State":"ibrd","./types":"gTrx"}],"uJ2c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.heroAchievements=void 0;var e=require("../index"),t=require("./types");exports.heroAchievements=[{types:[t.AchievementTypes.HERO],name:"It's Personal",desc:"Manually attack 1 times."},{types:[t.AchievementTypes.HERO],name:"Bully",desc:"Manually attack 50 times."},{types:[t.AchievementTypes.HERO],name:"1 on 1",desc:"Manually attack 100 times."},{types:[t.AchievementTypes.HERO],name:"Boxing Gloves",desc:"Land a crit",bonusText:"Permanently increase hero luck by 5",onWin:function(){return e.updateHeroBaseStats("luck",5)}},{types:[t.AchievementTypes.HERO],name:"Headshot",desc:"Land 50 crits",bonusText:"Permanently increase hero luck by 5",onWin:function(){return e.updateHeroBaseStats("luck",5)}},{types:[t.AchievementTypes.HERO],name:"Aimbot",desc:"Land 100 crits",bonusText:"Permanently increase hero luck by 10",onWin:function(){return e.updateHeroBaseStats("luck",10)}},{types:[t.AchievementTypes.HERO],name:"Slippery!",desc:"Dodge 10 hits",bonusText:"Permanently increase hero dex by 5",onWin:function(){return e.updateHeroBaseStats("dexterity",5)}},{types:[t.AchievementTypes.HERO],name:"Wallhacks",desc:"Dodge 50 hits",bonusText:"Permanently increase hero dex by 5",onWin:function(){return e.updateHeroBaseStats("dexterity",5)}},{types:[t.AchievementTypes.HERO],name:"Intuition",desc:"Dodge 100 hits",bonusText:"Permanently increase hero dex by 10",onWin:function(){return e.updateHeroBaseStats("dexterity",10)}},{types:[t.AchievementTypes.HERO],name:"Foggy",desc:"Miss 10 manual attacks"},{types:[t.AchievementTypes.HERO],name:"Groggy",desc:"Miss 50 manual attacks"},{types:[t.AchievementTypes.HERO],name:"Hungover",desc:"Miss 100 manual attacks"},{types:[t.AchievementTypes.HERO],name:"Critical Miss",desc:"Miss 5 manual attacks in a row"},{types:[t.AchievementTypes.HERO],name:"Fast Fingers",desc:"Do 15 manual attacks during a single quest"},{types:[t.AchievementTypes.HERO],name:"Doubletime",desc:"Reach 2 auto attacks per second"},{types:[t.AchievementTypes.HERO],name:"Tripletime",desc:"Reach 3 auto attacks per second"},{types:[t.AchievementTypes.HERO],name:"Quadratime",desc:"Reach 4 auto attacks per second"},{types:[t.AchievementTypes.HERO],name:"Lots of times",flavorText:"No, not pentatimes",desc:"Reach 5 auto attacks per second"},{types:[t.AchievementTypes.HERO],name:"Speed Racer",desc:"Reach 100 agility",bonusText:"Permanently increase agility by 5%",onWin:function(){return e.updateHeroBaseStats("agility",5,!0)}},{types:[t.AchievementTypes.HERO],name:"Thornmail",desc:"Reach 100 armor",bonusText:"Permanently increase armor by 5%",onWin:function(){return e.updateHeroBaseStats("armor",5,!0)}},{types:[t.AchievementTypes.HERO],name:"Arm Day",desc:"Reach 100 attack",bonusText:"Permanently increase attack by 5%",onWin:function(){return e.updateHeroBaseStats("attack",5,!0)}},{types:[t.AchievementTypes.HERO],name:"Prescription Glasses",desc:"Reach 100 dex",bonusText:"Permanently increase dex by 5%",onWin:function(){return e.updateHeroBaseStats("dex",5,!0)}},{types:[t.AchievementTypes.HERO],name:"Chonky Boi",desc:"Reach 1000 hp",bonusText:"Permanently increase hp by 5%",onWin:function(){return e.updateHeroBaseStats("hp",5,!0)}},{types:[t.AchievementTypes.HERO],name:"Rabbits Foot",desc:"Reach 100 luck",bonusText:"Permanently increase luck by 5%",onWin:function(){return e.updateHeroBaseStats("luck",5,!0)}},{types:[t.AchievementTypes.HERO],name:"T1 T1 T1",desc:"Reach 100 strength",bonusText:"Permanently increase strength by 5%",onWin:function(){return e.updateHeroBaseStats("strength",5,!0)}}];
},{"../index":"KqmS","./types":"gTrx"}],"KS8u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.opcAchievements=void 0;var e=require("../State"),n=require("./types");exports.opcAchievements=[{types:[n.AchievementTypes.OPC],name:"Not Even A Scratch",desc:"Deal more than 100 damage from a hit.",bonusText:'Permanently increase <span class="bold">OpC</span> by <span class="bold">2%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpCBonus+=2}},{types:[n.AchievementTypes.OPC],name:"Didnt Even Hurt",desc:"Deal more than 1,000 damage from a hit.",bonusText:'Permanently increase <span class="bold">OpC</span> by <span class="bold">3%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpCBonus+=3}},{types:[n.AchievementTypes.OPC],name:"That Tickled",desc:"Deal more than 100,000 damage from a hit.",bonusText:'Permanently increase <span class="bold">OpC</span> by <span class="bold">4%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpCBonus+=4}},{types:[n.AchievementTypes.OPC],name:"I Felt That",desc:"Deal more than 1,000,000 damage from a hit.",bonusText:'Permanently increase <span class="bold">OpC</span> by <span class="bold">5%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpCBonus+=5}}];
},{"../State":"ibrd","./types":"gTrx"}],"uFhe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.opsAchievements=void 0;var e=require("../State"),n=require("./types");exports.opsAchievements=[{types:[n.AchievementTypes.OPS],name:"Ore-aid Stand",desc:"Reach 50 OpS.",bonusText:'Permanently increase <span class="bold">OpS</span> by <span class="bold">2%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpSBonus+=2}},{types:[n.AchievementTypes.OPS],name:"Ore Store",desc:"Reach 10,000 OpS.",bonusText:'Permanently increase <span class="bold">OpS</span> by <span class="bold">2%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpSBonus+=2}},{types:[n.AchievementTypes.OPS],name:"401k",desc:"Reach 401,000 OpS.",bonusText:'Permanently increase <span class="bold">OpS</span> by <span class="bold">3%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpSBonus+=3}},{types:[n.AchievementTypes.OPS],name:"Retirement Plan",desc:"Reach 5,000,000 OpS.",bonusText:'Permanently increase <span class="bold">OpS</span> by <span class="bold">3%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpSBonus+=3}},{types:[n.AchievementTypes.OPS],name:"Hedge Fund",desc:"Reach 1,000,000,000 OpS.",bonusText:'Permanently increase <span class="bold">OpS</span> by <span class="bold">4%</span>.',onWin:function(){return e.State.bonuses.permanent.percentOpSBonus+=4}}];
},{"../State":"ibrd","./types":"gTrx"}],"rjmZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generationAchievements=void 0;var e=require("./types");exports.generationAchievements=[{types:[e.AchievementTypes.GENERATION],name:"Relatives",desc:"Reach Generation 10"},{types:[e.AchievementTypes.GENERATION],name:"Extended Family",desc:"Reach Generation 20"},{types:[e.AchievementTypes.GENERATION],name:"Family Tree",desc:"Reach Generation 50"},{types:[e.AchievementTypes.GENERATION],name:"Centennial",desc:"Reach Generation 100"},{types:[e.AchievementTypes.GENERATION],name:"Bi-Centennial",desc:"Reach Generation 200"}];
},{"./types":"gTrx"}],"L1gB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./buildings/index"),i=require("./combo"),r=require("./default"),o=require("./hero"),t=require("./opc"),n=require("./ops"),s=require("./generation");exports.default={combo:i.comboAchievements,default:r.defaultAchievements,generation:s.generationAchievements,hero:o.heroAchievements,opc:t.opcAchievements,ops:n.opsAchievements,buildings:e.buildingAchievements};
},{"./buildings/index":"Vct8","./combo":"xuBa","./default":"asYD","./hero":"uJ2c","./opc":"KS8u","./ops":"uFhe","./generation":"rjmZ"}],"ctio":[function(require,module,exports) {
"use strict";function e(e){return s(e)||i(e)||n(e)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return r(e)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAchievementsStats=exports.winAchievement=exports.instantiateAchievements=void 0;var o=require("./utils"),c=require("./Toast"),m=require("./State"),l=require("./Sounds"),u=a(require("./achievements/index")),d=require("./achievements/types"),h=function(e){var t,n=this;this.name=e.name,this.types=e.types,this.codeName=o.getCodeName(e.name),this.desc=e.desc,this.bonusText=e.bonusText||null,this.isWon=e.isWon||!1,this.onWin=e.onWin||null,this.isNew=null===(t=e.isNew)||void 0===t||t,this.timeUnlocked=e.timeUnlocked||null,this.win=function(){n.isWon||(l.playSound(l.SoundNames.winAchievement),n.isWon=!0,n.isNew=!0,n.timeUnlocked=Date.now(),n.onWin&&n.onWin(),new c.Toast("achievement",n))},this.removeNew=function(){n.isNew=!1;var e=o.select(".achievement-".concat(n.codeName)).querySelector(".new");e&&o.removeEl(e,!0)}},p=[].concat(e(u.default.default),e(u.default.generation),e(u.default.combo),e(u.default.opc),e(u.default.ops),e(u.default.buildings),[{types:[d.AchievementTypes.QUEST],name:"XXL Underwear",desc:"Complete the Dirty Basement and defeat Sweaty Dood."},{types:[d.AchievementTypes.QUEST],name:"Corn",desc:"Complete the Dank Sewer and defeat Fecal Mountain."}],e(u.default.hero),[{types:[d.AchievementTypes.GOLD_NUGGET],name:"Rumpelstiltskin",desc:"Click on a gold nugget."},{types:[d.AchievementTypes.GOLD_NUGGET],name:"Gold Finger",desc:"Click 25 gold nuggets."},{types:[d.AchievementTypes.GOLD_NUGGET],name:"Hidden in Plain Sight",desc:"Miss 50 gold nuggets."},{types:[d.AchievementTypes.GOLD_NUGGET],name:"Gold Rushing",desc:"Grab all the nuggets during a gold rush."},{types:[d.AchievementTypes.BUILDING],name:"Slum Lord",desc:"Own more than 100 buildings."},{types:[d.AchievementTypes.BUILDING],name:"Global Lord",desc:"Own more than 3000 buildings overall."},{types:[d.AchievementTypes.BUILDING],name:"Galaxy Lord",desc:"Own more than 10000 buildings overall."},{types:[d.AchievementTypes.ITEM],name:"The Collector I",desc:"Pick up 10 items."},{types:[d.AchievementTypes.ITEM],name:"The Collector II",desc:"Pick up 50 items."},{types:[d.AchievementTypes.ITEM],name:"The Collector III",desc:"Pick up 100 items."},{types:[d.AchievementTypes.ITEM],name:"Trasher I",desc:"Discard 10 items."},{types:[d.AchievementTypes.ITEM],name:"Trasher II",desc:"Discard 50 items."},{types:[d.AchievementTypes.ITEM],name:"Trasher III",desc:"Discard 100 items."},{types:[d.AchievementTypes.MISC],name:"Nice Guy",desc:"Enable Ads",flavorText:"Yay, I get to eat now!"},{types:[d.AchievementTypes.MISC],name:"Disco Discord",desc:"Joined the discord",flavorText:"Or maybe you just clicked on it..."},{types:[d.AchievementTypes.WTF],name:"Can you smell what he's cooking",desc:"Break The Rock."},{types:[d.AchievementTypes.WTF],name:"WTF I",desc:"Click on the left torch 20 times."},{types:[d.AchievementTypes.WTF],name:"WTF II",desc:"Click on the right torch 50 times."}]),y=function(e){var t=o.findObjectByNameInArr(p,e);if(t)return t;console.error("Couldnt find achievement:",e)};exports.instantiateAchievements=function(){var e={};p.forEach(function(t){e[t.name]=new h(t)});var t=o.getSave();if(t){var n=function(n){var i=t.achievements[n],s=y(n);if(!s)return"continue";e[n]=new h(i);["types","desc","bonusText","onWin"].forEach(function(t){return e[n][t]=s[t]})};for(var i in t.achievements)n(i)}m.State.achievements=e},exports.winAchievement=function(e){var t=m.State.achievements[e];t?t.win():console.error("Cannot find achievement:",e)},exports.getAchievementsStats=function(){var e=0,t=Object.keys(m.State.achievements).length;for(var n in m.State.achievements){m.State.achievements[n].isWon&&e++}return{achievementsWon:e,totalAchievements:t,percentageWon:o.beautifyNumber(o.getPercentage(e,t))}};
},{"./utils":"GUxD","./Toast":"noW9","./State":"ibrd","./Sounds":"Crhs","./achievements/index":"L1gB","./achievements/types":"gTrx"}],"CODg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.schoolUpgrades=void 0;var o=require("../Buildings"),e="School";exports.schoolUpgrades=[{name:"Composition Notebooks",desc:"Increase base production of <strong>Schools</strong> by <strong>100%</strong>",flavorText:"College ruled!",type:"building",building:e,tier:1,onBuy:function(){o.increaseBuildingProductionMultiplier("School",1,!1)}},{name:"No. 2 Pencil",desc:"Increase base production of <strong>Schools</strong> by <strong>100%</strong>",flavorText:"Test ready!",type:"building",building:e,tier:2,onBuy:function(){o.increaseBuildingProductionMultiplier("School",1,!1)}},{name:"3 Ring Binder",desc:"Increase base production of <strong>Schools</strong> by <strong>100%</strong>",flavorText:'Be the Lord of the Rings with our new 2.5" binder!',type:"building",building:e,tier:3,onBuy:function(){o.increaseBuildingProductionMultiplier("School",1,!1)}},{name:"Looseleaf",desc:"Increase base production of <strong>Schools</strong> by <strong>100%</strong>",flavorText:'"Can I borrow a sheet?"',type:"building",building:e,tier:4,onBuy:function(){o.increaseBuildingProductionMultiplier("School",1,!1)}},{name:"Schoolbag",desc:"Increase base production of <strong>Schools</strong> by <strong>100%</strong>",flavorText:"Break your back carrying on of these stylish bags!",type:"building",building:e,tier:5,onBuy:function(){o.increaseBuildingProductionMultiplier("School",1,!1)}}];
},{"../Buildings":"xBG6"}],"NPP0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.farmUpgrades=void 0;var r=require("../Buildings"),e="Farm";exports.farmUpgrades=[{name:"Manure Spreader",desc:"Increase base production of <strong>Farms</strong> by <strong>100%</strong>",flavorText:"The poop helps the ore mature.",type:"building",building:e,tier:1,onBuy:function(){return r.increaseBuildingProductionMultiplier("Farm",1,!1)}},{name:"Pitchfork",desc:"Increase base production of <strong>Farms</strong> by <strong>100%</strong>",flavorText:"Torches not included...",type:"building",building:e,tier:2,onBuy:function(){return r.increaseBuildingProductionMultiplier("Farm",1,!1)}},{name:"Tractor",desc:"Increase base production of <strong>Farms</strong> by <strong>100%</strong>",flavorText:"Im in me mums tractor.",type:"building",building:e,tier:3,onBuy:function(){return r.increaseBuildingProductionMultiplier("Farm",1,!1)}},{name:"Rotary Cutter",desc:"Increase base production of <strong>Farms</strong> by <strong>100%</strong>",flavorText:"Not even grass can stop us now.",type:"building",building:e,tier:4,onBuy:function(){return r.increaseBuildingProductionMultiplier("Farm",1,!1)}},{name:"Sturdy Hoe",desc:"Increase base production of <strong>Farms</strong> by <strong>100%</strong>",flavorText:"hehe...",type:"building",building:e,tier:5,onBuy:function(){return r.increaseBuildingProductionMultiplier("Farm",1,!1)}}];
},{"../Buildings":"xBG6"}],"kHdT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quarryUpgrades=void 0;var r=require("../Buildings"),e="Quarry";exports.quarryUpgrades=[{name:"Floodlights",desc:"Increase base production of <strong>Quarries</strong> by <strong>100%</strong>",flavorText:"Staring into one of them is like starting into a billion suns.",type:"building",building:e,tier:1,onBuy:function(){return r.increaseBuildingProductionMultiplier("Quarry",1,!1)}},{name:"Twill Rope",desc:"Increase base production of <strong>Quarries</strong> by <strong>100%</strong>",flavorText:"Study enuff...",type:"building",building:e,tier:2,onBuy:function(){return r.increaseBuildingProductionMultiplier("Quarry",1,!1)}},{name:"Wooden Compass",desc:"Increase base production of <strong>Quarries</strong> by <strong>100%</strong>",flavorText:"Responds to ore magnetism.",type:"building",building:e,tier:3,onBuy:function(){return r.increaseBuildingProductionMultiplier("Quarry",1,!1)}},{name:"Ore Filter",desc:"Increase base production of <strong>Quarries</strong> by <strong>100%</strong>",flavorText:"Less sorting, more ore.",type:"building",building:e,tier:4,onBuy:function(){return r.increaseBuildingProductionMultiplier("Quarry",1,!1)}},{name:"Waterproof Tape",desc:"Increase base production of <strong>Quarries</strong> by <strong>100%</strong>",flavorText:"Poor mans Flex Tape®",type:"building",building:e,tier:5,onBuy:function(){return r.increaseBuildingProductionMultiplier("Quarry",1,!1)}}];
},{"../Buildings":"xBG6"}],"mt6p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.churchUpgrades=void 0;var r=require("../Buildings"),e="Church";exports.churchUpgrades=[{name:"Scripture Reading",desc:"Increase base production of <strong>Churches</strong> by <strong>100%</strong>",flavorText:"Read the words of our l-ore-d and savior.",type:"building",building:e,tier:1,onBuy:function(){return r.increaseBuildingProductionMultiplier("Church",1,!1)}},{name:"Communion",desc:"Increase base production of <strong>Churches</strong> by <strong>100%</strong>",flavorText:"Note: Not communism.",type:"building",building:e,tier:2,onBuy:function(){return r.increaseBuildingProductionMultiplier("Church",1,!1)}},{name:"Worship Session",desc:"Increase base production of <strong>Churches</strong> by <strong>100%</strong>",flavorText:"More like W-ore-ship... haha...",type:"building",building:e,tier:3,onBuy:function(){return r.increaseBuildingProductionMultiplier("Church",1,!1)}},{name:"7th Day",desc:"Increase base production of <strong>Churches</strong> by <strong>100%</strong>",flavorText:"You would think a day of worship is one less day of work but somehow it works out to more ore!",type:"building",building:e,tier:4,onBuy:function(){return r.increaseBuildingProductionMultiplier("Church",1,!1)}},{name:"Eden Apple",desc:"Increase base production of <strong>Churches</strong> by <strong>100%</strong>",flavorText:"You can't resist this forbidden fruit.",type:"building",building:e,tier:5,onBuy:function(){return r.increaseBuildingProductionMultiplier("Church",1,!1)}}];
},{"../Buildings":"xBG6"}],"QSEk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.factoryUpgrades=void 0;var e=require("../Buildings"),t="Factory";exports.factoryUpgrades=[{name:"Rubber Conveyor Belt",desc:"Increase base production of <strong>Factories</strong> by <strong>100%</strong>",flavorText:"These moves the things to there, that's all I know.",type:"building",building:t,tier:1,onBuy:function(){return e.increaseBuildingProductionMultiplier("Factory",1,!1)}},{name:"Floppy Squiggle Tubes",desc:"Increase base production of <strong>Factories</strong> by <strong>100%</strong>",flavorText:"If I could tell you what these were for you'd buy twice as many.",type:"building",building:t,tier:2,onBuy:function(){return e.increaseBuildingProductionMultiplier("Factory",1,!1)}},{name:"Clicky Squish Buttons",desc:"Increase base production of <strong>Factories</strong> by <strong>100%</strong>",flavorText:"These go next to the Squishy Click Buttons.",type:"building",building:t,tier:3,onBuy:function(){return e.increaseBuildingProductionMultiplier("Factory",1,!1)}},{name:"Metallic Magnetic Panels",desc:"Increase base production of <strong>Factories</strong> by <strong>100%</strong>",flavorText:"These are actually for my fridge.",type:"building",building:t,tier:4,onBuy:function(){return e.increaseBuildingProductionMultiplier("Factory",1,!1)}},{name:"Hydroponic Auxilleration",desc:"Increase base production of <strong>Factories</strong> by <strong>100%</strong>",flavorText:"Aquaman is here to stay.",type:"building",building:t,tier:5,onBuy:function(){return e.increaseBuildingProductionMultiplier("Factory",1,!1)}}];
},{"../Buildings":"xBG6"}],"wVjk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cryptUpgrades=void 0;var r=require("../Buildings"),e="Crypt";exports.cryptUpgrades=[{name:"Wood Shovel",desc:"Increase base production of <strong>Crypts</strong> by <strong>100%</strong>",flavorText:"Dig up graves faster",type:"building",building:e,tier:1,onBuy:function(){return r.increaseBuildingProductionMultiplier(e,1,!1)}},{name:"Stone Shovel",desc:"Increase base production of <strong>Crypts</strong> by <strong>100%</strong>",flavorText:"Dig up graves faster",type:"building",building:e,tier:2,onBuy:function(){return r.increaseBuildingProductionMultiplier(e,1,!1)}},{name:"Iron Shovel",desc:"Increase base production of <strong>Crypts</strong> by <strong>100%</strong>",flavorText:"Dig up graves faster",type:"building",building:e,tier:3,onBuy:function(){return r.increaseBuildingProductionMultiplier(e,1,!1)}},{name:"Gold Shovel",desc:"Increase base production of <strong>Crypts</strong> by <strong>100%</strong>",flavorText:"Dig up graves faster",type:"building",building:e,tier:4,onBuy:function(){return r.increaseBuildingProductionMultiplier(e,1,!1)}},{name:"Diamond Shovel",desc:"Increase base production of <strong>Crypts</strong> by <strong>100%</strong>",flavorText:"Dig up graves faster",type:"building",building:e,tier:5,onBuy:function(){return r.increaseBuildingProductionMultiplier(e,1,!1)}}];
},{"../Buildings":"xBG6"}],"KxdP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.miscUpgrades=void 0;var n=require("../index"),e=require("../State");exports.miscUpgrades=[{name:"Copper Coating",desc:"Increase <strong>OpC</strong> by <strong>2</strong>",price:500,onBuy:function(){return n.updateBonuses("temporary","flatOpCBonus",2)}},{name:"Gold Coating",desc:"Increase <strong>OpC</strong> by <strong>3</strong>",price:1e4,onBuy:function(){return n.updateBonuses("temporary","flatOpCBonus",3)}},{name:"Iron Coating",desc:"Increase <strong>OpC</strong> by <strong>5</strong>",price:1e5,onBuy:function(){return n.updateBonuses("temporary","flatOpCBonus",5)}},{name:"Platinum Coating",desc:"Increase <strong>OpC</strong> by <strong>10</strong>",price:1e6,onBuy:function(){return n.updateBonuses("temporary","flatOpCBonus",10)}},{name:"Diamond Coating",desc:"Increase <strong>OpC</strong> by <strong>2%</strong>",price:5e8,onBuy:function(){return n.updateBonuses("temporary","percentOpCBonus",2)}},{name:"Uranium Coating",desc:"Increase <strong>OpC</strong> by <strong>3%</strong>",price:5e9,onBuy:function(){return n.updateBonuses("temporary","percentOpCBonus",3)}},{name:"Unobtainium Coating",desc:"Increase <strong>OpC</strong> by <strong>5%</strong>",price:5e11,onBuy:function(){return n.updateBonuses("temporary","percentOpCBonus",5)}},{name:"Polished Nuggy",desc:"Increase <strong>overall ore gain</strong> by <strong>1%</strong>",price:1e6,onBuy:function(){return n.updateBonuses("temporary","globalPercentBonus",1)}},{name:"Shiny Nuggy",desc:"Increase <strong>overall ore gain</strong> by <strong>1%</strong>",price:1e7,onBuy:function(){return n.updateBonuses("temporary","globalPercentBonus",1)}},{name:"Glossy Nuggy",desc:"Increase <strong>overall ore gain</strong> by <strong>3%</strong>",price:1e8,onBuy:function(){return n.updateBonuses("temporary","globalPercentBonus",3)}},{name:"Glowing Nuggy",desc:"Increase <strong>overall ore gain</strong> by <strong>5%</strong>",price:1e9,onBuy:function(){return n.updateBonuses("temporary","globalPercentBonus",5)}},{name:"Gleaming Nuggy",desc:"Increase <strong>overall ore gain</strong> by <strong>5%</strong>",price:1e11,onBuy:function(){return n.updateBonuses("temporary","globalPercentBonus",5)}},{name:"Lustrous Nuggy",desc:"Increase <strong>overall ore gain</strong> by <strong>5%</strong>",price:1e12,onBuy:function(){return n.updateBonuses("temporary","globalPercentBonus",5)}},{name:"Solo",desc:"Increase <strong>OpC</strong> by <strong>.1</strong> for every building you own.",price:1e3,onBuy:function(){return n.updateBonuses("temporary","flatOpCPerBuilding",.1)}},{name:"Duo",desc:"Increase <strong>OpC</strong> by <strong>.2</strong> for every building you own.",price:5e4,onBuy:function(){return n.updateBonuses("temporary","flatOpCPerBuilding",.2)}},{name:"Trio",desc:"Increase <strong>OpC</strong> by <strong>.3</strong> for every building you own.",price:5e5,onBuy:function(){return n.updateBonuses("temporary","flatOpCPerBuilding",.3)}},{name:"Teamwork",desc:"Increase <strong>OpC</strong> by <strong>.5</strong> for every building you own.",price:5e6,onBuy:function(){return n.updateBonuses("temporary","flatOpCPerBuilding",.5)}},{name:"Groupwork",desc:"Increase <strong>OpC</strong> by <strong>2</strong> for every building you own.",price:5e8,onBuy:function(){return n.updateBonuses("temporary","flatOpCPerBuilding",2)}},{name:"OCD",desc:"Increase building production by <strong>2%</strong> if the building amount owned is a multiple of <strong>10</strong> ",price:15e3,onBuy:function(){return e.State.bonuses.temporary.ocdPercentBonus+=2}},{name:"OOCD",desc:"Increase building production by <strong>3%</strong> if the building amount owned is a multiple of <strong>10</strong> ",flavorText:"Obscenely obsessive compulsive disorder",price:15e5,onBuy:function(){return e.State.bonuses.temporary.ocdPercentBonus+=3}},{name:"OOOCD",desc:"Increase building production by <strong>5%</strong> if the building amount owned is a multiple of <strong>10</strong> ",flavorText:"Obsessively obscene obsessive compulsive disorder",price:15e7,onBuy:function(){return e.State.bonuses.temporary.ocdPercentBonus+=5}},{name:"OOOOCD",desc:"Increase building production by <strong>5%</strong> if the building amount owned is a multiple of <strong>10</strong> ",price:15e9,onBuy:function(){return e.State.bonuses.temporary.ocdPercentBonus+=5}}];
},{"../index":"KqmS","../State":"ibrd"}],"UJiT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hospitalUpgrades=void 0;var n=require("../Buildings"),i="Hospital";exports.hospitalUpgrades=[{name:"Bandage",desc:"Increase base production of <strong>Hospitals</strong> by <strong>100%</strong>",type:"building",building:i,tier:1,onBuy:function(){return n.increaseBuildingProductionMultiplier(i,1,!1)}},{name:"Gauze Pads",desc:"Increase base production of <strong>Hospitals</strong> by <strong>100%</strong>",type:"building",building:i,tier:2,onBuy:function(){return n.increaseBuildingProductionMultiplier(i,1,!1)}},{name:"Splint",desc:"Increase base production of <strong>Hospitals</strong> by <strong>100%</strong>",flavorText:"Hey, can you sign my cast?",type:"building",building:i,tier:3,onBuy:function(){return n.increaseBuildingProductionMultiplier(i,1,!1)}},{name:"Potion",desc:"Increase base production of <strong>Hospitals</strong> by <strong>100%</strong>",type:"building",building:i,tier:4,onBuy:function(){return n.increaseBuildingProductionMultiplier(i,1,!1)}},{name:"Medkit",desc:"Increase base production of <strong>Hospitals</strong> by <strong>100%</strong>",type:"building",building:i,tier:5,onBuy:function(){return n.increaseBuildingProductionMultiplier(i,1,!1)}}];
},{"../Buildings":"xBG6"}],"nEKL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.monolithUpgrades=void 0;var n=require("../Buildings"),i="Monolith",t="Monoliths";exports.monolithUpgrades=[{name:"Tin Plating",desc:"Increase base production of <strong>".concat(t,"</strong> by <strong>100%</strong>"),type:"building",building:i,tier:1,onBuy:function(){return n.increaseBuildingProductionMultiplier(i,1,!1)}},{name:"Lead Plating",desc:"Increase base production of <strong>".concat(t,"</strong> by <strong>100%</strong>"),type:"building",building:i,tier:2,onBuy:function(){return n.increaseBuildingProductionMultiplier(i,1,!1)}},{name:"Tungsten Plating",desc:"Increase base production of <strong>".concat(t,"</strong> by <strong>100%</strong>"),flavorText:"Hey, can you sign my cast?",type:"building",building:i,tier:3,onBuy:function(){return n.increaseBuildingProductionMultiplier(i,1,!1)}},{name:"Obsidian Plating",desc:"Increase base production of <strong>".concat(t,"</strong> by <strong>100%</strong>"),type:"building",building:i,tier:4,onBuy:function(){return n.increaseBuildingProductionMultiplier(i,1,!1)}},{name:"Mythril Plating",desc:"Increase base production of <strong>".concat(t,"</strong> by <strong>100%</strong>"),type:"building",building:i,tier:5,onBuy:function(){return n.increaseBuildingProductionMultiplier(i,1,!1)}}];
},{"../Buildings":"xBG6"}],"lacP":[function(require,module,exports) {
"use strict";function r(r){return o(r)||a(r)||t(r)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(r,e){if(r){if("string"==typeof r)return n(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(r,e):void 0}}function a(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function o(r){if(Array.isArray(r))return n(r)}function n(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=r[t];return a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.upgrades=void 0;var s=require("./schoolUpgrades"),i=require("./farmUpgrades"),u=require("./quarryUpgrades"),p=require("./churchUpgrades"),c=require("./factoryUpgrades"),d=require("./cryptUpgrades"),l=require("./miscUpgrades"),g=require("./hospitalUpgrades"),f=require("./monolithUpgrades");exports.upgrades=[].concat(r(s.schoolUpgrades),r(i.farmUpgrades),r(u.quarryUpgrades),r(p.churchUpgrades),r(c.factoryUpgrades),r(d.cryptUpgrades),r(g.hospitalUpgrades),r(f.monolithUpgrades),r(l.miscUpgrades));
},{"./schoolUpgrades":"CODg","./farmUpgrades":"NPP0","./quarryUpgrades":"kHdT","./churchUpgrades":"mt6p","./factoryUpgrades":"QSEk","./cryptUpgrades":"wVjk","./miscUpgrades":"KxdP","./hospitalUpgrades":"UJiT","./monolithUpgrades":"nEKL"}],"ypIX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instantiateUpgrades=exports.unlockUpgrade=void 0;var e=require("./utils"),r=require("./State"),i=require("./Buildings"),t=require("./Tooltip"),n=require("./upgrades/index"),a=require("./index"),o=require("./Updates"),u=require("./Sounds"),s=require("./RisingText"),d=function(r){var n,d=this;if(this.name=r.name,this.codeName=e.getCodeName(r.name),this.desc=r.desc,this.flavorText=r.flavorText,r.price)this.price=r.price;else{var p=i.getBuilding(r.building).basePrice;r.tier>=1&&(p*=5),r.tier>=2&&(p*=10),r.tier>=3&&(p*=100),r.tier>=4&&(p*=100),r.tier>=5&&(p*=200),r.tier>=6&&(p*=1e3),this.price=p}this.onBuy=r.onBuy,this.isLocked=!1!==r.isLocked,this.isOwned=null!==(n=r.isOwned)&&void 0!==n&&n,this.buy=function(r){if(a.spend(d.price)){d.isOwned=!0,u.playSound(u.SoundNames.buy),s.generateRisingText(r,s.types.BUY),d.onBuy(),a.updateOPC(),a.updateOPS(),t.hideTooltip(),i.updateAllBuildingProduction(),i.updateAllBuildingOpsPercent(),a.resizeUpgradesContainer("enter");var n=r.target,p=e.select(".upgrades-container");e.removeEl(n),e.isElEmpty(p)&&(o.UpdatesState.updateTabContent=!0)}},this.mousemove=function(e){return t.showTooltip(e,{type:t.TooltipTypes.UPGRADE,upgrade:d})}};exports.unlockUpgrade=function(e){var i=r.State.upgrades[e];i?i.isLocked&&(i.isLocked=!1,a.updateUpgradesContainer()):console.error("Couldn't unlock upgrade:",e,i)};var p=function(r){var i=e.findObjectByNameInArr(n.upgrades,r);if(i)return i;console.error("Couldnt find upgrade:",r)};exports.instantiateUpgrades=function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={};n.upgrades.forEach(function(e){t[e.name]=new d(e)});var a=e.getSave();if(a&&!i){var o=function(e){var r=a.upgrades[e],i=p(e);if(!i)return"continue";t[e]=new d(r);["desc","flavorText","onBuy"].forEach(function(r){return t[e][r]=i[r]})};for(var u in a.upgrades)o(u)}r.State.upgrades=t};
},{"./utils":"GUxD","./State":"ibrd","./Buildings":"xBG6","./Tooltip":"JjQV","./upgrades/index":"lacP","./index":"KqmS","./Updates":"owfE","./Sounds":"Crhs","./RisingText":"UmE0"}],"xBG6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instantiateBuildings=exports.getRawBuilding=exports.getBuilding=exports.increaseBuildingProductionMultiplier=exports.updateAllBuildingOpsPercent=exports.updateAllBuildingProduction=void 0;var e=require("./utils"),n=require("./index"),t=require("./State"),a=require("./Updates"),i=require("./Tooltip"),o=require("./RisingText"),d=require("./Sounds"),r=require("./Notification"),u=require("./Achievements"),l=require("./Upgrades"),s=function(s){var m=this;this.id=s.id,this.name=s.name,this.codeName=e.getCodeName(s.name),this.namePlural=s.namePlural,this.desc=s.desc,this.flavorText=s.flavorText,this.currentPrice=s.currentPrice||s.basePrice,this.basePrice=s.basePrice,this.priceScale=s.priceScale||1.135,this.baseProduction=s.baseProduction,this.production=s.production||s.baseProduction,this.productionMultiplier=s.productionMultiplier||1,this.permanentProductionMultiplier=s.permanentProductionMultiplier||0,this.isLocked=s.isLocked,this.isHidden=s.isHidden,this.owned=s.owned||0,this.ownedFree=s.ownedFree||0,this.ownedTotal=this.owned+this.ownedFree,this.onBuy=s.onBuy||null,this.percentOfOps=s.percentOfOps||0,this.amountGenerated=s.amountGenerated||0,this.totalAmountGenerated=s.totalAmountGenerated||0,this.amountGeneratedFlavorText=s.amountGeneratedFlavorText||"Generated",this.amountGeneratedAchievements=s.amountGeneratedAchievements||[],this.buildingLevel=s.buildingLevel||0,this.upgradeLevelCost=s.upgradeLevelCost||s.nextUpgradeCost||1,this.buildingLevelAchievements=s.buildingLevelAchievements||[],this.buy=function(s){if(m.isLocked||m.isHidden)return!1;var p=1,g=m.currentPrice,v=m.basePrice*Math.pow(m.priceScale,m.owned+p);if("max"===t.InstanceState.buyAmount)for(;t.State.inventory.ores>=g+v;)g+=v,p+=1,v=m.basePrice*Math.pow(m.priceScale,m.owned+p);var h="max"===t.InstanceState.buyAmount?g:e.getGeometricSequencePrice(m);if(p="max"===t.InstanceState.buyAmount?p:t.InstanceState.buyAmount,n.spend(h)){var b=e.select("#buy-buildings-tutorial");b&&e.removeEl(b,!0),m.owned+=p,m.ownedTotal+=p,m.currentPrice=m.basePrice*Math.pow(m.priceScale,m.owned),t.State.stats.buildingsOwned+=p,t.State.stats.overallBuildingsOwned+=p,t.State.stats.buildingsOwned>=1&&l.unlockUpgrade("Solo"),t.State.stats.buildingsOwned>=20&&l.unlockUpgrade("Duo"),t.State.stats.buildingsOwned>=40&&l.unlockUpgrade("Trio"),t.State.stats.buildingsOwned>=100&&l.unlockUpgrade("Teamwork"),t.State.stats.buildingsOwned>=120&&l.unlockUpgrade("Groupwork"),t.State.stats.buildingsOwned>=10&&l.unlockUpgrade("OCD"),t.State.stats.buildingsOwned>=50&&l.unlockUpgrade("OOCD"),t.State.stats.buildingsOwned>=100&&l.unlockUpgrade("OOOCD"),t.State.stats.buildingsOwned>=150&&l.unlockUpgrade("OOOOCD"),t.State.stats.buildingsOwned>=100&&u.winAchievement("Slum Lord"),t.State.stats.overallBuildingsOwned>=3e3&&u.winAchievement("Global Lord"),t.State.stats.overallBuildingsOwned>=1e4&&u.winAchievement("Galaxy Lord"),m.ownedTotal>=100&&u.winAchievement("".concat(m.name," I")),m.ownedTotal>=300&&u.winAchievement("".concat(m.name," II")),m.ownedTotal>=500&&u.winAchievement("".concat(m.name," III")),m.ownedTotal>=700&&u.winAchievement("".concat(m.name," IV")),m.ownedTotal>=1e3&&u.winAchievement("".concat(m.name," V")),n.updateOPS(),n.updateOPC(),d.playSound(d.SoundNames.buy),a.UpdatesState.updateOres=!0,c(m.id),m._handleOnBuy(),o.generateRisingText(s,o.types.BUY),i.showTooltip(s,{type:i.TooltipTypes.BUILDING,building:m});var P=e.select(".building.building-".concat(m.codeName)),S=P.querySelector(".building-price span"),y=P.querySelector(".building-owned"),f="max"===t.InstanceState.buyAmount?e.getCurrentMaxAmountAndTotalPriceForBuilding(m):null,w="max"===t.InstanceState.buyAmount?f.totalPrice:e.getGeometricSequencePrice(m);S.innerHTML=e.beautifyNumber(w),y.innerHTML=m.ownedTotal,m.updateBuildingProduction(),n.updateStorePriceClasses(),exports.updateAllBuildingOpsPercent()}else r.notify("Not enough ores",r.NotifyTypes.ERROR)},this.buyFree=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;m.ownedFree+=e,m.ownedTotal+=e,m._handleOnBuy(),exports.updateAllBuildingOpsPercent(),a.UpdatesState.updateTabContent=!0},this._handleOnBuy=function(){m.onBuy&&m.onBuy.unlockUpgrade&&m.onBuy.unlockUpgrade.forEach(function(e){m.owned>=e.amountNeeded&&l.unlockUpgrade(e.name)})},this.mousemove=function(e){if(m.isLocked||m.isHidden)return!1;i.showTooltip(e,{type:i.TooltipTypes.BUILDING,building:m})},this.upgrade=function(t){n.spend(m.upgradeLevelCost,"refined")?(m.buildingLevel++,m.upgradeLevelCost=Math.ceil(Math.pow(m.buildingLevel,1.3)),d.playSound(d.SoundNames.buildingLevelUp),e.select(".building-expansion-".concat(m.codeName," span")).innerHTML=m.buildingLevel,m.updateBuildingProduction(),m.buildingLevel>=10&&m.buildingLevelAchievements.length>=1&&u.winAchievement(m.buildingLevelAchievements[0]),m.buildingLevel>=30&&m.buildingLevelAchievements.length>=2&&u.winAchievement(m.buildingLevelAchievements[1]),m.buildingLevel>=50&&m.buildingLevelAchievements.length>=3&&u.winAchievement(m.buildingLevelAchievements[2]),n.updateOPS(),n.updateOPC(),n.updateRefinedOres(),i.showTooltip(t,{type:i.TooltipTypes.BUILDING_UPGRADE,building:m})):r.notify("Not enough refined ores",r.NotifyTypes.ERROR)},this.updateBuildingProduction=function(){var n=t.State.bonuses.permanent.globalPercentBonus+t.State.bonuses.permanent.percentOpSBonus+t.State.bonuses.temporary.globalPercentBonus+t.State.bonuses.temporary.percentOpSBonus+t.State.stats.globalBonusPerGenerationLevel*t.State.generation.lv;m.ownedTotal%10==0&&(n+=t.State.bonuses.temporary.ocdPercentBonus||0);var a=m.baseProduction+m.baseProduction*e.percentToDecimal(m.buildingLevel);a+=a*e.percentToDecimal(n),a*=m.productionMultiplier+m.permanentProductionMultiplier,m.production=a}};exports.updateAllBuildingProduction=function(){for(var e in t.State.buildings){t.State.buildings[e].updateBuildingProduction()}},exports.updateAllBuildingOpsPercent=function(){for(var n in t.State.buildings){var a=t.State.buildings[n],i=e.getPercentage(a.ownedTotal*a.production,t.State.ops);a.percentOfOps=i}};var c=function(n){var a=e.sortObj(t.State.buildings,"id"),i=n<a.length?a[n][1]:null,o=n<a.length-2?a[n+2][1]:null;if(i){var d=e.select(".building-wrapper-".concat(i.codeName));i.isLocked=!1,d.classList.remove("building-locked")}if(o){var r=e.select(".building-wrapper-".concat(o.codeName));o.isHidden=!1,r.classList.remove("building-hidden")}};exports.increaseBuildingProductionMultiplier=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.State.buildings[e];i?o.permanentProductionMultiplier+=n:o.productionMultiplier+=n,o.updateBuildingProduction(),a.UpdatesState.updateOPC=!0,a.UpdatesState.updateOPS=!0};var m=[{id:1,name:"School",namePlural:"Schools",desc:"Teach students about the wonders of ore.",flavorText:"Jesus christ Marie, they're minerals!",baseProduction:.2,basePrice:30,isLocked:!1,isHidden:!1,onBuy:{unlockUpgrade:[{name:"Composition Notebooks",amountNeeded:1},{name:"No. 2 Pencil",amountNeeded:10},{name:"3 Ring Binder",amountNeeded:20},{name:"Looseleaf",amountNeeded:50},{name:"Schoolbag",amountNeeded:100}]},buildingLevelAchievements:["Principal","Superintendent"],amountGeneratedFlavorText:"Educated",amountGeneratedAchievements:[{name:"Educated",amountNeeded:1e6}]},{id:2,name:"Farm",namePlural:"Farms",desc:"Cultivate the lands for higher quality ores.",flavorText:"This totally makes sense...",baseProduction:1,basePrice:170,isLocked:!0,isHidden:!1,onBuy:{unlockUpgrade:[{name:"Manure Spreader",amountNeeded:1},{name:"Pitchfork",amountNeeded:10},{name:"Tractor",amountNeeded:20},{name:"Rotary Cutter",amountNeeded:50},{name:"Sturdy Hoe",amountNeeded:100}]},amountGeneratedFlavorText:"Harvested",buildingLevelAchievements:["Botanist","Biologist"],amountGeneratedAchievements:[{name:"Harvested",amountNeeded:1e7}]},{id:3,name:"Quarry",namePlural:"Quarries",desc:"Designated mining area.",flavorText:"Diggy diggy hole.",baseProduction:7,basePrice:1850,isLocked:!0,isHidden:!1,onBuy:{unlockUpgrade:[{name:"Floodlights",amountNeeded:1},{name:"Twill Rope",amountNeeded:10},{name:"Wooden Compass",amountNeeded:20},{name:"Ore Filter",amountNeeded:50},{name:"Waterproof Tape",amountNeeded:100}]},amountGeneratedFlavorText:"Mined",buildingLevelAchievements:["Prospector","Excavator"],amountGeneratedAchievements:[{name:"Mined",amountNeeded:1e8}]},{id:4,name:"Church",namePlural:"Churches",desc:"Praise to ye Old Ore Gods.",flavorText:"In ore name we pray, amen.",baseProduction:45,basePrice:19e3,isLocked:!0,isHidden:!0,onBuy:{unlockUpgrade:[{name:"Scripture Reading",amountNeeded:1},{name:"Communion",amountNeeded:10},{name:"Worship Session",amountNeeded:20},{name:"7th Day",amountNeeded:50},{name:"Eden Apple",amountNeeded:100}]},amountGeneratedFlavorText:"Enlightened",buildingLevelAchievements:["Pastor","Minister"],amountGeneratedAchievements:[{name:"Enlightened",amountNeeded:1e9}]},{id:5,name:"Factory",namePlural:"Factories",desc:"Manufacture your ores.",flavorText:"Assembly line this SH%* up!",baseProduction:250,basePrice:2e5,isLocked:!0,isHidden:!0,onBuy:{unlockUpgrade:[{name:"Rubber Conveyor Belt",amountNeeded:1},{name:"Floppy Squiggle Tubes",amountNeeded:10},{name:"Clicky Squish Buttons",amountNeeded:20},{name:"Metallic Magnetic Panels",amountNeeded:50},{name:"Hydroponic Auxilleration",amountNeeded:100}]},amountGeneratedFlavorText:"Manufactured",buildingLevelAchievements:["Foreman","Overseer"],amountGeneratedAchievements:[{name:"Manufactured",amountNeeded:1e10}]},{id:6,name:"Crypt",namePlural:"Crypts",desc:"Raise dead ores from the graves.",flavorText:"Spooky dooky ores.",baseProduction:1300,basePrice:21e5,isLocked:!0,isHidden:!0,onBuy:{unlockUpgrade:[{name:"Wood Shovel",amountNeeded:1},{name:"Stone Shovel",amountNeeded:10},{name:"Iron Shovel",amountNeeded:20},{name:"Gold Shovel",amountNeeded:50},{name:"Diamond Shovel",amountNeeded:100}]},amountGeneratedFlavorText:"Raised",buildingLevelAchievements:["Graveserf","Gravelord"],amountGeneratedAchievements:[{name:"Raised",amountNeeded:1e11}]},{id:7,name:"Hospital",namePlural:"Hospitals",desc:"Heal the poor ol damaged ores.",flavorText:"An apple a day keeps the ore cancer away.",baseProduction:7500,basePrice:3e7,isLocked:!0,isHidden:!0,onBuy:{unlockUpgrade:[{name:"Bandage",amountNeeded:1},{name:"Gauze Pads",amountNeeded:10},{name:"Splint",amountNeeded:20},{name:"Potion",amountNeeded:50},{name:"Medkit",amountNeeded:100}]},amountGeneratedFlavorText:"Healed",buildingLevelAchievements:["Nurse","Doctor"],amountGeneratedAchievements:[{name:"Healed",amountNeeded:1e12}]},{id:8,name:"Monolith",namePlural:"Monoliths",desc:"A super condensed piece of ore that slowly exudes more ore.",flavorText:"Citadel of ores",baseProduction:22e4,basePrice:46e7,isLocked:!0,isHidden:!0,onBuy:{unlockUpgrade:[{name:"Tin Plating",amountNeeded:1},{name:"Lead Plating",amountNeeded:10},{name:"Tungsten Plating",amountNeeded:20},{name:"Obsidian Plating",amountNeeded:50},{name:"Mythril Plating",amountNeeded:100}]},amountGeneratedFlavorText:"Exuded",buildingLevelAchievements:["Pillar","Monument"],amountGeneratedAchievements:[{name:"Exuded",amountNeeded:1e15}]}];exports.getBuilding=function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.State).buildings[e];if(n)return n;console.error("Couldn't find building:",e)},exports.getRawBuilding=function(n){var t=e.findObjectByNameInArr(m,n);if(t)return t;console.error("Couldnt find building:",n)},exports.instantiateBuildings=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={};if(n)m.forEach(function(e){a[e.name]=new s(e),a[e.name].permanentProductionMultiplier=t.State.buildings[e.name].permanentProductionMultiplier,a[e.name].buildingLevel=t.State.buildings[e.name].buildingLevel,a[e.name].ownedFree=t.State.buildings[e.name].ownedFree,a[e.name].ownedTotal=t.State.buildings[e.name].ownedFree,a[e.name].upgradeLevelCost=t.State.buildings[e.name].upgradeLevelCost});else{var i=e.getSave();if(m.forEach(function(e){a[e.name]=new s(e)}),i){var o=function(e){var n=i.buildings[e],t=exports.getRawBuilding(e);a[e]=new s(n);["desc","flavorText","baseProduction","basePrice","onBuy","amountGeneratedFlavorText","buildingLevelAchievements","amountGeneratedAchievements"].forEach(function(n){return a[e][n]=t[n]})};for(var d in i.buildings)o(d)}}t.State.buildings=a};
},{"./utils":"GUxD","./index":"KqmS","./State":"ibrd","./Updates":"owfE","./Tooltip":"JjQV","./RisingText":"UmE0","./Sounds":"Crhs","./Notification":"wf64","./Achievements":"ctio","./Upgrades":"ypIX"}],"fQR2":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,e=arguments[3];!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof t&&t.amd?t(n):(e=e||self).Panzoom=n()}(this,function(){"use strict";var t=function(){return(t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function e(t,e){for(var n=t.length;n--;)if(t[n].pointerId===e.pointerId)return n;return-1}function n(t,o){var r;if(o.touches){r=0;for(var a=0,i=o.touches;a<i.length;a++){var c=i[a];c.pointerId=r++,n(t,c)}}else(r=e(t,o))>-1&&t.splice(r,1),t.push(o)}function o(t){for(var e,n=(t=t.slice(0)).pop();e=t.pop();)n={clientX:(e.clientX-n.clientX)/2+n.clientX,clientY:(e.clientY-n.clientY)/2+n.clientY};return n}function r(t){if(t.length<2)return 0;var e=t[0],n=t[1];return Math.sqrt(Math.pow(Math.abs(n.clientX-e.clientX),2)+Math.pow(Math.abs(n.clientY-e.clientY),2))}"undefined"!=typeof window&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}));var a={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};function i(t,e,n,o){a[t].split(" ").forEach(function(t){e.addEventListener(t,n,o)})}function c(t,e,n){a[t].split(" ").forEach(function(t){e.removeEventListener(t,n)})}"undefined"!=typeof window&&("function"==typeof window.PointerEvent?a={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:"function"==typeof window.TouchEvent&&(a={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));var l,p="undefined"!=typeof document&&!!document.documentMode;function u(){return l||(l=document.createElement("div").style)}var d=["webkit","moz","ms"],s={};function f(t){if(s[t])return s[t];var e=u();if(t in e)return s[t]=t;for(var n=t[0].toUpperCase()+t.slice(1),o=d.length;o--;){var r=""+d[o]+n;if(r in e)return s[t]=r}}function m(t,e){return parseFloat(e[f(t)])||0}function h(t,e,n){void 0===n&&(n=window.getComputedStyle(t));var o="border"===e?"Width":"";return{left:m(e+"Left"+o,n),right:m(e+"Right"+o,n),top:m(e+"Top"+o,n),bottom:m(e+"Bottom"+o,n)}}function v(t,e,n){t.style[f(e)]=n}function g(t){var e=t.parentNode,n=window.getComputedStyle(t),o=window.getComputedStyle(e),r=t.getBoundingClientRect(),a=e.getBoundingClientRect();return{elem:{style:n,width:r.width,height:r.height,top:r.top,bottom:r.bottom,left:r.left,right:r.right,margin:h(t,"margin",n),border:h(t,"border",n)},parent:{style:o,width:a.width,height:a.height,top:a.top,bottom:a.bottom,left:a.left,right:a.right,padding:h(e,"padding",o),border:h(e,"border",o)}}}function y(t,e){return 1===t.nodeType&&(" "+function(t){return(t.getAttribute("class")||"").trim()}(t)+" ").indexOf(" "+e+" ")>-1}var w=/^http:[\w\.\/]+svg$/;var b={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:function(t){t.preventDefault(),t.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,relative:!1,setTransform:function(t,e,n){var o=e.x,r=e.y,a=e.scale,i=e.isSVG;if(v(t,"transform","scale("+a+") translate("+o+"px, "+r+"px)"),i&&p){var c=window.getComputedStyle(t).getPropertyValue("transform");t.setAttribute("transform",c)}},startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function x(l,p){if(!l)throw new Error("Panzoom requires an element as an argument");if(1!==l.nodeType)throw new Error("Panzoom requires an element with a nodeType of 1");if(!function(t){var e=t.ownerDocument,n=t.parentNode;return e&&n&&9===e.nodeType&&1===n.nodeType&&e.documentElement.contains(n)}(l))throw new Error("Panzoom should be called on elements that have been attached to the DOM");p=t(t({},b),p);var u=function(t){return w.test(t.namespaceURI)&&"svg"!==t.nodeName.toLowerCase()}(l),d=l.parentNode;d.style.overflow=p.overflow,d.style.userSelect="none",d.style.touchAction=p.touchAction,(p.canvas?d:l).style.cursor=p.cursor,l.style.userSelect="none",l.style.touchAction=p.touchAction,v(l,"transformOrigin","string"==typeof p.origin?p.origin:u?"0 0":"50% 50%");var s,m,h,x,S,E,M=0,O=0,P=1,z=!1;function A(t,e,n){if(!n.silent){var o=new CustomEvent(t,{detail:e});l.dispatchEvent(o)}}function X(t,e){var n={x:M,y:O,scale:P,isSVG:u};return requestAnimationFrame(function(){"boolean"==typeof e.animate&&(e.animate?function(t,e){v(t,"transition",f("transform")+" "+e.duration+"ms "+e.easing)}(l,e):v(l,"transition","none")),e.setTransform(l,n,e)}),A(t,n,e),A("panzoomchange",n,e),n}function Y(){if(p.contain){var t=g(l),e=t.parent.width-t.parent.border.left-t.parent.border.right,n=t.parent.height-t.parent.border.top-t.parent.border.bottom,o=e/(t.elem.width/P),r=n/(t.elem.height/P);"inside"===p.contain?p.maxScale=Math.min(o,r):"outside"===p.contain&&(p.minScale=Math.max(o,r))}}function C(e,n,o,r){var a=t(t({},p),r),i={x:M,y:O,opts:a};if(!a.force&&(a.disablePan||a.panOnlyWhenZoomed&&P===a.startScale))return i;if(e=parseFloat(e),n=parseFloat(n),a.disableXAxis||(i.x=(a.relative?M:0)+e),a.disableYAxis||(i.y=(a.relative?O:0)+n),"inside"===a.contain){var c=g(l);i.x=Math.max(-c.elem.margin.left-c.parent.padding.left,Math.min(c.parent.width-c.elem.width/o-c.parent.padding.left-c.elem.margin.left-c.parent.border.left-c.parent.border.right,i.x)),i.y=Math.max(-c.elem.margin.top-c.parent.padding.top,Math.min(c.parent.height-c.elem.height/o-c.parent.padding.top-c.elem.margin.top-c.parent.border.top-c.parent.border.bottom,i.y))}else if("outside"===a.contain){var u=(c=g(l)).elem.width/P,d=c.elem.height/P,s=u*o,f=d*o,m=(s-u)/2,h=(f-d)/2,v=(-(s-c.parent.width)-c.parent.padding.left-c.parent.border.left-c.parent.border.right+m)/o,y=(m-c.parent.padding.left)/o;i.x=Math.max(Math.min(i.x,y),v);var w=(-(f-c.parent.height)-c.parent.padding.top-c.parent.border.top-c.parent.border.bottom+h)/o,b=(h-c.parent.padding.top)/o;i.y=Math.max(Math.min(i.y,b),w)}return i}function T(e,n){var o=t(t({},p),n),r={scale:P,opts:o};return!o.force&&o.disableZoom?r:(r.scale=Math.min(Math.max(e,o.minScale),o.maxScale),r)}function N(t,e,n){var o=C(t,e,P,n),r=o.opts;return M=o.x,O=o.y,X("panzoompan",r)}function L(t,e){var n=T(t,e),o=n.opts;if(o.force||!o.disableZoom){t=n.scale;var r=M,a=O;if(o.focal){var i=o.focal;r=(i.x/t-i.x/P+M*t)/t,a=(i.y/t-i.y/P+O*t)/t}var c=C(r,a,t,{relative:!1,force:!0});return M=c.x,O=c.y,P=t,X("panzoomzoom",o)}}function I(e,n){var o=t(t(t({},p),{animate:!0}),n);return L(P*Math.exp((e?1:-1)*o.step),o)}function W(e,n,o){var r=g(l),a=r.parent.width-r.parent.padding.left-r.parent.padding.right-r.parent.border.left-r.parent.border.right,i=r.parent.height-r.parent.padding.top-r.parent.padding.bottom-r.parent.border.top-r.parent.border.bottom,c=n.clientX-r.parent.left-r.parent.padding.left-r.parent.border.left-r.elem.margin.left,p=n.clientY-r.parent.top-r.parent.padding.top-r.parent.border.top-r.elem.margin.top;u||(c-=r.elem.width/P/2,p-=r.elem.height/P/2);var d={x:c/a*(a*e),y:p/i*(i*e)};return L(e,t(t({animate:!1},o),{focal:d}))}L(p.startScale,{animate:!1}),setTimeout(function(){Y(),N(p.startX,p.startY,{animate:!1})});var Z=[];function q(t){if(!function(t,e){for(var n=t;null!=n;n=n.parentNode)if(y(n,e.excludeClass)||e.exclude.indexOf(n)>-1)return!0;return!1}(t.target,p)){n(Z,t),z=!0,p.handleStartEvent(t),s=M,m=O,A("panzoomstart",{x:M,y:O,scale:P},p);var e=o(Z);h=e.clientX,x=e.clientY,S=P,E=r(Z)}}function B(t){if(z&&void 0!==s&&void 0!==m&&void 0!==h&&void 0!==x){n(Z,t);var e=o(Z);if(Z.length>1)W(T((r(Z)-E)*p.step/80+S).scale,e);N(s+(e.clientX-h)/P,m+(e.clientY-x)/P,{animate:!1})}}function D(t){1===Z.length&&A("panzoomend",{x:M,y:O,scale:P},p),function(t,n){if(n.touches)for(;t.length;)t.pop();else{var o=e(t,n);o>-1&&t.splice(o,1)}}(Z,t),z&&(z=!1,s=m=h=x=void 0)}var F=!1;function R(){F||(F=!0,i("down",p.canvas?d:l,q),i("move",document,B,{passive:!0}),i("up",document,D,{passive:!0}))}return p.noBind||R(),{bind:R,destroy:function(){F=!1,c("down",p.canvas?d:l,q),c("move",document,B),c("up",document,D)},eventNames:a,getPan:function(){return{x:M,y:O}},getScale:function(){return P},getOptions:function(){return function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(p)},pan:N,reset:function(e){var n=t(t(t({},p),{animate:!0,force:!0}),e);P=T(n.startScale,n).scale;var o=C(n.startX,n.startY,P,n);return M=o.x,O=o.y,X("panzoomreset",n)},setOptions:function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(p[e]=t[e]);t.hasOwnProperty("cursor")&&(l.style.cursor=t.cursor),t.hasOwnProperty("overflow")&&(d.style.overflow=t.overflow),t.hasOwnProperty("touchAction")&&(d.style.touchAction=t.touchAction,l.style.touchAction=t.touchAction),(t.hasOwnProperty("minScale")||t.hasOwnProperty("maxScale")||t.hasOwnProperty("contain"))&&Y()},setStyle:function(t,e){return v(l,t,e)},zoom:L,zoomIn:function(t){return I(!0,t)},zoomOut:function(t){return I(!1,t)},zoomToPoint:W,zoomWithWheel:function(e,n){e.preventDefault();var o=t(t({},p),n),r=(0===e.deltaY&&e.deltaX?e.deltaX:e.deltaY)<0?1:-1;return W(T(P*Math.exp(r*o.step/3),o).scale,e,o)}}}return x.defaultOptions=b,x});
},{}],"plgz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Pickaxe=void 0;var e=require("./Skills"),t=require("./State"),a=require("./utils");exports.Pickaxe=function(e){this.level=r(e),this.rarity=i(),this.material=n(),this.prefix=t.State.stats.timesRefined>0?m():null,this.suffix=s(this),this.multiplier=o(this),this.damage=l(this),this.sharpness=t.State.stats.timesRefined>0?u(this):100,this.hardness=t.State.stats.timesRefined>0?h(this):100,this.type="pickaxe",this.name=d(this)};var r=function(e){return a.getRandomNum(e,t.State.generation.lv+e)+2*t.State.generation.lv},i=function(){var e=a.getRandomWithWeights([{name:"Common",multiplier:0,weight:35},{name:"Uncommon",multiplier:.02,weight:25},{name:"Rare",multiplier:.05,weight:15},{name:"Unique",multiplier:.1,weight:10},{name:"Epic",multiplier:.3,weight:9},{name:"Legendary",multiplier:.5,weight:5},{name:"Mythic",multiplier:1,weight:1}]);return{name:e.name,multiplier:e.multiplier}},n=function(){var e=a.getRandomWithWeights([{names:["Wood","Plastic","Cardboard","Glass","Tin"],multiplier:-.03,weight:35},{names:["Stone","Bronze","Copper","Bone","Lead"],multiplier:.01,weight:30},{names:["Iron","Silver","Gold"],multiplier:.05,weight:20},{names:["Steel","Platinum"],multiplier:.1,weight:10},{names:["Diamond","Adamantite","Titanium","Alien"],multiplier:.3,weight:5}]);return{name:a.getRandomFromArr(e.names),multiplier:e.multiplier}},m=function(){var e=[[{name:a.getRandomFromArr(["Superior","Greater","Refined","Gigantic","Polished"]),modifier:[{stat:"sharpness",amount:.05},{stat:"hardness",amount:.05}]},{name:a.getRandomFromArr(["Pointy","Sharp","Razor","Acute","Fine"]),modifier:[{stat:"sharpness",amount:.05}]},{name:a.getRandomFromArr(["Durable","Hefty","Hard","Reliable","Strong"]),modifier:[{stat:"hardness",amount:.05}]},{name:"Sharp but Flimsy",modifier:[{stat:"sharpness",amount:.1},{stat:"hardness",amount:-.25}]},{name:"Hard but Dull",modifier:[{stat:"sharpness",amount:-.25},{stat:"hardness",amount:.1}]}],[{name:a.getRandomFromArr(["Tiny","Awkward","Shoddy","Broken","Busted","Cracked","Chipped","Damaged","Defective"]),modifier:[{stat:"sharpness",amount:-.05},{stat:"hardness",amount:-.05}]},{name:a.getRandomFromArr(["Dull","Blunt"]),modifier:[{stat:"sharpness",amount:-.05}]},{name:a.getRandomFromArr(["Soft","Squishy","Thin"]),modifier:[{stat:"hardness",amount:-.05}]}]];if(Math.random()<=.6){return Math.random()<=.8?a.getRandomFromArr(e[0]):a.getRandomFromArr(e[1])}},s=function(e){if("Mythic"==e.rarity.name)return a.getRandomFromArr([{name:"of the Giant",modifier:[{stat:"sharpness",amount:.5},{stat:"hardness",amount:.5}]},{name:"of Keen Eyes",modifier:[{stat:"sharpness",amount:1},{stat:"hardness",amount:-1}]}])},o=function(e){var t={sharpness:0,hardness:0};return t.sharpness+=e.rarity.multiplier,t.hardness+=e.rarity.multiplier,t.sharpness+=e.material.multiplier,t.hardness+=e.material.multiplier,e.prefix&&e.prefix.modifier.forEach(function(e){t[e.stat]+=e.amount}),t},l=function(e){var t=1,r=a.getRandomNum(e.level-a.getRandomFromArr([0,0,0,1,1,2]),e.level),i=1.5*e.rarity.multiplier+e.material.multiplier,n=a.getRandomNum(i,.3+i,5);return t+=-.65*Math.sqrt(r)+r/a.getRandomNum(1.5,2,5),((t+=t*n)<1||!t)&&(t=1),a.roundNumber(t)},u=function(t){var r=Math.floor(t.level/10),i=a.getRandomNum(80+5*r,100+5*r);return i+=i*t.multiplier.sharpness,e.getSkillByName("Sharpness Sheathe").isOwned&&(i+=20),i},h=function(t){var r=Math.floor(t.level/10),i=a.getRandomNum(80+5*r,100+5*r);return i+=i*t.multiplier.hardness,e.getSkillByName("Hardness Sheathe").isOwned&&(i+=20),i},d=function(e){var t="";return e.prefix&&(t+=e.prefix.name+" "),t+="".concat(e.material.name," Pickaxe"),e.suffix&&(t+=" ".concat(e.suffix.name)),t};
},{"./Skills":"XXWm","./State":"ibrd","./utils":"GUxD"}],"DtHY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Equip=void 0;var t=require("./State"),e=require("./utils");exports.Equip=function(e){this.level=e+2*t.State.generation.lv,this.type=a(),this.rarity=r(),this.material=i(this.type),this.stats=m(this),this.isArtifact=!1,this.name=n(this)};var a=function(){return e.getRandomFromArr(["accessory","helmet","weapon","chest","pant","shoe"])},r=function(){var t=e.getRandomWithWeights([{name:"Common",multiplier:0,weight:35,statLoops:[0,0]},{name:"Uncommon",multiplier:.02,weight:25,statLoops:[1,2]},{name:"Rare",multiplier:.05,statLoops:[2,3]},{name:"Unique",multiplier:.1,weight:15,statLoops:[2,4]},{name:"Epic",multiplier:.3,weight:9,statLoops:[3,5]},{name:"Legendary",multiplier:.5,weight:5,statLoops:[5,7]},{name:"Mythic",multiplier:1,weight:1,statLoops:[10,10]}]);return{name:t.name,multiplier:t.multiplier,statLoops:t.statLoops}},i=function(t){var a=[{names:["Cloth","Plastic","Cardboard"],multiplier:-.03,weight:35},{names:["Leather"],multiplier:.01,weight:30},{names:["Iron","Silver","Gold"],multiplier:.05,weight:20},{names:["Steel","Platinum"],multiplier:.1,weight:10},{names:["Diamond","Adamantite","Titanium","Alien"],multiplier:.3,weight:5}];"weapon"===t&&(a[0].names=["Plastic","Cardboard","Wood"],a[1].names=["Stone"]);var r=e.getRandomWithWeights(a),i=r.names,m=r.multiplier;return{name:e.getRandomFromArr(i),multiplier:m}},m=function(t){var a={},r=["armor","attack","agility","dexterity","luck","speed","strength","hp"];switch(t.type){case"weapon":a.attack=o(t,"attack").value,r=["attack"];break;case"accessory":a.armor=o(t,"armor").value;break;case"shoe":a.armor=o(t,"armor").value,a.speed=o(t,"speed").value,r=["armor","agility","dexterity","luck","speed","strength","hp"];break;case"helmet":case"chest":case"pant":a.armor=o(t,"armor").value,r=["armor","agility","dexterity","luck","strength","hp"]}for(var i=e.getRandomNum(t.rarity.statLoops[0],t.rarity.statLoops[1]),m=0;m<i;m++){var n=e.getRandomFromArr(r),s=o(t,n).value;a[n]?a[n]+=s:a[n]=s}return a},o=function(t,a){var r={armor:e.getRandomNum(.8,1.1,2),attack:e.getRandomNum(.3,.5,2),agility:e.getRandomNum(.5,.7,2),dexterity:e.getRandomNum(.3,.5,2),luck:e.getRandomNum(.3,.5,2),speed:e.getRandomNum(.1,.5),strength:e.getRandomNum(.8,1.1,2),hp:e.getRandomNum(5,10,2)},i=2*(t.rarity.multiplier+t.material.multiplier),m=e.getRandomNum(t.level,t.level+t.level*i);return a||(a=e.getRandomFromArr(["armor","attack","agility","dexterity","luck","speed","strength","hp"])),{type:a,value:m*r[a]}},n=function(t){var a="".concat(t.material.name," ").concat(t.type);return e.capitalize(a,!0)};
},{"./State":"ibrd","./utils":"GUxD"}],"jHH1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBoss=void 0;var e=require("./utils"),t=function(t){this.name=t.name,this.codeName=e.getCodeName(t.name),this.stats=t.stats,this.size=t.size||1},a=[{name:"Sweaty Dood",stats:{hp:1e3,armor:20,attack:5,dexterity:5,luck:1,attacksPerSecond:1},size:130},{name:"Fecal Mountain",stats:{hp:4e4,armor:90,attack:100,dexterity:0,luck:0,attacksPerSecond:.3},size:150},{name:"Brolic Rat",stats:{hp:13e5,armor:2600,attack:200,dexterity:30,luck:50,attacksPerSecond:4},size:135},{name:"Lubed Assailant",stats:{hp:3e7,armor:4e3,attack:500,dexterity:100,luck:55e3,attacksPerSecond:1.2},size:100}];exports.getBoss=function(e){for(var s=0;s<a.length;s++){var r=a[s];if(r.name===e)return new t(r)}console.error("Couldn't find boss:",e)};
},{"./utils":"GUxD"}],"wSoW":[function(require,module,exports) {
"use strict";function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function t(t){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?e(Object(a),!0).forEach(function(e){r(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return a(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.instantiateQuests=exports.getRawQuest=void 0;var i=require("./utils"),o=n(require("./constants")),c=require("./State"),u=require("./Bosses"),d=function(e){var r;this.name=e.name,this.codeName=i.getCodeName(e.name),this.desc=e.desc,this.flavorText=e.flavorText,this.image="https://via.placeholder.com/64",this.duration=e.duration,this.boss=e.boss,this.rewards=e.rewards,this.artifact=t(t({},e.artifact),{},{retrieved:e.artifact.retrieved||!1}),this.achievements=e.achievements||[],this.isLocked=null===(r=e.isLocked)||void 0===r||r,this.attempts=e.attempts||0,this.timesCompleted=e.timesCompleted||0,this.isInProgress=e.isInProgress||!1,this.firstCompletedOn=e.firstCompletedOn||null},f=[{name:"Dirty Basement",desc:"A whiff of musty BO and soft drinks ambush your nostils.",flavorText:"Why are there so many tissues on the ground?",duration:5*o.Time.MINUTES,boss:u.getBoss("Sweaty Dood"),rewards:{xp:50,refinedOres:1},artifact:{name:"Gamer Gunk",dropChance:10},achievements:["XXL Underwear"],isLocked:!1},{name:"Dank Sewers",desc:"Dank in a bad way... the putrid fumes almost knock you out.",duration:30*o.Time.MINUTES,boss:u.getBoss("Fecal Mountain"),rewards:{xp:350,refinedOres:8},artifact:{name:"Poo on a Stick",dropChance:10},achievements:["Corn"],isLocked:!0},{name:"Rodent Den",desc:"Rats, rats, and more rats. Wait... that rat is more rat than the other rats...",duration:1*o.Time.HOURS,boss:u.getBoss("Brolic Rat"),rewards:{xp:1e3,refinedOres:20},artifact:{name:"Rat Tail",dropChance:10}},{name:"Moist Cavern",desc:"Everything is so slippery... I can barely get my footing.",flavorText:"Ribbed for better footing.",duration:4*o.Time.HOURS,boss:u.getBoss("Lubed Assailant"),rewards:{xp:1e4,refinedOres:100},artifact:{name:"Lube",dropChance:10}}];exports.getRawQuest=function(e){var t=i.findObjectByNameInArr(f,e);if(t)return t;console.error("Couldnt find quest:",e)},exports.instantiateQuests=function(){var e={};f.forEach(function(t){e[t.name]=new d(t)});var t=i.getSave();if(t){var r=function(r){var s=t.quests[r],a=exports.getRawQuest(r);e[r]=new d(s);["desc","flavorText","duration","boss","rewards","artifact"].forEach(function(t){return e[r][t]=a[t]})};for(var s in t.quests)r(s)}c.State.quests=e};
},{"./utils":"GUxD","./constants":"FCax","./State":"ibrd","./Bosses":"jHH1"}],"ngqN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getArtifactDetails=exports.Artifact=void 0;var e=require("./utils");exports.Artifact=function(r){var n=e.findObjectByNameInArr(i,r);this.name=n.name,this.codeName=e.getCodeName(n.name),this.flavorText=n.flavorText||null,this.desc=n.desc,this.rarity=t(),this.type="accessory",this.isArtifact=!0,this.stats=a(this.rarity,n.stats)};var t=function(){var t=e.getRandomWithWeights([{name:"Common",multiplier:0,weight:35},{name:"Uncommon",multiplier:2,weight:25},{name:"Rare",multiplier:3},{name:"Unique",multiplier:4,weight:15},{name:"Epic",multiplier:5,weight:9},{name:"Legendary",multiplier:7,weight:5},{name:"Mythic",multiplier:10,weight:1}]);return{name:t.name,multiplier:t.multiplier}},a=function(t,a){var i={};for(var r in a){var n=a[r],s=e.getRandomNum(n[0],n[1]);i[r]=s+s*t.multiplier}return i},i=[{name:"Gamer Gunk",desc:"Double xp gain on weak hits",flavorText:"Smells like... bleach.",stats:{attack:[2,5],armor:[2,5]}},{name:"Poo on a Stick",desc:"Increase hit chance by a flat 30%",stats:{attack:[4,8],armor:[4,8]}},{name:"Rat Tail",desc:"Increase attack speed by 1.5",stats:{hp:[6,10],attack:[6,10],armor:[6,10]}},{name:"Lube",desc:"Increase dodge chance by 20%",stats:{hp:[5,10],attack:[5,10],armor:[5,10]}}];exports.getArtifactDetails=function(t){var a=e.findObjectByNameInArr(i,t);if(a)return a;console.error("Couldn't find artifact:",t)};
},{"./utils":"GUxD"}],"CPnO":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var a={};if(null!=n)for(var r in n)"default"!==r&&Object.hasOwnProperty.call(n,r)&&e(a,n,r);return t(a,n),a};Object.defineProperty(exports,"__esModule",{value:!0}),exports.startGoldRush=exports.startOreRage=exports.startOreMadness=exports.startRentalBoon=exports.startPrinterGoBrr=exports.generateGoldNugget=void 0;var a=require("./State"),r=require("./utils"),s=n(require("./constants")),o=require("./Achievements"),i=require("./RisingText"),g=require("./Sounds"),u=require("./RisingText"),c=require("./index"),l=require("./ResearchUpgrades");exports.generateGoldNugget=function(){if(Math.random()<=r.percentToDecimal(a.State.stats.goldNuggetPercentSpawnChance)){var e=r.createEl("div",["gold-nugget-container"]);e.innerHTML="<img src='./images/misc-goldNugget.png' />",e.addEventListener("click",d);var t=r.getUUID();e.dataset.nuggetUuid=t,e.dataset.currentOpc="".concat(a.State.opc),e.dataset.currentOps="".concat(a.State.ops),s.gameContainer.append(e);var n=r.getRandomLocationWithinEl(s.gameContainer,39);e.style.left=n.x+"px",e.style.top=n.y+"px",e.classList.add("visible"),setTimeout(function(){var e=r.select('[data-nugget-uuid="'.concat(t,'"]'));e&&(r.removeEl(e,!0),a.State.stats.goldNuggetsMissCount++,50===a.State.stats.goldNuggetsMissCount&&o.winAchievement("Hidden in Plain Sight"))},15*s.Time.SECONDS)}};var d=function(e){g.playSound(g.SoundNames.goldNuggetClick),a.State.stats.goldNuggetsCount++,1===a.State.stats.goldNuggetsCount&&(o.winAchievement("Rumpelstiltskin"),l.unlockResearchUpgrade("Leprechaun")),25===a.State.stats.goldNuggetsCount&&o.winAchievement("Gold Finger");var t=e.target,n=15*Number(t.dataset.currentOpc)+7.5*Number(t.dataset.currentOps);if(r.removeEl(t),a.State.stats.goldNuggetsCount>3&&Math.random()<=.3){var s=r.getRandomNum(1,5);1===s&&exports.startGoldRush(e),2===s&&exports.startOreRage(e),3===s&&exports.startOreMadness(e),4===s&&exports.startRentalBoon(e),5===s&&exports.startPrinterGoBrr(e)}else c.gainOre(n,!1),i.generateRisingText(e,u.types.GOLD_NUGGET,n)};exports.startPrinterGoBrr=function(e){i.generateRisingText(e,u.types.PRINTER_GO_BRR),a.InstanceState.isPrinterGoBrrActive=!0,"store"===a.InstanceState.selectedTab&&c.updateTabContent(),setTimeout(function(){a.InstanceState.isPrinterGoBrrActive=!1,"store"===a.InstanceState.selectedTab&&c.updateTabContent()},10*s.Time.SECONDS)},exports.startRentalBoon=function(e){i.generateRisingText(e,u.types.RENTAL_BOON),a.InstanceState.isRentalBoonActive=!0,"store"===a.InstanceState.selectedTab&&c.updateTabContent(),setTimeout(function(){a.InstanceState.isRentalBoonActive=!1,"store"===a.InstanceState.selectedTab&&c.updateTabContent()},1*s.Time.MINUTES)},exports.startOreMadness=function(e){i.generateRisingText(e,u.types.ORE_RAGE);var t=r.createEl("div",["gold-nugget-cover","ore-madness"]);s.gameContainerLeftTopEl.append(t),a.InstanceState.isOreMadnessActive=!0,setTimeout(function(){a.InstanceState.isOreMadnessActive=!1,r.removeEl(t)},10*s.Time.SECONDS)},exports.startOreRage=function(e){i.generateRisingText(e,u.types.ORE_RAGE);var t=r.createEl("div",["gold-nugget-cover","ore-rage"]);s.gameContainerLeftTopEl.append(t),a.InstanceState.isOreRageActive=!0,setTimeout(function(){a.InstanceState.isOreRageActive=!1,r.removeEl(t)},30*s.Time.SECONDS)},exports.startGoldRush=function(e){i.generateRisingText(e,u.types.GOLD_RUSH);var t=r.createEl("div",["gold-nugget-cover","gold-rush"]);s.pageContainer.append(t);var n=0,a=setInterval(function(){n++,p(),10===n&&clearInterval(a)},1e3);setTimeout(function(){m()},16*s.Time.SECONDS)};var p=function(){var e=r.createEl("div",["gold-nugget-container","gold-rush-gold-nugget","visible"]);e.innerHTML="<img src='./images/misc-goldNugget.png' />",e.onanimationend=function(){return r.removeEl(e)},e.onclick=function(e){return v(e)};var t=r.getRandomLocationWithinEl(s.gameContainer,39);e.style.left=t.x+"px",s.pageContainer.append(e)},v=function(e){g.playSound(g.SoundNames.goldNuggetClick),a.InstanceState.goldRushNuggetsInARow++,10===a.InstanceState.goldRushNuggetsInARow&&o.winAchievement("Gold Rushing");var t=15*a.State.opc+5*a.State.ops;c.gainOre(t,!1),i.generateRisingText(e,u.types.GOLD_NUGGET,t),r.removeEl(e.target)},m=function(){r.removeEl(r.select(".gold-nugget-cover.gold-rush")),a.InstanceState.goldRushNuggetsInARow=0};
},{"./State":"ibrd","./utils":"GUxD","./constants":"FCax","./Achievements":"ctio","./RisingText":"UmE0","./Sounds":"Crhs","./index":"KqmS","./ResearchUpgrades":"vNBS"}],"E5O2":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var r={};if(null!=o)for(var a in o)"default"!==a&&Object.hasOwnProperty.call(o,a)&&e(r,o,a);return t(r,o),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.moveTextInScroller=exports.addToTextScrollerQueue=exports.addToTextScrollerMessages=exports.instantiateTextScroller=void 0;var r=require("./State"),a=require("./utils"),s=o(require("./constants")),n=["What is a rocks favorite fruit? ... Pom-a-granite","Did you see that cleavage? Now that's some gneiss schist.","All rock and no clay makes you a dull boy (or girl)","Don't take life for granite","What happens when you throw a blue rock in the red sea? ... It gets wet","As you can tell, these are pretty lame... Submit your own in our Discord!","Rocks really rock!","I can't believe I'm googling rock puns right now","There are a few gems amongst all these terrible rock puns","These puns sure are all ore nothing","[ INSERT ROCK PUN HERE ]","ERR NO.42069 - No rocks found","Hmmm... I wonder what happens if I click on the left torch 20 times...","Join our discord and add your name into the game!","Thank you so much for playing my game!","Got some thoughts or concerns? Join the discord and post a message for the dev to see!","The best way to test a volcano is to throw a rock in it... or yourself.","Announcement: To test the quality of your pickaxe, try whacking yourself with it a couple times.","Did you know rock was magma before it was cool?","Some of these jokes might flourite over your head...","What's a rocks favorite band? Rolling Stones. I'll leave now.","What do you call an Irish gem thats fake? A sham rock.","Why are geologists great dates? They can make your bedrock.","What's a rocks favorite kind of music? Rock music.","How do you put a rock baby to sleep? You rock it.","What is a rocks favorite lullaby? Rock-A-Bye baby.","What is a rocks favorite compliment? You rock!","What does a rock and prison have in common? They both did hard time.","The rock reminisced about ages past and felt sedimental","The ingot were gossiping about the ore: They're so unrefined!","Can you pass me the basalt and bapepper?","So what are you serving time for? Granite theft auto, you? Basalt and battery.","You want to escape the rock puns? Too slate!","How do rocks decide on a good steak? They look at the marbling","I'm not that tuff, but i'm a gneiss guy!",'Confucious once said: "Don\'t forget to make backups!"'];exports.instantiateTextScroller=function(){r.State.textScrollerMessages||(r.State.textScrollerMessages=n),i()};var i=function e(){var t=r.State.textScrollerQueue.length>0?r.State.textScrollerQueue.shift():a.getRandomFromArr(n),o=a.createEl("p",["message"],t);o.ontransitionend=function(){a.removeEl(o),e()},s.textScrollerContainerEl.append(o);var i=o.offsetWidth/10,l=i>25?25:i<15?15:i;o.style.transitionDuration=l+"s",exports.moveTextInScroller()};exports.addToTextScrollerMessages=function(e){r.State.textScrollerMessages.push(e)},exports.addToTextScrollerQueue=function(e){r.State.textScrollerQueue.push(e),r.State.textScrollerMessages.push(e)},exports.moveTextInScroller=function(){var e=s.textScrollerContainerEl.querySelector(".message"),t=s.textScrollerContainerEl.offsetWidth+e.offsetWidth;e.style.transform="translateX(-".concat(t,"px)")};
},{"./State":"ibrd","./utils":"GUxD","./constants":"FCax"}],"pwFE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.importSave=exports.exportSave=exports.saveGame=exports.updateSaveState=exports.NEWEST_VERSION=void 0;var e,s=require("./Buildings"),t=require("./interfaces/Research"),a=require("./Notification"),r=require("./Quests"),i=require("./ResearchUpgrades"),o=require("./Skills"),n=require("./State"),c=require("./utils");!function(e){e.BETA_1="1.0.0 Beta 1",e.BETA_2="1.0.0 Beta 2",e.BETA_3="1.0.0 Beta 3",e.BETA_4="1.0.0 Beta 4",e.BETA_5="1.0.0 Beta 5",e.BETA_6="1.0.0 Beta 6",e.BETA_7="1.0.0 Beta 7",e.BETA_8="1.0.0 Beta 8",e.BETA_9="1.0.0 Beta 9"}(e||(e={})),exports.NEWEST_VERSION=e.BETA_9,exports.updateSaveState=function(a){var n,l,d,p,u=a.settings.version;if(u===exports.NEWEST_VERSION)console.log("You are on the latest version: v".concat(exports.NEWEST_VERSION));else{switch(u){case e.BETA_6:var g;if(a.settings.tick=30,a.stats.globalBonusPerGenerationLevel=3,!0===a.researchUpgrades["Research Power Up"].isInProgress)a.research.currentState!==t.ResearchStateTypes.IDLE&&null!==a.research.currentUpgrade&&"Research Power Up"===(null===(g=a.research.currentUpgrade)||void 0===g?void 0:g.name)||(a.researchUpgrades["Research Power Up"].isInProgress=!1);if(a.researchUpgrades["Combo Shield"].isOwned)if(!a.researchUpgrades["Shield Polish"]){var h=i.getRawResearchUpgrade("Shield Polish");a.researchUpgrades["Shield Polish"]=new i.ResearchUpgrade(h),a.researchUpgrades["Shield Polish"].isLocked=!1,a.researchUpgrades["Shield Polish"].isNew=!0}var S=c.findInObjectByMatchingKey(a.skills,"name","Blessings of the Ore God").isOwned;if(o.resetSkillTree(a),a.generation.lv>1&&(a.generation.lv=1,a.generation.lvsOnRefine=0,a.generation.maxXp=300*Math.pow(1.5,a.generation.lv),a.generation.sp=0,S)){var v=c.findInObjectByMatchingKey(a.skills,"name","Blessings of the Ore God");v.isOwned=!0,v.unlocks.forEach(function(e){Object.values(a.skills).find(function(s){return s.id===e}).isLocked=!1})}a.settings.version=e.BETA_7,localStorage.setItem("s",btoa(JSON.stringify(a)));case e.BETA_7:a.activeSkills={tenantIntimidation:{isActive:!1,leftoverDuration:null},hulkSmash:{isActive:!1}},a.stats.weakSpotSizeScale=1,a.bonuses.temporary.ocdPercentBonus||(a.bonuses.temporary.ocdPercentBonus=0),a.buildings.Monolith=s.getRawBuilding("Monolith"),a.buildings.Crypt.owned>0&&(a.buildings.Monolith.isHidden=!1),a.buildings.Hospital.owned>0&&(a.buildings.Monolith.isLocked=!1,a.buildings.Monolith.isHidden=!1),a.quests["Moist Cavern"]=r.getRawQuest("Moist Cavern"),a.quests["Rodent Den"].timesCompleted>0&&(a.quests["Moist Cavern"].isLocked=!1),a.researchUpgrades["20/40 Vision"]=i.getRawResearchUpgrade("20/40 Vision"),a.researchUpgrades["Fragility Spectacles"].isOwned&&(a.researchUpgrades["20/40 Vision"].isLocked=!1);case e.BETA_8:if(a.stats.weakSpotSizeScale||(a.stats.weakSpotSizeScale=1),null!==(n=a.researchUpgrades["20/40 Vision"])&&void 0!==n&&n.isOwned&&(a.stats.weakSpotSizeScale=1.1),null!==(l=a.researchUpgrades["20/60 Vision"])&&void 0!==l&&l.isOwned&&(a.stats.weakSpotSizeScale=1.2),null!==(d=a.researchUpgrades["20/100 Vision"])&&void 0!==d&&d.isOwned&&(a.stats.weakSpotSizeScale=1.3),null!==(p=a.researchUpgrades["Legally Blind"])&&void 0!==p&&p.isOwned&&(a.stats.weakSpotSizeScale=1.5),a.quest.currentProgress&&NaN!==a.quest.currentProgress||(a.quest.currentProgress=0),a.hero.baseStats.speed=0,a.researchUpgrades["Fragility Spectacles"].isOwned&&!a.researchUpgrades["20/40 Vision"]){var E=i.getRawResearchUpgrade("20/40 Vision");a.researchUpgrades["20/40 Vision"]=new i.ResearchUpgrade(E),a.researchUpgrades["20/40 Vision"].isLocked=!1}for(var m in a.quests){var w=a.quests[m];w.timesCompleted>0&&w.isLocked&&(w.isLocked=!1)}a.activeSkills||(a.activeSkills={hulkSmash:{isActive:!1},tenantIntimidation:{isActive:!1,leftoverDuration:0}}),a.researchUpgrades.Watchdog.isOwned&&(a.stats.oresWhileAwayCap=1e6),a.researchUpgrades["Ore Storage"].isOwned&&(a.stats.oresWhileAwayCap=1e9),a.researchUpgrades["Ore Warehouse"].isOwned&&(a.stats.oresWhileAwayCap=1e12),a.researchUpgrades["Ore Amazon"].isOwned&&(a.stats.oresWhileAwayCap=1e33),a.stats.questOreBonus=.1}a.settings.version=exports.NEWEST_VERSION}return a.stats.questOreBonus=.1,localStorage.setItem("s",btoa(JSON.stringify(a))),a},exports.saveGame=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];console.log("GAME SAVED"),n.State.settings.lastSave=Date.now();var s=btoa(JSON.stringify(n.State));localStorage.setItem("s",s),e&&a.notify("Game Saved")},exports.exportSave=function(){var e=c.createEl("div",["modal-content"]);e.innerHTML="<h3 class='centered'>Copy this to your clipboard!</h3>";var s=c.createEl("div",["save"]);s.innerHTML=localStorage.getItem("s"),s.addEventListener("click",function(){var e=localStorage.getItem("s"),s=document.createElement("textarea");s.textContent=e,s.style.position="fixed",document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),alert("Save copied to clipboard!")});var t=c.createEl("p",["centered"],"click above to copy to your clipboard");e.append(s,t),c.buildModal("Export Save",e)},exports.importSave=function(){var e=c.createEl("div",["modal-content"]);e.innerHTML="\n        <h3 class='centered'>Paste Your Save Here</h3>\n        <textarea rows='8'></textarea>\n    ";var s=c.createEl("div",["modal-actions"]),t=c.createEl("button",["modal-action"],"Import Save");t.onclick=function(){var e=c.select("textarea").value;try{JSON.parse(atob(e))&&(localStorage.setItem("s",e),window.location.reload())}catch(s){a.notify("Error importing save",a.NotifyTypes.ERROR)}};var r=c.createEl("button",["modal-action"],"Cancel");r.onclick=function(){return c.closeTopmostModal()},s.append(t,r),c.buildModal("Import Save",e,s)};
},{"./Buildings":"xBG6","./interfaces/Research":"dP0l","./Notification":"wf64","./Quests":"wSoW","./ResearchUpgrades":"vNBS","./Skills":"XXWm","./State":"ibrd","./utils":"GUxD"}],"lenN":[function(require,module,exports) {
"use strict";function e(e,t,n,a,i,r,o){try{var s=e[r](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(a,i)}function t(t){return function(){var n=this,a=arguments;return new Promise(function(i,r){var o=t.apply(n,a);function s(t){e(o,i,r,s,l,"next",t)}function l(t){e(o,i,r,s,l,"throw",t)}s(void 0)})}}var n=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.hasOwnProperty.call(e,i)&&n(t,e,i);return a(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.closeSkillTree=exports.showSkillTree=exports.handleRefineBtnClick=void 0;var r=require("./Achievements"),o=require("./Buildings"),s=require("./index"),l=require("./interfaces/Quest"),c=require("./Notification"),u=require("./ResearchUpgrades"),d=require("./Skills"),p=require("./Sounds"),f=require("./State"),v=require("./Tooltip"),S=require("./Updates"),m=require("./Upgrades"),g=require("./utils"),y=i(require("./constants"));exports.handleRefineBtnClick=function(e){var t;p.playSound(p.SoundNames.misc);var n=g.createEl("div",["modal-content","refine-modal-content","centered"],"<p>Are you sure you want to refine?</p>"),a=g.createEl("div",["refine-modal-section","gains"]);a.innerHTML="\n        <p>+ You will gain <span class='bold'>".concat(b(),"</span> refined ores.</p>\n        ").concat(f.State.inventory.refined>0?"<p>+ You will keep your refined ores.</p>":"","\n        ").concat(f.State.generation.lvsOnRefine>0?"<p>+ You will gain <span class='bold'>".concat(f.State.generation.lvsOnRefine,"</span> generation levels</p>"):"","\n        ").concat(null!==(t=f.State.inventory.equips)&&void 0!==t&&t.accessory?"<p>+ You will keep your accessory item: <span class='bold'>".concat(f.State.inventory.equips.accessory.name,"</span>.</p>"):"","\n        <p>+ You will keep <span class='bold'>ALL</span> achievements and research.</p>\n        ").concat(f.State.stats.currentCombo>0?"<p>+ You will keep your current combo of: <span class='bold'>".concat(f.State.stats.currentCombo,"</span></p>"):"","\n    ");var i=g.createEl("div",["refine-modal-section","losses"]);i.innerHTML="\n        <p>- You will lose <span class='bold'>ALL</span> your ores.</p>\n        <p>- You will lose <span class='bold'>ALL</span> your buildings and upgrades.</p>\n        <p>- You will lose <span class='bold'>ALL</span> your equips.</p>\n        ".concat(f.State.quest.state!==l.QuestStateTypesEnum.IDLE?"<p>- You will lose your current quest progress</p>":"","\n    "),n.append(a,i);var r=g.createEl("div",["modal-actions"]),o=g.createEl("button",["modal-action"],"cancel");o.addEventListener("click",function(){return g.closeTopmostModal()});var s=g.createEl("button",["modal-action"],"refine");s.addEventListener("click",function(){f.State.stats.oresEarned<1e7?c.notify("You need at least ".concat(g.beautifyNumber(1e7)," ores to refine"),c.NotifyTypes.ERROR):k()}),r.append(s,o),g.buildModal("Refine",n,r)};var h=function(){var e=t(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=b(),document.querySelectorAll(".item-bag-container").forEach(function(e){return g.removeEl(e)}),document.querySelectorAll(".ore-chunk").forEach(function(e){return g.removeEl(e)}),w(),E(),s.generateNewOre(),o.instantiateBuildings(!0),m.instantiateUpgrades(!0),S.UpdatesState.updateOres=!0,S.UpdatesState.updateTabs=!0,S.UpdatesState.updateTabContent=!0,S.UpdatesState.updateGenerationLv=!0,S.UpdatesState.updateGenerationXp=!0,S.UpdatesState.updateGenerationLvsOnRefine=!0,u.unlockResearchUpgrade("Hot Swappable"),u.unlockResearchUpgrade("Building Expansion"),s.gainRefinedOre(t),exports.showSkillTree(),f.State.quest.state!==l.QuestStateTypesEnum.IDLE&&s.completeQuest(null,!1),s.updateOPS(),s.updateOPC();case 23:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=t(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:g.closeTopmostModal(),p.playSound(p.SoundNames.refine),(t=g.createEl("div",["refine-animation-cover"])).onanimationend=function(){h(),g.removeEl(t)},y.pageContainer.append(t);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){for(var e in f.InstanceState.selectedTab="store",f.State.opc=1,f.State.inventory.ores=0,f.State.research.power=1,f.State.bonuses.temporary)f.State.bonuses.temporary[e]=0;f.State.generation.lv+=f.State.generation.lvsOnRefine,f.State.generation.sp+=f.State.generation.lvsOnRefine,f.State.generation.lvsOnRefine=0,f.State.inventory.equips={pickaxe:s.getBasePickaxe(),accessory:f.State.inventory.equips.accessory},s.updateHeroStats()},E=function(){f.State.stats.timesRefined++,f.State.stats.oresEarned=0,f.State.stats.rockLevel=0,f.State.stats.rocksDestroyed=0},b=function(){return Math.floor(Math.sqrt(f.State.stats.oresEarned)/1e3/3)},L=!1;exports.showSkillTree=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y.generationHeaderLvEl.innerHTML=f.State.generation.lv+"",y.generationHeaderPointsEl.innerHTML=f.State.generation.sp+"",y.skillTreeWrapperEl.classList.add("active"),e&&(L=!0),x()},exports.closeSkillTree=function(){if(1===f.State.stats.timesRefined&&r.winAchievement("Refinee"),10===f.State.stats.timesRefined&&r.winAchievement("Refiner"),100===f.State.stats.timesRefined&&r.winAchievement("Refinest"),f.State.generation.lv>=10&&r.winAchievement("Relatives"),f.State.generation.lv>=20&&r.winAchievement("Extended Family"),f.State.generation.lv>=50&&r.winAchievement("Family Tree"),f.State.generation.lv>=100&&r.winAchievement("Centennial"),f.State.generation.lv>=200&&r.winAchievement("Bi-Centennial"),y.skillTreeWrapperEl.classList.remove("active"),y.skillTreeContainerEl.innerHTML="",L)L=!1;else{var e=d.getSkillByName("Hulk Smash"),t=d.getSkillByName("Tenant Intimidation");if(e.isOwned||t.isOwned){var n=g.select(".skill-bar");n&&g.removeEl(n),s.buildSkillBar()}if(d.getSkillByName("Blessings of the Ore God").isOwned&&s.buildEquips(),1===f.State.stats.timesRefined){var a=g.createEl("div",["modal-content","centered"]);a.innerHTML="\n            <h3>Pickaxes now drop with more stats</h3>\n            <p><strong>SHARPNESS</strong> is the damage dealt on <strong>weak spots hits</strong></p>\n            <p><strong>HARDNESS</strong> is the damage dealt on <strong>normal hits</strong></p>\n        ",g.buildModal("Wowzers",a)}f.State.inventory.ores=0}};var x=function(){y.skillTreeContainerEl.innerHTML="";var e=g.getScale(),t=(window.innerWidth/2-20-20/e)/e,n=(window.innerHeight/2-20-70/e)/e;Object.values(f.State.skills).forEach(function(e){var a=g.createEl("div",["skill-wrapper"]),i=g.createEl("div",["skill","skill-".concat(e.codeName),"skill-".concat(e.id),"skill-".concat(e.skillSize),"".concat(e.isOwned?"skill-owned":"skill-not-owned")],e.id);i.dataset.skillUuid=g.getUUID(),e.isLocked&&i.classList.add("skill-locked");var r=100*e.position.x,o=100*e.position.y;a.style.height="40px",a.style.width="40px",a.style.left=t+r+"px",a.style.top=n+o+"px",i.addEventListener("click",function(t){return e.click(t)}),i.addEventListener("mousemove",function(t){return e.mousemove(t)}),i.addEventListener("mouseleave",function(){return v.hideTooltip()}),a.append(i),e.el=i,y.skillTreeContainerEl.append(a)}),Object.values(f.State.skills).forEach(function(e){var t=e.el.offsetParent,n={x:t.offsetLeft+t.offsetWidth/2,y:t.offsetTop+t.offsetHeight/2};e.unlocks.forEach(function(t){var a=g.findInObjectByMatchingKey(f.State.skills,"id",t),i=g.select(".skill-".concat(t)),r={x:i.offsetParent.offsetLeft+i.offsetParent.offsetWidth/2,y:i.offsetParent.offsetTop+i.offsetParent.offsetHeight/2},o=[e.id,t].sort();if(!g.select(".skill-line-".concat(o[0],"-").concat(o[1]))){var s=g.createEl("div",["skill-line","skill-line-".concat(o[0],"-").concat(o[1])]);a.isLocked&&s.classList.add("locked");var l=g.getDistance(n.x,r.x,n.y,r.y),c=g.getAngle(n.x,n.y,r.x,r.y);s.style.left=n.x+"px",s.style.top=n.y+"px",s.style.width=l+"px",s.style.transform="rotate(".concat(c,"deg)"),s.style.transformOrigin="left",y.skillTreeContainerEl.append(s)}})})};
},{"./Achievements":"ctio","./Buildings":"xBG6","./index":"KqmS","./interfaces/Quest":"HTI4","./Notification":"wf64","./ResearchUpgrades":"vNBS","./Skills":"XXWm","./Sounds":"Crhs","./State":"ibrd","./Tooltip":"JjQV","./Updates":"owfE","./Upgrades":"ypIX","./utils":"GUxD","./constants":"FCax"}],"KqmS":[function(require,module,exports) {
"use strict";function e(e,t,a,n,r,s,i){try{var o=e[s](i),c=o.value}catch(l){return void a(l)}o.done?t(c):Promise.resolve(c).then(n,r)}function t(t){return function(){var a=this,n=arguments;return new Promise(function(r,s){var i=t.apply(a,n);function o(t){e(i,r,s,o,c,"next",t)}function c(t){e(i,r,s,o,c,"throw",t)}o(void 0)})}}function a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.hasOwnProperty.call(e,a)&&s(t,e,a);return i(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBasePickaxe=exports.buildSkillBar=exports.completeQuest=exports.buildQuestButton=exports.updateHeroStats=exports.updateHeroBaseStats=exports.resizeUpgradesContainer=exports.updateUpgradesContainer=exports.updateTabContent=exports.updateStorePriceClasses=exports.updateOPC=exports.updateOPS=exports.updateRefinedOres=exports.buildEquips=exports.buildItemSprite=exports.buildPickaxeSprite=exports._buildItemStats=exports.equipItem=exports.updateComboSign=exports.gainRefinedOre=exports.gainOre=exports.generateNewOre=exports.generateWeakSpot=exports.spend=exports.gainBuildingFree=exports.updatePickaxeBonuses=exports.updateBonuses=void 0,require("regenerator-runtime/runtime");var l=require("./State"),u=require("./Updates"),p=c(require("./changelog.json")),d=o(require("./constants")),S=require("./utils"),v=require("./OreParticle"),m=require("./RisingText"),g=require("./Tabs"),h=require("./Buildings"),f=require("./Tooltip"),b=require("./ResearchUpgrades"),y=require("./Achievements"),E=require("./Upgrades"),k=require("./Sounds"),T=require("./Skills"),w=require("./RisingText"),C=c(require("@panzoom/panzoom")),x=require("./Pickaxe"),A=require("./Equips"),L=require("./Quests"),O=require("./interfaces/Quest"),q=require("./Notification"),R=require("./Artifacts"),I=require("./GoldNugget"),N=require("./interfaces/Research"),P=require("./TextScroller"),H=require("./Save"),M=require("./Refine"),B=function(){if(0===l.State.stats.rocksDestroyed){l.State.gameBooleans.isBreakTheRockTutorialShown=!0;var e=S.createEl("div",["tutorial-container"]);e.id="break-the-rock-tutorial",e.innerHTML="\n            <div class='arrow left'></div>\n            <div class='tutorial-content'>\n                <p>Break me!</p>\n            </div>\n        ",d.oreSpriteWrapperEl.append(e);var t={x:d.oreSpriteWrapperEl.offsetWidth+20,y:(d.oreSpriteWrapperEl.offsetTop+d.oreSpriteWrapperEl.offsetHeight)/2-e.offsetHeight/2};e.style.left=t.x+"px",e.style.top=t.y+"px",e.classList.add("visible")}},D=function(){if(!l.State.gameBooleans.isBuyBuildingsTutorialShown){l.State.gameBooleans.isBuyBuildingsTutorialShown=!0;var e=S.createEl("div",["tutorial-container"]);e.id="buy-buildings-tutorial",e.innerHTML="\n            <div class='tutorial-content'>\n                <p>Buy buildings for passive income</p>\n                <small>Looking at you Dylan.</small>\n            </div>\n            <div class='arrow right'></div>\n        ",d.gameContainer.append(e);var t=S.select(".building.building-school").getBoundingClientRect(),a=t.top,n=t.bottom,r=t.left,s=S.getScale(),i={x:r/s-e.offsetWidth-30,y:(a+n)/s/2-50};e.style.left=i.x+"px",e.style.top=i.y+"px",e.classList.add("visible")}},U=function(){setTimeout(function(){if("research"!==l.InstanceState.selectedTab&&!l.State.gameBooleans.isResearchTabUnlockedTutorialShown){l.State.gameBooleans.isResearchTabUnlockedTutorialShown=!0;var e=S.createEl("div",["tutorial-container"]);e.id="research-tab-unlocked-tutorial",e.innerHTML="\n                <div class='tutorial-content'>\n                    <p>Research tab is now unlocked!</p>\n                </div>\n                <div class='arrow right'></div>\n            ",d.gameContainer.append(e);var t=S.select(".tab.tab-research").getBoundingClientRect(),a=t.top,n=t.bottom,r=t.left,s=S.getScale(),i={x:r/s-e.offsetWidth-30,y:(a+n)/s/2-50};e.style.left=i.x+"px",e.style.top=i.y+"px",e.classList.add("visible")}},500)},G=function(){setTimeout(function(){if(!b.getResearchUpgrade("Fragility Spectacles").isInProgress&&!l.State.gameBooleans.isStartFirstResearchTutorialShown){l.State.gameBooleans.isStartFirstResearchTutorialShown=!0;var e=S.createEl("div",["tutorial-container"]);e.id="start-first-research-tutorial",e.innerHTML="\n                <div class='tutorial-content'>\n                    <p>Start on your first research</p>\n                </div>\n                <div class='arrow right'></div>\n            ",d.gameContainer.append(e);var t=S.select(".research-upgrade.research-upgrade-fragilitySpectacles").getBoundingClientRect(),a=t.top,n=t.bottom,r=t.left,s=S.getScale(),i={x:r/s-e.offsetWidth-30,y:(a+n)/s/2-50};e.style.left=i.x+"px",e.style.top=i.y+"px",e.classList.add("visible")}},500)};exports.updateBonuses=function(e,t,a){l.State.bonuses[e][t]+=a,u.UpdatesState.updateOPC=!0,u.UpdatesState.updateOPS=!0},exports.updatePickaxeBonuses=function(e,t){l.State.pickaxeBonuses[e]+=t,u.UpdatesState.updateOPC=!0,u.UpdatesState.updateOPS=!0},exports.gainBuildingFree=function(e,t){l.State.buildings[e].buyFree(t),u.UpdatesState.updateOPC=!0,u.UpdatesState.updateOPS=!0},exports.spend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ores";return l.State.inventory[t]>=e&&(l.State.inventory[t]-=e,!0)};var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=l.State.opc,n=null;if(l.InstanceState.isOreRageActive&&(a*=3),l.InstanceState.isOreMadnessActive&&(a*=20),l.State.activeSkills.hulkSmash.isActive&&(a*=l.State.skillVars.hulkSmash.damageMultiplier,n=w.types.HULK_SMASH,lt(T.getSkillByName("Hulk Smash"))),t){k.playSound(k.SoundNames.oreWeakSpotHit),n=n===w.types.HULK_SMASH?w.types.WEAK_SPOT_HULK_SMASH:w.types.WEAK_SPOT;var r=l.State.inventory.equips.pickaxe.sharpness+l.State.pickaxeBonuses.sharpness;a*=S.percentToDecimal(r),a*=l.State.stats.weakSpotMultiplier,l.State.stats.weakSpotClicks++,l.State.stats.currentCombo++,ae(l.State.stats.xpPerWeakHit),u.UpdatesState.updateGenerationXp=!0,5===l.State.stats.currentCombo&&b.unlockResearchUpgrade("Combo Shield"),l.State.stats.currentCombo%5==0&&m.generateRisingText(e,w.types.COMBO,l.State.stats.currentCombo),l.State.stats.currentCombo>l.State.stats.highestCombo&&(l.State.stats.highestCombo=l.State.stats.currentCombo),l.State.stats.currentCombo>=5&&y.winAchievement("Combo Baby"),l.State.stats.currentCombo>=20&&y.winAchievement("Combo Pleb"),l.State.stats.currentCombo>=50&&y.winAchievement("Combo Squire"),l.State.stats.currentCombo>=100&&y.winAchievement("Combo Knight"),l.State.stats.currentCombo>=200&&y.winAchievement("Combo King"),l.State.stats.currentCombo>=350&&y.winAchievement("Combo Master"),l.State.stats.currentCombo>=666&&y.winAchievement("Combo Devil"),l.State.stats.currentCombo>=777&&y.winAchievement("Combo Jackpot"),l.State.stats.currentCombo>=1e3&&y.winAchievement("Combo God"),l.State.stats.currentCombo>=1337&&y.winAchievement("Combo L337"),l.State.stats.currentCombo>=5e3&&y.winAchievement("Combo Exodus"),l.State.stats.currentCombo>=9001&&y.winAchievement("Combo Saiyan"),l.State.stats.currentCombo>=1e4&&y.winAchievement("Combo Saitama")}else{var s=l.State.inventory.equips.pickaxe.hardness+l.State.pickaxeBonuses.hardness;a*=S.percentToDecimal(s),l.State.stats.currentCombo>0&&(l.State.comboShield.isAvailable?(l.State.comboShield.isAvailable=!1,l.State.comboShield.lastUsed=Date.now(),m.generateRisingText(e,w.types.COMBO_SHIELD)):(l.State.stats.currentCombo=0,m.generateRisingText(e,w.types.COMBO_LOSS))),k.playSound(k.SoundNames.oreHit)}m.generateRisingText(e,n,a),a>=100&&y.winAchievement("Not Even A Scratch"),a>=1e3&&y.winAchievement("Didnt Even Hurt"),a>=1e5&&y.winAchievement("That Tickled"),a>=1e6&&y.winAchievement("I Felt That"),exports.updateComboSign(),exports.gainOre(a),t&&(se(),exports.generateWeakSpot()),v.generateOreParticles(e),l.State.stats.oreClicks++,1===l.State.stats.oreClicks&&y.winAchievement("Strike the Earth")};exports.generateWeakSpot=function(){var e=S.select(".weak-spot");e||((e=S.createEl("div",["weak-spot"])).addEventListener("click",function(e){return _(e,!0)}),d.oreSpriteContainerEl.append(e));var t=S.getRandomLocationWithinEl(d.oreSpriteContainerEl,10),a=t.x,n=t.y,r=l.State.stats.weakSpotSizeScale;e.style.transform="scale(".concat(r,")"),e.style.left=a+"px",e.style.bottom=n+"px"};var W=function(e){var t=0,a=l.State.ore.hp;if(e>=a){for(;e>=a;)e-=a,a=Q(++t);F(t)}l.State.ore.hp-=e,u.UpdatesState.updateOreSprite=!0,u.UpdatesState.updateOreHp=!0},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;"Rock"===l.State.ore.spriteType&&y.winAchievement("Can you smell what he's cooking"),l.State.stats.rocksDestroyed+=e,l.State.stats.totalRocksDestroyed+=e,l.State.stats.rockLevel+=e;var t=S.select("#break-the-rock-tutorial");t&&S.removeEl(t,!0),1===l.State.stats.totalRocksDestroyed&&D(),l.State.stats.rocksDestroyed>=3&&E.unlockUpgrade("Copper Coating"),l.State.stats.rocksDestroyed>=10&&E.unlockUpgrade("Gold Coating"),l.State.stats.rocksDestroyed>=20&&E.unlockUpgrade("Iron Coating"),l.State.stats.rocksDestroyed>=40&&(E.unlockUpgrade("Platinum Coating"),E.unlockUpgrade("Polished Nuggy")),l.State.stats.rocksDestroyed>=80&&(E.unlockUpgrade("Diamond Coating"),E.unlockUpgrade("Shiny Nuggy")),l.State.stats.rocksDestroyed>=160&&(E.unlockUpgrade("Uranium Coating"),E.unlockUpgrade("Glossy Nuggy")),l.State.stats.rocksDestroyed>=320&&(E.unlockUpgrade("Unobtainium Coating"),E.unlockUpgrade("Gleaming Nuggy")),l.State.stats.rocksDestroyed>=640&&E.unlockUpgrade("Lustrous Nuggy"),ae(1),exports.generateNewOre();var a=S.getRandomFromArr([1,2,3,4,5,6,7,8]);1===S.getRandomNum(1,200)&&(a="Rock"),l.State.ore.spriteType=a,k.playSound(k.SoundNames.oreDestroyed),1===l.State.stats.totalRocksDestroyed&&y.winAchievement("Newbie Miner"),l.State.stats.totalRocksDestroyed>=10&&y.winAchievement("Novice Miner"),l.State.stats.totalRocksDestroyed>=25&&y.winAchievement("Intermediate Miner"),l.State.stats.totalRocksDestroyed>=50&&y.winAchievement("Advanced Miner"),l.State.stats.totalRocksDestroyed>=100&&y.winAchievement("Master Miner"),l.State.stats.totalRocksDestroyed>=200&&y.winAchievement("Chief Miner"),l.State.stats.totalRocksDestroyed>=500&&y.winAchievement("Exalted Miner"),l.State.stats.totalRocksDestroyed>=1e3&&y.winAchievement("God Miner"),l.State.stats.totalRocksDestroyed>=5&&(me("research"),U()),V()},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return l.State.ore.baseHp*Math.pow(l.State.ore.hpScale,l.State.stats.rockLevel+e)};exports.generateNewOre=function(){l.State.ore.maxHp=Q(),l.State.ore.hp=l.State.ore.maxHp},exports.gainOre=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l.State.inventory.ores+=e,l.State.stats.oresEarned+=e,l.State.stats.lifetimeOresEarned+=e,l.State.stats.lifetimeOresEarned>=5e6&&(b.getResearchUpgrade("Refinement").isLocked&&b.unlockResearchUpgrade("Refinement"),b.getResearchUpgrade("Quest Board").isLocked&&b.unlockResearchUpgrade("Quest Board")),ae(e/1e3/5),t&&W(e),u.UpdatesState.updateOres=!0},exports.gainRefinedOre=function(e){l.State.inventory.refined+=e,l.State.stats.refinedOresEarned+=e,u.UpdatesState.updateRefinedOres=!0},exports.updateComboSign=function(){d.comboSignEl.classList.contains("visible")||Pt(),d.comboSignNumberEl.innerHTML="\n        ".concat(l.State.comboShield.isAvailable?"<img class='combo-shield' src=\"./images/misc-comboShield.svg\"/>":"","\n        <h1>").concat(l.State.stats.currentCombo,"</h1>\n    ")};var j=function(e){k.playSound(k.SoundNames.pickupOreChunk);var t=e.target,a=Number(t.dataset.amount);exports.gainOre(a,!1),m.generateRisingText(e,null,a),S.removeEl(t)},K=function(){for(var e=S.getRandomNum(l.State.stats.oreChunkMinDropAmount,l.State.stats.oreChunkMaxDropAmount),t=0;t<e;t++)Math.random()<S.percentToDecimal(l.State.stats.oreChunkDropChance)&&function(){var e=S.createEl("img");e.src="./images/ore.png",e.classList.add("ore-chunk"),e.style.height="21px",e.style.width="25px",e.style.position="absolute",e.style.pointerEvents="none",e.style.transition="transform .3s ease-out";var t=S.getUUID();e.dataset.chunkUuid=t,e.dataset.amount="".concat(3*l.State.opc+2*l.State.ops),e.addEventListener("mouseover",j),e.addEventListener("transitionend",function(){return e.style.pointerEvents="all"});var a=d.oreSpriteEl.getBoundingClientRect(),n=a.top,r=a.bottom,s=a.left,i=a.right,o=S.getScale(),c=(s+i)/2/o,u=(n+r)/2/o;e.style.left=c+"px",e.style.top=u+"px",d.gameContainerLeft.append(e),e.getBoundingClientRect();var p={x:S.getRandomNum(s,i)/o+S.getRandomNum(-10,10)-c,y:r/o+S.getRandomNum(-10,10)-u};e.style.transform="translate( ".concat(p.x,"px, ").concat(p.y,"px)"),setTimeout(function(){var e=S.select('[data-chunk-uuid="'.concat(t,'"]'));e&&S.removeEl(e,!0)},15*d.Time.SECONDS)}()},V=function(){for(var e=l.State.stats.itemDropChance,t=S.getRandomNum(1,100),a=0;a<l.State.stats.itemsPerDrop;a++)(t<=e||1===l.State.stats.rocksDestroyed)&&function(){var e=S.getRandomNum(1,3),t=S.createEl("div",["item-bag-container"],"<div class='item-bag item-bag-".concat(e,"'></div>")),a=S.getUUID();t.dataset.itemUuid=a,t.dataset.itemLv="".concat(l.State.stats.rockLevel),t.addEventListener("click",X),t.addEventListener("transitionend",function(){return t.style.pointerEvents="all"}),d.gameContainer.append(t);var n=d.oreSpriteEl.getBoundingClientRect(),r=n.top,s=n.bottom,i=n.left,o=n.right,c=S.getScale(),u=(i+o-t.clientWidth)/2/c,p=(r+s)/2/c,v={x:S.getRandomNum(i,o)/c+S.getRandomNum(-10,10)-u,y:s/c+S.getRandomNum(-10,10)-p};t.style.top=p+"px",t.style.left=u+"px",t.getBoundingClientRect(),t.style.transform="translate( ".concat(v.x,"px, ").concat(v.y,"px)"),setTimeout(function(){var e=S.select('[data-item-uuid="'.concat(a,'"]'));e&&S.removeEl(e,!0)},60*d.Time.SECONDS)}()},z=function(e){return T.getSkillByName("Blessings of the Ore God").isOwned?Math.random()<.3?new x.Pickaxe(e):new A.Equip(e):new x.Pickaxe(e)},X=function(e){var t=e.target,a=Number(t.dataset.itemLv);l.State.stats.itemsPickedUpCount++,10===l.State.stats.itemsPickedUpCount&&b.unlockResearchUpgrade("Mo Items"),10===l.State.stats.itemsPickedUpCount&&y.winAchievement("The Collector I"),50===l.State.stats.itemsPickedUpCount&&y.winAchievement("The Collector II"),100===l.State.stats.itemsPickedUpCount&&y.winAchievement("The Collector III");var n=z(a);l.State.stats.itemsOpened+=1,Y(n),k.playSound(k.SoundNames.inspectItem),S.removeEl(t,!0)};exports.equipItem=function(e){k.playSound(k.SoundNames.equipItem),l.State.inventory.equips[e.type]=e,u.UpdatesState.updateOPC=!0;var t=S.select("#pickaxe-stats-tutorial");t&&S.removeEl(t,!0),exports.updateHeroStats(),exports.buildEquips()};var Y=function(e){var t=S.createEl("div",["wrapper"]),a=S.createEl("div",["new-item-popup-container"]),n=S.createEl("button",[],"Equip");n.addEventListener("click",function(){exports.equipItem(e),S.removeEl(t)});var r=S.createEl("button",[],"Trash");r.addEventListener("click",function(){var e=S.select("#pickaxe-stats-tutorial");e&&S.removeEl(e,!0),S.removeEl(t),k.playSound(k.SoundNames.dropItem),l.State.stats.itemsTrashedCount++,10===l.State.stats.itemsTrashedCount&&y.winAchievement("Trasher I"),50===l.State.stats.itemsTrashedCount&&y.winAchievement("Trasher II"),100===l.State.stats.itemsTrashedCount&&y.winAchievement("Trasher III")});var s=S.createEl("div",["buttons-container"]);s.append(n),s.append(r);var i=S.createEl("div",["new-item",e.rarity.name.toLowerCase()]);i.innerHTML=J(e),i.append(s),a.append(i);var o=l.State.inventory.equips[e.type];if(o){var c=S.createEl("div",["equipped-item",o.rarity.name.toLowerCase()]);c.innerHTML=J(o,!0,e),a.append(c)}t.append(a),d.pageContainer.append(t)},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,n=t?192:320,r="pickaxe"===e.type?exports.buildPickaxeSprite(e,n):exports.buildItemSprite(e,n),s=e.isArtifact?"- ARTIFACT RETRIEVED -":t?"- Currently Equipped":"- New Item -";return"\n        <p class='item-header'>".concat(s,"</p>\n        <h1 class='item-name ").concat(e.rarity.name.toLowerCase(),"'>").concat(e.name,"</h1>\n        ").concat(r,"\n        <p class='item-rarity ").concat(e.rarity.name.toLowerCase(),"'>").concat(e.rarity.name," ").concat(e.isArtifact?"Artifact":S.capitalize(e.type),"</p>\n        ").concat(exports._buildItemStats(e,!e.isArtifact,t,a),"\n    ")},Z=function(){var e=S.createEl("div",["current-equips"]);return["accessory","helmet","weapon","chest","pickaxe","pant","shoe"].forEach(function(t){var a=S.createEl("div",["slot","".concat(t,"-slot")]);if(l.State.inventory.equips[t]){var n=l.State.inventory.equips[t];a.innerHTML="pickaxe"===t?exports.buildPickaxeSprite(l.State.inventory.equips.pickaxe):exports.buildItemSprite(n),a.classList.add(n.rarity.name.toLowerCase());var r={type:f.TooltipTypes.ITEM,item:l.State.inventory.equips[t]};a.addEventListener("mousemove",function(e){return f.showTooltip(e,r)}),a.addEventListener("mouseleave",f.hideTooltip)}e.append(a)}),e};exports._buildItemStats=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s='<div class="item-stats">';e.isArtifact&&!r&&(s+="\n            <div class='artifact-details' style='margin-bottom: 20px;'>\n                <p>".concat(e.desc,"</p>\n                ").concat(e.flavorText?"<small>".concat(e.flavorText,"</small>"):"","\n            </div>\n        ")),e.isArtifact&&r&&(s+="\n            <div class='artifact-details' style='margin-bottom: 20px;'>\n                <p>".concat(e.desc,"</p>\n            </div>\n        ")),s+="".concat(t?'<p class="item-level">[ level: <span>'.concat(e.level,"</span> ]</p>"):"");var i=r?null:a?n:l.State.inventory.equips[e.type];if("pickaxe"===e.type)s+="".concat($("damage",e,i)),l.State.stats.timesRefined>0&&(s+="\n                ".concat($("hardness",e,i,!0),"\n                ").concat($("sharpness",e,i,!0),"\n            "));else for(var o in e.stats)s+="".concat($(o,e,i,!!e.isArtifact));return s+="</div>"};var $=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t,s=a,i=!1,o=0,c=!0,l=!1;a&&("pickaxe"===t.type?(i=!0,t[e]==a[e]?l=!0:t[e]<a[e]&&(r=a,s=t)):a.stats[e]&&(i=!0,t.stats[e]==a.stats[e]?l=!0:t.stats[e]<a.stats[e]&&(r=a,s=t))),i&&((o="pickaxe"===t.type?Math.floor(r[e]/s[e]):Math.floor(r.stats[e]/s.stats[e]))>3&&(o=3),"pickaxe"===t.type?t[e]<a[e]&&(c=!1):t.stats[e]<a.stats[e]&&(c=!1));for(var u="<span class='icons ".concat(c?"positive":"negative","'>"),p=0;p<o;p++)u+=c?"+":"-";u+="</span>",l&&(u="<span>=</span>");var d="pickaxe"===t.type?t[e]:t.stats[e],v="".concat(S.beautifyNumber(d)).concat(n?"%":"");return"<p>".concat(S.capitalize(e)," <span><span class='bold'>").concat(v,"</span> ").concat(u,"</span></p>")};exports.buildPickaxeSprite=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=e.material.name.toLowerCase();return"\n        <div class='pickaxe-sprite-container' style='width: ".concat(t,"px; height: ").concat(t,"px'>\n            <img class='pickaxe-top' src='./images/pickaxe-top-").concat(a,".png' />\n            <img class='pickaxe-stick' src='./images/pickaxe-bottom.png' />\n        </div>\n    ")},exports.buildItemSprite=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;if(e){var a,n="".concat(null===(a=e.material)||void 0===a?void 0:a.name.toLowerCase()).concat(S.capitalize(e.type));return null!=e&&e.isArtifact?'<img class="item-sprite" style=\'width: '.concat(t,"px' src=\"./images/artifact-").concat(e.codeName,'.png"/>'):'<img class="item-sprite" style=\'width: '.concat(t,"px' src=\"./images/equip-").concat(n,'.png"/>')}},exports.buildEquips=function(){if(T.getSkillByName("Blessings of the Ore God").isOwned){var e=S.select(".equips-container"),t=e||S.createEl("div",["equips-container"]),a=Z(),n=ee(),r=S.createEl("div",["equips"],"<h1>Equips</h1>");if(r.append(a,n),t.append(r),e)S.removeEl(S.select(".current-equips")),S.removeEl(S.select(".equips")),r.append(a,n),t.prepend(r);else{var s=S.createEl("div",["equips-toggle-btn"]);s.innerHTML="<img src='./images/misc-caret.svg'/>",s.addEventListener("click",function(){return te()}),t.append(s),d.gameContainerLeft.append(t)}}};var ee=function(){exports.updateHeroStats();var e=S.createEl("div",["hero-stats"]),t=function(t){var a=l.State.hero.stats[t];if(a>0){var n=S.createEl("p");n.innerHTML="".concat(S.capitalize(t),": <span class='bold'>").concat(S.beautifyNumber(a,!0),"</span>"),n.onmousemove=function(e){return f.showTooltip(e,{type:f.TooltipTypes.STAT,statType:t})},n.onmouseleave=function(){return f.hideTooltip()},e.append(n)}};for(var a in l.State.hero.stats)t(a);return e},te=function(){S.select(".equips-container").classList.toggle("open")},ae=function(e){if(l.State.stats.timesRefined>0){var t=e;for(l.State.inventory.equips.accessory&&"Gamer Gunk"===l.State.inventory.equips.accessory.name&&(t*=2),l.State.generation.xp+=t;l.State.generation.xp>=l.State.generation.maxXp;)l.State.generation.xp-=l.State.generation.maxXp,l.State.generation.maxXp=300*Math.pow(1.5,l.State.generation.lv+l.State.generation.lvsOnRefine),l.State.generation.lvsOnRefine+=1,u.UpdatesState.updateGenerationXp=!0,u.UpdatesState.updateGenerationLvsOnRefine=!0}},ne=function(){var e=S.beautifyNumber(l.State.inventory.ores),t=l.State.ops;l.State.research.currentState===N.ResearchStateTypes.IN_PROGRESS&&l.State.research.currentProgress<l.State.research.currentUpgrade.powerNeeded&&(t-=l.State.research.power*l.State.research.powerToOreRatio);var a="";l.InstanceState.isRentalBoonActive?a=" x".concat(l.State.stats.rentalBoonMultiplier):l.InstanceState.isPrinterGoBrrActive&&(a=" x".concat(l.State.stats.printerGoBrrMultiplier));var n="\n        ".concat(l.InstanceState.isRentalBoonActive?"rental-boon":"","\n        ").concat(l.InstanceState.isPrinterGoBrrActive?"printer-go-brr":"","\n        ").concat(t<0?"negative":"positive","\n    ");0!==t&&(e+=" <span class='ops ".concat(n,"'>(").concat(S.beautifyNumber(t)).concat(a,"/s)</span>")),d.topbarInventoryOresEl.innerHTML="".concat(e),u.UpdatesState.updateOres=!1};exports.updateRefinedOres=function(){l.State.stats.refinedOresEarned>0&&(d.topbarInventoryRefinedOresContainerEl.classList.add("visible"),d.topbarInventoryRefinedOresAmountEl.innerHTML="".concat(S.beautifyNumber(l.State.inventory.refined))),u.UpdatesState.updateRefinedOres=!1};var re=function(){var e=S.getPercentage(l.State.ore.hp,l.State.ore.maxHp);switch(d.oreHpEl.classList.remove("bar"),l.State.settings.oreHpType){case"percentage":d.oreHpEl.innerHTML="".concat(S.beautifyNumber(e),"%");break;case"number":d.oreHpEl.innerHTML="".concat(S.beautifyNumber(l.State.ore.hp),"/").concat(S.beautifyNumber(l.State.ore.maxHp));break;case"bar":d.oreHpEl.classList.add("bar"),d.oreHpEl.innerHTML="<div style='width: ".concat(e,"%'></div>");break;case"bar+percentage":d.oreHpEl.classList.add("bar"),d.oreHpEl.innerHTML="\n                <p>".concat(S.beautifyNumber(e),"%</p>\n                <div style='width: ").concat(e,"%'></div>\n            ");break;case"bar+number":d.oreHpEl.classList.add("bar"),d.oreHpEl.innerHTML="\n                <p>".concat(S.beautifyNumber(l.State.ore.hp),"/").concat(S.beautifyNumber(l.State.ore.maxHp),"</p>\n                <div style='width: ").concat(e,"%'></div>\n            ");break;case"none":d.oreHpEl.innerHTML="";break;default:return}u.UpdatesState.updateOreHp=!1},se=function(){d.oreSpriteEl.src="./images/ore".concat(l.State.ore.spriteType,"-").concat(l.State.ore.spriteHp,".png");var e=S.getPercentage(l.State.ore.hp,l.State.ore.maxHp),t=Math.min(5,6-Math.ceil(e/20));l.State.ore.spriteHp!==t&&(k.playSound(k.SoundNames.orePercentageLost),l.State.ore.spriteHp=t,d.oreSpriteEl.src="./images/ore".concat(l.State.ore.spriteType,"-").concat(l.State.ore.spriteHp,".png"),v.generateOreParticles(null,5),K()),u.UpdatesState.updateOreSprite=!1},ie=function(){d.topbarInventoryGenerationWrapperEl.onmousemove=function(e){return f.showTooltip(e,{type:f.TooltipTypes.REFINEMENT})},d.topbarInventoryGenerationWrapperEl.onmouseleave=function(){return f.hideTooltip()},d.topbarInventoryGenerationLv.innerHTML="".concat(l.State.generation.lv),u.UpdatesState.updateGenerationLv=!1},oe=function(){l.State.generation.lvsOnRefine>0?d.topbarInventoryGenerationLvsOnRefine.innerHTML="(".concat(l.State.generation.lvsOnRefine,")"):d.topbarInventoryGenerationLvsOnRefine.innerHTML="",u.UpdatesState.updateGenerationLvsOnRefine=!1},ce=function(){l.State.stats.timesRefined>0&&(d.topbarInventoryGenerationWrapperEl.classList.add("active"),d.topbarInventoryGenerationXpBarEl.style.width=S.getPercentage(l.State.generation.xp,l.State.generation.maxXp)+"%"),u.UpdatesState.updateGenerationXp=!1};exports.updateOPS=function(){var e=0;for(var t in l.State.buildings){var a=l.State.buildings[t];a.updateBuildingProduction(),e+=a.production*a.ownedTotal}var n=l.State.opc*S.percentToDecimal(l.State.bonuses.permanent.percentOpCToOpSBonus)+l.State.opc*S.percentToDecimal(l.State.bonuses.temporary.percentOpCToOpSBonus);e+=l.State.bonuses.permanent.flatOpSBonus+l.State.bonuses.temporary.flatOpSBonus+n,l.State.ops=e,e>=50&&y.winAchievement("Ore-aid Stand"),e>=1e4&&y.winAchievement("Ore Store"),e>=401e3&&y.winAchievement("401k"),e>=5e6&&y.winAchievement("Retirement Plan"),e>=1e9&&y.winAchievement("Hedge Fund"),u.UpdatesState.updateOPS=!1},exports.updateOPC=function(){var e=l.State.inventory.equips.pickaxe.damage,t=l.State.bonuses.permanent.flatOpCBonus+l.State.bonuses.temporary.flatOpCBonus,a=l.State.ops*S.percentToDecimal(l.State.bonuses.permanent.percentOpSToOpCBonus)+l.State.ops*S.percentToDecimal(l.State.bonuses.temporary.percentOpSToOpCBonus),n=l.State.bonuses.permanent.percentOpCBonus+l.State.bonuses.temporary.percentOpCBonus+l.State.bonuses.permanent.globalPercentBonus+l.State.bonuses.temporary.globalPercentBonus+l.State.stats.globalBonusPerGenerationLevel*l.State.generation.lv,r=(l.State.bonuses.temporary.flatOpCPerBuilding+l.State.bonuses.permanent.flatOpCPerBuilding)*l.State.stats.buildingsOwned,s=e+e*S.percentToDecimal(n);s+=a+t+r,l.State.opc=s,u.UpdatesState.updateOPC=!1};var le=function(e){l.InstanceState.buyAmount=e,u.UpdatesState.updateTabContent=!0};exports.updateStorePriceClasses=function(){for(var e in l.State.buildings){var t=l.State.buildings[e];if(!t.isHidden&&!t.isLocked&&"max"!==l.InstanceState.buyAmount){var a=document.querySelector(".building-".concat(t.codeName," .building-price span"));a&&(l.State.inventory.ores>=S.getGeometricSequencePrice(t)?a.classList.contains("not-enough")&&a.classList.remove("not-enough"):a.classList.contains("not-enough")||a.classList.add("not-enough"))}}for(var n in l.State.upgrades){var r=l.State.upgrades[n];if(!r.isLocked&&!r.isOwned){var s=document.querySelector(".upgrade-".concat(r.codeName));s&&(l.State.inventory.ores>=r.price?s.classList.contains("not-enough")&&s.classList.remove("not-enough"):s.classList.contains("not-enough")||s.classList.add("not-enough"))}}};var ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(l.State.research.currentState===N.ResearchStateTypes.IN_PROGRESS){if(l.State.research.currentProgress>=l.State.research.currentUpgrade.powerNeeded&&(l.State.research.currentState=N.ResearchStateTypes.COMPLETED,k.playSound(k.SoundNames.researchComplete),exports.updateOPS()),0===l.State.research.power)return;var t=l.State.research.currentUpgrade.powerNeeded-l.State.research.currentUpgrade.currentPowerConsumed,a=l.State.research.power/l.State.settings.tick+e/d.Time.SECONDS*l.State.research.power;a>t&&(a=t);var n=a*l.State.research.powerToOreRatio;if(l.State.inventory.ores<n){var r=l.State.inventory.ores/n;a*=r,n*=r}exports.spend(n)&&(l.State.research.currentProgress+=a,l.State.research.currentUpgrade.currentPowerConsumed+=a,pe())}},pe=function(){var e=S.select(".research-tab-progress-bar .bar"),t=S.getPercentage(l.State.research.currentProgress,l.State.research.currentUpgrade.powerNeeded);if(e&&(e.style.width=t+"%",e.style.filter="grayscale( ".concat(100-t,"% )")),"research"===l.InstanceState.selectedTab){var a=S.select(".research-progress-bar .bar");a&&(a.style.filter="grayscale( ".concat(100-t,"% )"),a.style.width=t+"%")}if("research"===l.InstanceState.selectedTab){S.select(".research-progress-container")||exports.updateTabContent();var n=S.select(".research-progress-bar .time-left"),r=l.State.research.currentUpgrade.powerNeeded-l.State.research.currentProgress,s=S.msToTimeColon(r/l.State.research.power*1e3);n.innerHTML!==s&&(n.innerHTML=s)}t>=100&&("research"===l.InstanceState.selectedTab?u.UpdatesState.updateTabContent=!0:l.State.tabs[1].hasUpdates=!0,u.UpdatesState.updateTabs=!0)},de=function(e){var t=S.select(".research-power span");l.State.research.power=e,t.innerHTML=S.beautifyNumber(e,!0),S.select(".research-ore-usage strong").innerHTML=S.beautifyNumber(l.State.research.power*l.State.research.powerToOreRatio),exports.updateOPS()},Se=function(){var e=document.createElement("div");e.classList.add("tabs-container"),l.State.tabs.filter(function(e){return!e.isLocked}).forEach(function(t){var a=S.createEl("div",["tab","tab-".concat(t.codeName),"".concat(t.hasUpdates&&"has-updates")]);a.addEventListener("click",function(){return ve(t)}),l.InstanceState.selectedTab===t.codeName&&a.classList.add("tab-selected"),a.innerHTML=t.name,"research"===t.codeName&&l.State.research.currentState===N.ResearchStateTypes.IN_PROGRESS&&S.getPercentage(l.State.research.currentProgress,l.State.research.currentUpgrade.powerNeeded)<=100&&(a.innerHTML="\n                    ".concat(t.name,"\n                    <div class='research-tab-progress-bar'>\n                        <div class='bar'></div>\n                    </div>\n                ")),e.append(a)}),S.updateEl(d.tabsWrapperEl,e),u.UpdatesState.updateTabs=!1},ve=function(e){if(l.InstanceState.selectedTab!==e.codeName){k.playSound(k.SoundNames.misc);var t=S.select("#research-tab-unlocked-tutorial");t&&S.removeEl(t,!0);var a=S.select("#start-first-research-tutorial");a&&S.removeEl(a,!0);var n=b.getResearchUpgrade("Fragility Spectacles");n.isOwned||n.isInProgress||G(),e.hasUpdates&&(e.hasUpdates=!1),l.InstanceState.selectedTab=e.codeName,u.UpdatesState.updateTabs=!0,exports.updateTabContent()}},me=function(e){l.State.tabs.forEach(function(t){if(t.codeName===e)return t.isLocked=!1,void(u.UpdatesState.updateTabs=!0)})};exports.updateTabContent=function(){var e,t=document.createElement("div");switch(t.classList.add("tabs-content-container"),l.InstanceState.selectedTab){case"store":e=ge();break;case"research":e=ke();break;default:console.log("not built yet")}t.append(e),S.updateEl(d.tabsContentWrapperEl,t),u.UpdatesState.updateTabContent=!1};var ge=function(){var e=S.createEl("div",["tab-content","tab-content-store"]),t=he(),a=Ee(),n=fe();return t.innerHTML&&e.append(t),e.append(a),e.append(n),e};exports.updateUpgradesContainer=function(){var e=d.tabsContentWrapperEl.querySelector(".tab-content-store"),t=he(),a=null==e?void 0:e.querySelector(".upgrades-container");a&&S.removeEl(a),null==e||e.prepend(t)};var he=function(){var e=S.createEl("div",["upgrades-container"]);return e.addEventListener("mouseenter",function(){return exports.resizeUpgradesContainer("enter")}),e.addEventListener("mouseleave",function(){return exports.resizeUpgradesContainer("leave")}),S.sortObj(l.State.upgrades,"price").filter(function(e){return!e[1].isOwned&&!e[1].isLocked}).forEach(function(t){var a=S.createEl("div",["upgrade","upgrade-".concat(t[1].codeName),"".concat(l.State.inventory.ores<t[1].price&&"not-enough")],"\n                <img src='./images/upgrade-".concat(t[1].codeName,".png'/>\n            "));a.addEventListener("click",function(e){return t[1].buy(e)}),a.addEventListener("mouseenter",function(){return k.playSound(k.SoundNames.storeItemHover)}),a.addEventListener("mousemove",function(e){return t[1].mousemove(e)}),a.addEventListener("mouseleave",function(e){return f.hideTooltip()}),e.append(a)}),e};exports.resizeUpgradesContainer=function(e){var t=S.select(".upgrades-container"),a=Math.ceil(t.childElementCount/5);"enter"===e&&(t.style.height=60*a+"px"),"leave"===e&&(t.style.height="60px")};var fe=function(){var e=S.createEl("div",["buildings-container"]);for(var t in l.State.buildings){var a=l.State.buildings[t],n=be(a);e.append(n)}if(l.InstanceState.isPrinterGoBrrActive||l.InstanceState.isRentalBoonActive){var r=S.createEl("div",["golden-cover"]);e.append(r)}return e},be=function(e){var t=S.createEl("div",["building-wrapper","building-wrapper-".concat(e.codeName),"".concat(e.isLocked&&"building-locked"),"".concat(e.isHidden&&"building-hidden")]),a=S.createEl("div",["building","building-".concat(e.codeName)]),n="max"===l.InstanceState.buyAmount?S.getCurrentMaxAmountAndTotalPriceForBuilding(e):null,r="max"===l.InstanceState.buyAmount?n.totalPrice:S.getGeometricSequencePrice(e),s=1===l.InstanceState.buyAmount?"":"max"===l.InstanceState.buyAmount?"x".concat(n.amount):"x".concat(l.InstanceState.buyAmount);return a.innerHTML="\n        <img class='building-img' src='./images/building-".concat(e.codeName,".png' />\n        <div class='building-left'>\n            <p class='building-name'>").concat(e.name," ").concat(s,"</p>\n            <p class='building-price'>\n                <img src='./images/ore.png' />\n                <span class='").concat(r>l.State.inventory.ores?"not-enough":"","'>").concat(S.beautifyNumber(r),"</span>\n            </p>\n        </div>\n        <p class='building-owned'>").concat(e.ownedTotal,"</p>\n    "),a.addEventListener("click",function(t){return e.buy(t)}),a.addEventListener("mouseenter",function(){return!e.isLocked&&!e.isHidden&&k.playSound(k.SoundNames.storeItemHover)}),a.addEventListener("mousemove",function(t){return e.mousemove(t)}),a.addEventListener("mouseleave",function(){return f.hideTooltip()}),t.append(a),l.State.gameBooleans.isBuildingExpansionOwned&&t.append(ye(e)),t},ye=function(e){var t=S.createEl("div",["building-expansion","building-expansion-".concat(e.codeName)]);t.innerHTML="<p>".concat(e.name," Lv. <span>").concat(e.buildingLevel,"</span></p>");var a=S.createEl("button",[],"Level Up");return a.addEventListener("click",function(){return e.upgrade()}),a.addEventListener("mouseenter",function(t){return f.showTooltip(t,{type:f.TooltipTypes.BUILDING_UPGRADE,building:e})}),a.addEventListener("mouseleave",function(){return f.hideTooltip()}),t.append(a),t},Ee=function(){var e=document.createElement("div");e.classList.add("buy-amount-container");var t=S.createEl("p",["buy-amount-text"],"Buy Amount"),a=document.createElement("div");a.classList.add("buy-amounts");return[1,10,100,"max"].forEach(function(e){var t=S.createEl("p",["buy-amount"],e);t.addEventListener("click",function(){le(e),k.playSound(k.SoundNames.misc)}),e===l.InstanceState.buyAmount&&t.classList.add("selected"),a.append(t)}),e.append(t),e.append(a),e},ke=function(){var e=S.createEl("div",["tab-content","tab-content-research"]),t=Te(),a=l.State.research.currentState===N.ResearchStateTypes.IN_PROGRESS||l.State.research.currentState===N.ResearchStateTypes.COMPLETED?we():"",n=Ae();return l.State.researchUpgrades.Refinement.isOwned&&e.append(Ce()),e.append(t),e.append(a),e.append(n),e},Te=function(){var e=S.createEl("div",["research-settings-container"],"\n        <p class='research-power-text'>Research Power</p>\n        <p class='research-power'><span>".concat(S.beautifyNumber(l.State.research.power,!0),"</span><small>/sec</small></p>\n    ")),t=document.createElement("input");t.classList.add("research-slider"),t.type="range",t.min="0",t.max="".concat(Math.floor(l.State.research.maxPower)),t.value="".concat(l.State.research.power),t.step="1",t.addEventListener("input",function(e){var t=parseFloat(e.target.value);de(t)}),e.append(t);var a=S.createEl("p",["research-ore-usage"],"Using <strong>".concat(S.beautifyNumber(l.State.research.power*l.State.research.powerToOreRatio),"</strong> ores per second while researching."));return e.append(a),e},we=function(){var e=S.createEl("div",["research-progress-container"]),t=S.findInObjectByMatchingKey(l.State.researchUpgrades,"name",l.State.research.currentUpgrade.name),a=S.getPercentage(l.State.research.currentProgress,t.powerNeeded),n=S.createEl("div",["research-progress-top"],"\n        <p class='research-upgrade-name'>".concat(t.name,"</p>\n        ")),r=S.createEl("button",["collect-btn"],"COLLECT");r.addEventListener("click",function(){return t.complete()});var s=a>=100?r:S.createEl("div",["research-progress-bar"]," <div class='research-progress-bar'>\n                        <p class='time-left'>00:00</p>\n                        <div class='bar'></div>\n                    </div>"),i=S.createEl("div");i.append(n),i.append(s);var o=S.createEl("img",["research-upgrade-img"]);o.src="./images/researchUpgrade-".concat(t.codeName,".png");var c=S.createEl("img",["close-btn"]);return c.src="./images/misc-close.svg",c.style.right="5px",c.style.top="5px",c.onclick=function(){return Oe()},e.append(o,i,c),e},Ce=function(){var e=S.createEl("div",["refine-button-container"]),t=S.createEl("button",["refine-btn"],"Refine");if(t.addEventListener("click",M.handleRefineBtnClick),e.append(t),l.State.stats.timesRefined>0){e.classList.add("show-skill-tree-btn");var a=xe();e.append(a)}return e},xe=function(){var e=S.createEl("button",["skill-tree-btn"]);return e.innerHTML="<img src='./images/icon-skillTree.svg' />",e.addEventListener("click",function(){return M.showSkillTree(!0)}),e},Ae=function(){var e=S.createEl("div",["research-upgrades-wrapper"]),t=S.createEl("p",["research-header-text"],"Available Research"),a=S.createEl("p",["research-header-text","small"],"Owned Research"),n=S.createEl("div",["research-upgrades-container","available-research-upgrades-container"]),r=S.createEl("div",["research-upgrades-container","owned-research-upgrades-container"]),s=!1,i=!1;return Object.values(l.State.researchUpgrades).forEach(function(e){var t=S.createEl("div",["research-upgrade","research-upgrade-".concat(e.codeName)]),a=document.createElement("img");if(a.src="./images/researchUpgrade-".concat(e.codeName,".png"),t.append(a),e.isNew){var o=S.createEl("p",["new"],"New!");t.append(o)}!e.isLocked&&!e.isOwned&&!e.isInProgress||e.isRepeatable&&!e.isLocked&&!e.isInProgress?(s=!0,t.addEventListener("click",function(t){return e.click(t)}),t.addEventListener("mouseover",function(t){k.playSound(k.SoundNames.storeItemHover),e.removeNew(t)}),t.addEventListener("mousemove",function(t){return f.showTooltip(t,{type:f.TooltipTypes.RESEARCH_UPGRADE,researchUpgrade:e})}),t.addEventListener("mouseleave",function(){return f.hideTooltip()}),n.append(t)):e.isOwned&&!e.isRepeatable&&(i=!0,t.addEventListener("mousemove",function(t){return f.showTooltip(t,{type:f.TooltipTypes.RESEARCH_UPGRADE,researchUpgrade:e})}),t.addEventListener("mouseleave",function(){return f.hideTooltip()}),r.append(t))}),s&&(e.append(t),e.append(n)),i&&(e.append(a),e.append(r)),e},Le=function(){if("store"===l.InstanceState.selectedTab&&"max"===l.InstanceState.buyAmount)for(var e in l.State.buildings){var t=l.State.buildings[e];if(!t.isLocked){var a=S.getCurrentMaxAmountAndTotalPriceForBuilding(t),n=a.amount,r=a.totalPrice,s=S.select(".building.building-".concat(t.codeName," .building-name")),i=S.select(".building.building-".concat(t.codeName," .building-price span"));l.State.inventory.ores>=r?i.classList.remove("not-enough"):i.classList.add("not-enough"),s.innerHTML="".concat(t.name," x").concat(n),i.innerHTML="".concat(S.beautifyNumber(r))}}},Oe=function(){var e=S.createEl("div");e.innerHTML="\n        <p class='centered'>Are you sure you want to cancel this research?</p>\n        <p class='centered'>".concat(l.State.researchUpgrades["Hot Swappable"].isOwned?"You will keep your current progress":'You will <span class="bold">NOT</span> keep your current progress',"</p>\n    ");var t=S.createEl("div",["modal-actions"]),a=S.createEl("button",["modal-action"],"cancel research");a.onclick=function(){return qe()};var n=S.createEl("button",["modal-action"],"haha jk");n.onclick=function(){return S.closeTopmostModal()},t.append(a,n),S.buildModal("Cancel Research",e,t)},qe=function(){var e=l.State.researchUpgrades["Hot Swappable"];S.closeTopmostModal(),l.State.research.currentState=N.ResearchStateTypes.IDLE,l.State.research.currentProgress=0;var t=l.State.research.currentUpgrade.name;l.State.researchUpgrades[t].isInProgress=!1,e.isOwned||(l.State.research.currentUpgrade.isInProgress=!1,l.State.research.currentUpgrade.currentPowerConsumed=0),l.State.research.currentUpgrade=null,u.UpdatesState.updateTabContent=!0,u.UpdatesState.updateTabs=!0};exports.updateHeroBaseStats=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?l.State.hero.bonusPercentStats[e]+=t:l.State.hero.baseStats[e]+=t,exports.updateHeroStats()},exports.updateHeroStats=function(){l.State.hero.baseStats.speed=0;var e=n({},l.State.hero.baseStats);for(var t in l.State.inventory.equips){var a=l.State.inventory.equips[t];if(a){if(null!=a&&a.isArtifact)continue;if("pickaxe"!==a.type)for(var r in a.stats){var s=a.stats[r];e[r]+=s}}}var i=l.State.inventory.equips.accessory;if(null!=i&&i.isArtifact)for(var o in i.stats){var c=i.stats[o];e[o]+=e[o]*S.percentToDecimal(c)}for(var u in e)l.State.hero.bonusPercentStats[u]||(l.State.hero.bonusPercentStats[u]=0),e[u]+=e[u]*S.percentToDecimal(l.State.hero.bonusPercentStats[u]);l.State.hero.stats=e,l.State.hero.stats.agility>=100&&y.winAchievement("Speed Racer"),l.State.hero.stats.armor>=100&&y.winAchievement("Thornmail"),l.State.hero.stats.attack>=100&&y.winAchievement("Arm Day"),l.State.hero.stats.dexterity>=100&&y.winAchievement("Prescription Glasses"),l.State.hero.stats.luck>=100&&y.winAchievement("Rabbits Foot"),l.State.hero.stats.strength>=100&&y.winAchievement("T1 T1 T1"),l.State.hero.stats.hp>=1e3&&y.winAchievement("Chonky Boi")},exports.buildQuestButton=function(){var e=l.State.researchUpgrades["Quest Board"],t=S.createEl("div",["quest-btn"]);t.innerHTML=e.isOwned?"Quest Board":"???",e.isOwned?t.addEventListener("click",Re):t.addEventListener("click",function(){return q.notify("You don't have this unlocked",q.NotifyTypes.ERROR)}),d.leftBottomButtonsContainerEl.innerHTML="",d.leftBottomButtonsContainerEl.append(t)};var Re=function(){var e=Ie();d.gameContainer.append(e)},Ie=function(){var e=S.createEl("div",["modal-wrapper"]);e.onclick=S.closeTopmostModal;var t=S.createEl("div",["quest-board"]);return t.innerHTML='<h1 class="quest-board-header">Quest Board</h1>',t.append(S._buildCloseBtn()),t.append(Ne()),e.append(t),e},Ne=function(){var e=S.createEl("div",["quests-container"]),t=function(t){var a=l.State.quests[t];if(!a.isLocked){var n=S.createEl("el",["quest"]);if(n.innerHTML="<h1>".concat(a.name,"</h1>"),n.addEventListener("click",function(){return He(a.name)}),a.isInProgress){var r=S.createEl("h2",["quest-banner","quest-banner-in-progress"],"IN PROGRESS");n.append(r)}if(a.timesCompleted>0){var s=S.createEl("h2",["quest-banner","quest-banner-completed"],"COMPLETED");n.append(s)}e.append(n)}};for(var a in l.State.quests)t(a);return e},Pe=function(e){var t=e.timesCompleted>0,a=R.getArtifactDetails(e.artifact.name),n=t||l.State.gameBooleans.isBosscyclopediaOwned;return"\n        <div class='boss-details'>\n            <div class='boss-name'>\n                <img class='".concat(!n&&"masked","' src='./images/boss-").concat(e.boss.codeName,".png'/>\n                <div>\n                    <p>BOSS</p>\n                    <h2>").concat(n?e.boss.name:"?????","</h2>\n                </div>\n            </div>\n            <div class='boss-stats'>\n                <p>HP: <span class='bold'>").concat(n?S.beautifyNumber(e.boss.stats.hp,!0):"???","</span></p>\n                <p>ATK: <span class='bold'>").concat(n?S.beautifyNumber(e.boss.stats.attack,!0):"???","</span></p>\n                <p>ARM: <span class='bold'>").concat(n?S.beautifyNumber(e.boss.stats.armor,!0):"???","</span></p>\n                <p>DEX: <span class='bold'>").concat(n?S.beautifyNumber(e.boss.stats.dexterity,!0):"???","</span></p>\n                <p>LUK: <span class='bold'>").concat(n?S.beautifyNumber(e.boss.stats.luck,!0):"???","</span></p>\n                <p>APS: <span class='bold'>").concat(n?S.beautifyNumber(e.boss.stats.attacksPerSecond):"???","</span></p>\n            </div>\n        </div>\n        <div class='quest-stats'>\n            ").concat(e.attempts>0?"<p>Total Attempts: <span class='bold'>".concat(e.attempts,"</span></p>"):"","\n            ").concat(t?"<p>Times Completed: <span class='bold'>".concat(e.timesCompleted,"</span></p>\n                <p>Quest Duration: <span class='bold'>").concat(S.msToTime(e.duration),"</span></p>\n                <p>Completed On: <span class='bold'>").concat(S.msToDate(e.firstCompletedOn),"</span></p>\n                "):"","\n        </div>\n\n        ").concat(t?"<div class='quest-rewards'>\n        <h2>Quest Rewards</h2>\n        <p>Refined Ores: <span class='bold'>".concat(S.beautifyNumber(e.rewards.refinedOres),"</span></p>\n        <p>XP: <span class='bold'>").concat(S.beautifyNumber(e.rewards.xp),"</span></p>\n        </div>"):"","\n\n        ").concat(t?"\n            <div class='quest-artifact'>\n                <h2>Artifact Retrieved: ".concat(e.artifact.retrieved,"</h2>\n                <div>\n                    <img class='").concat(e.artifact.retrieved?"is-retrieved":"","' src='./images/artifact-").concat(S.getCodeName(a.name),".png'/>\n                    <div class='artifact-details'>\n                        <p>").concat(e.artifact.retrieved?"".concat(a.name):"???","</p>\n                        ").concat(e.artifact.retrieved?"<p>".concat(a.desc,"</p>"):"","\n                    </div>\n                </div>\n            </div>\n        "):"","\n    ")},He=function(e){var t=l.State.quests[e],a=S.createEl("div",["modal-wrapper"]);a.onclick=S.closeTopmostModal;var n=S.createEl("div",["view-quest-wrapper"]),r=S.createEl("div",["quest-stats-container"]),s=Pe(t);r.innerHTML=s;var i=S.createEl("div",["quest-expanded"]);i.innerHTML="\n        <h1>".concat(t.name,"</h1>\n        <img class='quest-img' src='").concat(t.image,"'/>\n        <div class='quest-desc'>\n            <p>").concat(t.desc,"</p>\n            <small>").concat(t.flavorText,"</small>\n        </div>\n    ");var o=S.createEl("button",[],"Accept Quest");o.addEventListener("click",function(){return Me(t)}),i.append(o),i.append(S._buildCloseBtn(10,!0)),n.append(r,i),a.append(n),d.gameContainer.append(a)},Me=function(e){var t=S.select(".quest-board").parentElement;S.closeTopmostModal(),S.removeEl(t),l.State.quest.state===O.QuestStateTypesEnum.IDLE?Be(e):q.notify("A quest is already in progress",q.NotifyTypes.ERROR)},Be=function(e){switch(l.State.quest.state===O.QuestStateTypesEnum.IDLE&&(exports.updateHeroStats(),l.State.quest.questDetails=e,l.State.quest.currentBossHp=e.boss.stats.hp,l.State.quest.currentHeroHp=l.State.hero.stats.hp,l.State.quest.currentProgress=0,l.State.quest.manualAttackCount=0,e.isInProgress=!0,e.attempts+=1,st(O.QuestStateTypesEnum.IN_PROGRESS)),l.State.quest.state){case O.QuestStateTypesEnum.IN_PROGRESS:case O.QuestStateTypesEnum.BOSS_APPROACHING:var t=S.createEl("div",["quest-progress-container"]);d.questContainerEl.append(t),Ue();break;case O.QuestStateTypesEnum.FAILED:case O.QuestStateTypesEnum.BOSS_FIGHT:at();break;case O.QuestStateTypesEnum.COMPLETED:nt()}},De=function(e){},Ue=function(e){if(l.State.quest.state===O.QuestStateTypesEnum.BOSS_APPROACHING||l.State.quest.state===O.QuestStateTypesEnum.IN_PROGRESS&&l.State.quest.currentProgress>=l.State.quest.questDetails.duration)return _e(),We();if(e){var t=1e3*e,a=1.5*l.State.hero.stats.speed*e;l.State.quest.currentProgress+=t+a}else{var n=d.Time.SECONDS/l.State.settings.tick+1.5*l.State.hero.stats.speed/l.State.settings.tick;l.State.quest.currentProgress+=n;var r=n*l.State.settings.tick,s=l.State.quest.questDetails.duration-l.State.quest.currentProgress;Ge(s/r*1e3)}_e()},Ge=function(e){var t=S.select(".quest-progress-container"),a=S.select(".quest-time-left");a||(a=S.createEl("div",["quest-time-left"]),t.append(a)),e<=0?S.removeEl(a,!0):a.innerHTML="\n            <h3>".concat(l.State.quest.questDetails.name,"</h3>\n            <p>").concat(S.msToTimeColon(e),"</p>\n        ")},_e=function(){var e=S.select(".quest-progress-container"),t=S.select(".quest-hero-container");t||(t=Qe(),e.append(t));var a=S.getPercentage(l.State.quest.currentProgress,l.State.quest.questDetails.duration);t.style.left=a+"%"},We=function(){st(O.QuestStateTypesEnum.BOSS_APPROACHING),S.select(".quest-hero-container").classList.add("jumping");var e=Fe("boss-approaching","BOSS APPROACHING...");d.questContainerEl.append(e)},Fe=function(e,t){var a=S.createEl("div",["quest-banner-container"]);switch(a.innerHTML='<h1 class="'.concat(e,'">').concat(t,"</h1>"),e){case"boss-approaching":a.addEventListener("click",Ke);break;case"quest-success":a.addEventListener("click",function(e){return exports.completeQuest(e,!0)});break;case"quest-failed":a.addEventListener("click",function(e){return exports.completeQuest(e,!1)});break;default:console.error("unknown banner type:",e)}return a},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"S",t=S.createEl("div",["quest-hero-container","hero-img"]),a="S"===e?30:50;return t.innerHTML="\n        <img class='hero' src='./images/quest-hero.svg'/>\n        ".concat(exports.buildPickaxeSprite(l.State.inventory.equips.pickaxe,a),"\n    "),t},je=function(){var e,t=1;return"Rat Tail"===(null===(e=l.State.inventory.equips.accessory)||void 0===e?void 0:e.name)&&(t+=1.5),(t+=l.State.hero.stats.agility/250)>=2&&y.winAchievement("Doubletime"),t>=3&&y.winAchievement("Tripletime"),t>=4&&y.winAchievement("Quadratime"),t>=5&&y.winAchievement("Lots of times"),t},Ke=function(e){S.removeEl(e.target,!0),S.removeEl(S.select(".quest-hero-container")),S.removeEl(S.select(".quest-progress-container")),exports.updateHeroStats(),l.State.quest.currentHeroHp=l.State.hero.stats.hp,l.State.quest.heroCurrentAttackBar=0,l.State.quest.bossCurrentAttackBar=0;var t=l.State.quest.questDetails.boss,a=je();l.State.quest.heroMaxAttackBar=d.Time.SECONDS/a,l.State.quest.bossMaxAttackBar=d.Time.SECONDS/t.stats.attacksPerSecond,st(O.QuestStateTypesEnum.BOSS_FIGHT);var n=S.createEl("div",["boss-fight-container"]),r=Je(),s=Ze(r,t.stats.armor),i=Ye(l.State.hero.stats.dexterity,t.stats.luck,!0),o=Ye(t.stats.dexterity,l.State.hero.stats.luck),c=S.createEl("div",["stats","hero-stats"]);c.innerHTML="\n        <div class='attack-bar'><div></div></div>\n        <div class='hp'><div></div></div>\n        <div class='stat-square'>\n            <p>DPS: <span>".concat(S.beautifyNumber(s,!0),"</span></p>\n            <p>Hit Chance: <span>").concat(S.beautifyNumber(i,!0),"%</span></p>\n            <p>ARM: <span>").concat(S.beautifyNumber(l.State.hero.stats.armor,!0),"</span></p>\n            <p>HP: <span>").concat(S.beautifyNumber(l.State.quest.currentHeroHp,!0),"/").concat(S.beautifyNumber(l.State.hero.stats.hp,!0),"</span></p>\n        </div>\n    ");var u=Ve();u&&c.append(u);var p=S.createEl("div",["middle"]),v=Qe("L"),m=S.createEl("img",["boss-img"]);m.src="./images/boss-".concat(t.codeName,".png"),m.style.width="".concat(t.size,"px"),p.append(v,m);var g=Ze(t.stats.attack,l.State.hero.stats.armor),h=S.createEl("div",["stats","boss-stats"]);h.innerHTML="\n        <div class='stat-square'>\n            <p>DPS: <span>".concat(S.beautifyNumber(g,!0),"</span></p>\n            <p>Hit Chance: <span>").concat(S.beautifyNumber(o,!0),"%</span></p>\n            <p>ARM: <span>").concat(S.beautifyNumber(t.stats.armor,!0),"</span></p>\n            <p>HP: <span>").concat(S.beautifyNumber(l.State.quest.currentBossHp,!0),"/").concat(S.beautifyNumber(t.stats.hp,!0),"</span></p>\n        </div>\n        <div class='hp'><div></div></div>\n        <div class='attack-bar'><div></div></div>\n    "),n.append(c,p,h),d.questContainerEl.append(n),ze()},Ve=function(){var e=T.getSkillByName("Heal"),t=T.getSkillByName("Ravenous Strikes");if(!e.isOwned&&!t.isOwned)return!1;var a=S.createEl("div",["quest-skills-container"]),n=function(e){var t=l.State.skills[e];if("quest-active"===t.skillType&&t.isOwned){var n=S.createEl("div",["quest-skill","quest-skill-".concat(t.codeName)]);n.onclick=function(e){return ot(e,t)},n.onmousemove=function(e){return f.showTooltip(e,{type:f.TooltipTypes.QUEST_SKILL,skill:t})},n.onmouseleave=function(){return f.hideTooltip()},a.append(n)}};for(var r in l.State.skills)n(r);return a},ze=function(){if(l.State.quest.state===O.QuestStateTypesEnum.BOSS_FIGHT){var e=S.select(".boss-fight-container"),t=S.createEl("img",["manual-attack"]);l.InstanceState.questSkills.ravenousStrikes.isActive&&t.classList.add("ravenous");t.addEventListener("click",Xe),t.src="./images/quest-attack.png",t.style.width="50px";var a=S.getRandomLocationWithinEl(e,50);t.style.left=a.x+"px",t.style.top=a.y+"px",e.append(t)}},Xe=function(e){if(S.removeEl(e.target),l.State.quest.manualAttackCount++,15===l.State.quest.manualAttackCount&&y.winAchievement("Fast Fingers"),l.State.stats.manualAttackCount++,0===l.State.stats.manualAttackCount&&y.winAchievement("It's Personal"),50===l.State.stats.manualAttackCount&&y.winAchievement("Bully"),100===l.State.stats.manualAttackCount&&y.winAchievement("1 on 1"),l.State.quest.state===O.QuestStateTypesEnum.BOSS_FIGHT){var t=S.select(".hero-img"),a=S.select(".boss-img"),n=S.percentToDecimal(Ye(l.State.hero.stats.dexterity,l.State.quest.questDetails.boss.stats.luck,!0));if(Math.random()<n){l.InstanceState.manualAttacksInARow++,l.InstanceState.manualMissInARow=0,k.playSound(k.SoundNames.bossManualHit),t.onanimationend=function(){return t.classList.remove("manual-attack")},a.onanimationend=function(){return a.classList.remove("receive-damage")},t.classList.add("manual-attack"),a.classList.add("receive-damage");var r=Je(),s=Ze(r,l.State.quest.questDetails.boss.stats.armor);l.InstanceState.questSkills.ravenousStrikes.isActive&&(s+=S.percentToDecimal(l.State.skillVars.ravenousStrikes.additionalDamagePercent)*s);var i=S.percentToDecimal(l.State.hero.stats.luck/4);Math.random()<i&&(l.State.stats.critCount++,5===l.State.stats.critCount&&b.unlockResearchUpgrade("Crit Damage Up I"),1===l.State.stats.critCount&&y.winAchievement("Boxing Gloves"),50===l.State.stats.critCount&&y.winAchievement("Headshot"),100===l.State.stats.critCount&&y.winAchievement("Aimbot"),m.generateRisingText(e,w.types.MANUAL_ATTACK_CRIT),s*=S.percentToDecimal(l.State.hero.critDamagePercentMultiplier)),l.State.quest.currentBossHp-=s,tt(),m.generateRisingText(null,w.types.IDLE_ATTACK_FROM_HERO,s),m.generateRisingText(e,w.types.MANUAL_ATTACK,s)}else l.InstanceState.manualAttacksInARow=0,l.InstanceState.manualMissInARow++,5===l.InstanceState.manualMissInARow&&y.winAchievement("Critical Miss"),l.State.stats.missCount++,l.State.stats.manualMissCount++,10===l.State.stats.manualMissCount&&y.winAchievement("Foggy"),50===l.State.stats.manualMissCount&&y.winAchievement("Groggy"),100===l.State.stats.manualMissCount&&y.winAchievement("Hungover"),m.generateRisingText(e,w.types.MANUAL_ATTACK_MISS);l.State.quest.currentBossHp>0&&ze()}},Ye=function(e,t){var a,n,r=100-(t+1)/(e+1);arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"Poo on a Stick"===(null===(a=l.State.inventory.equips.accessory)||void 0===a?void 0:a.name)&&(r+=30):"Lube"===(null===(n=l.State.inventory.equips.accessory)||void 0===n?void 0:n.name)&&(r-=20);return r<10&&(r=10),r>100&&(r=100),r},Je=function(){var e=l.State.hero.stats,t=e.attack;return t+t*e.strength/6},Ze=function(e,t){var a=e-t*S.percentToDecimal(10);return a<1?1:a},$e=function(){var e=S.select(".hero-stats .attack-bar div"),t=S.select(".boss-stats .attack-bar div"),a=1e3/l.State.settings.tick;l.State.quest.heroCurrentAttackBar+=a,l.State.quest.bossCurrentAttackBar+=a,l.State.quest.heroCurrentAttackBar>=l.State.quest.heroMaxAttackBar&&et("hero"),l.State.quest.bossCurrentAttackBar>=l.State.quest.bossMaxAttackBar&&et("boss");var n=S.getPercentage(l.State.quest.heroCurrentAttackBar,l.State.quest.heroMaxAttackBar),r=S.getPercentage(l.State.quest.bossCurrentAttackBar,l.State.quest.bossMaxAttackBar);e.style.height=n+"%",t.style.height=r+"%"},et=function(e){var t=l.State.quest.questDetails.boss;if("hero"===e){l.State.quest.heroCurrentAttackBar=0;var a=S.percentToDecimal(Ye(l.State.hero.stats.dexterity,l.State.quest.questDetails.boss.stats.luck,!0));if(Math.random()<a){var n=Je(),r=Ze(n,t.stats.armor);l.State.quest.currentBossHp-=r,m.generateRisingText(null,w.types.IDLE_ATTACK_FROM_HERO,r)}else l.State.stats.missCount++,m.generateRisingText(null,w.types.IDLE_ATTACK_MISS_FROM_HERO)}else{l.State.quest.bossCurrentAttackBar=0;var s=S.percentToDecimal(Ye(t.stats.dexterity,l.State.hero.stats.luck));if(Math.random()<s){var i=Ze(t.stats.attack,l.State.hero.stats.armor);l.State.quest.currentHeroHp-=i,m.generateRisingText(null,w.types.IDLE_ATTACK_FROM_BOSS,i)}else l.State.stats.dodgeCount++,10===l.State.stats.dodgeCount&&y.winAchievement("Slippery!"),50===l.State.stats.dodgeCount&&y.winAchievement("Wallhacks"),100===l.State.stats.dodgeCount&&y.winAchievement("Intuition"),m.generateRisingText(null,w.types.IDLE_ATTACK_MISS_FROM_BOSS)}tt()},tt=function(){var e=S.select(".stats.hero-stats .hp div"),t=S.select(".stats.hero-stats .stat-square p:last-of-type"),a=S.select(".stats.boss-stats .hp div"),n=S.select(".stats.boss-stats .stat-square p:last-of-type"),r=l.State.quest.questDetails.boss;l.State.quest.currentHeroHp<0&&(l.State.quest.currentHeroHp=0),l.State.quest.currentBossHp<0&&(l.State.quest.currentBossHp=0);var s=S.getPercentage(l.State.quest.currentHeroHp,l.State.hero.stats.hp),i=S.getPercentage(l.State.quest.currentBossHp,r.stats.hp);e.style.height=s+"%",e.style.filter="hue-rotate(-".concat(1.2*(100-s),"deg)"),a.style.height=i+"%",a.style.filter="hue-rotate(-".concat(1.2*(100-i),"deg)"),t.innerHTML="\n        <p>HP: <span>".concat(S.beautifyNumber(l.State.quest.currentHeroHp,!0),"/").concat(S.beautifyNumber(l.State.hero.stats.hp,!0),"</span></p>"),n.innerHTML="\n        <p>HP: <span>".concat(S.beautifyNumber(l.State.quest.currentBossHp,!0),"/").concat(S.beautifyNumber(r.stats.hp,!0),"</span></p>"),0===l.State.quest.currentHeroHp?at():0===l.State.quest.currentBossHp&&nt()},at=function(){var e=S.select(".boss-img"),t=S.select(".hero-img");(t||e)&&(t.style.animation="dead 1s ease-out forwards",t.onanimationend=function(){e.style.animation="heroJumping 1s linear infinite",S.removeEl(t)});var a=Fe("quest-failed","QUEST FAILED");d.questContainerEl.append(a),st(O.QuestStateTypesEnum.FAILED)},nt=function(){var e=S.select(".boss-img"),t=S.select(".hero-img");(t||e)&&(e.style.animation="dead 1s ease-out forwards",e.onanimationend=function(){t.style.animation="heroJumping 1s linear infinite",S.removeEl(e)});var a=Fe("quest-success","QUEST SUCCESS");d.questContainerEl.append(a),st(O.QuestStateTypesEnum.COMPLETED)};exports.completeQuest=function(e,t){var a=l.State.quest.questDetails;if(l.State.quests[a.name].isInProgress=!1,st(O.QuestStateTypesEnum.IDLE),Array.from(d.questContainerEl.children).forEach(function(e){return S.removeEl(e)}),t){if(l.State.quests[a.name].timesCompleted++,1===a.timesCompleted&&a.achievements.length>=1&&y.winAchievement(a.achievements[0]),5===a.timesCompleted&&a.achievements.length>=2&&y.winAchievement(a.achievements[1]),Math.random()<S.percentToDecimal(a.artifact.dropChance)){a.artifact.retrieved=!0;var r=new R.Artifact(a.artifact.name);setTimeout(function(){Y(r)},500)}a.firstCompletedOn||(a.firstCompletedOn=Date.now()),k.playSound(k.SoundNames.questComplete),m.generateRisingText(e,w.types.QUEST_COMPLETE,n(n({},a.rewards),{},{ores:l.State.ops/10*a.duration*l.State.stats.questOreBonus})),rt(a),it(a.name),b.unlockResearchUpgrade("Bosscyclopedia")}else k.playSound(k.SoundNames.questFailed),e&&m.generateRisingText(e,w.types.QUEST_FAILED,a.rewards)};var rt=function(e){var t=e.rewards,a=l.State.ops/10*e.duration*l.State.stats.questOreBonus,n=t.refinedOres,r=t.xp;exports.gainOre(a,!1),exports.gainRefinedOre(n),ae(r),u.UpdatesState.updateGenerationXp=!0},st=function(e){l.State.quest.state=e,De(l.State.quest.questDetails),e===O.QuestStateTypesEnum.IDLE&&(l.State.quest={state:l.State.quest.state,activeSkills:{heal:{isAvailable:!0},ravenousStrikes:{isAvailable:!0}},manualAttackCount:0})},it=function(e){for(var t=!1,a=Object.keys(l.State.quests),n=0;n<a.length;n++){if(t){var r=l.State.quests[a[n]];if(r){r.isLocked=!1;break}}a[n]===e&&(t=!0)}},ot=function(e,t){var a=S.select(".quest-skill.quest-skill-".concat(t.codeName));if(l.State.quest.activeSkills[t.codeName].isAvailable){switch(a.classList.add("used"),l.State.quest.activeSkills[t.codeName].isAvailable=!1,t.codeName){case"heal":var n=l.State.hero.stats.hp*S.percentToDecimal(l.State.skillVars.heal.healAmountPercent);l.State.quest.currentHeroHp+n>l.State.hero.stats.hp?l.State.quest.currentHeroHp=l.State.hero.stats.hp:l.State.quest.currentHeroHp+=n,m.generateRisingText(e,w.types.HEAL);break;case"ravenousStrikes":l.InstanceState.questSkills.ravenousStrikes.isActive=!0,m.generateRisingText(e,w.types.RAVENOUS_STRIKES);var r=S.select(".manual-attack");r&&r.classList.add("ravenous");var s=S.createEl("div",["ravenous-strikes-banner"]);S.select(".boss-fight-container").append(s),setTimeout(function(){s&&S.removeEl(s),l.InstanceState.questSkills.ravenousStrikes.isActive=!1},l.State.skillVars.ravenousStrikes.duration*d.Time.SECONDS)}l.State.stats["".concat(t.codeName,"Count")]+=1}};exports.buildSkillBar=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=S.createEl("div",["skill-bar",e?"animated":""]),a=S.createEl("p",["skill-bar-header"],"Skills");t.append(a);var n=S.createEl("div",["skills-container"]),r=function(e){var t=l.State.skills[e];if("active"===t.skillType&&t.isOwned){var a=S.createEl("div",["active-skill","active-skill-".concat(t.codeName)]);t.activeSkillState===T.ActiveSkillState.ACTIVE&&a.classList.add("active"),a.onclick=function(){return ct(t)},a.onmousemove=function(e){return f.showTooltip(e,{type:f.TooltipTypes.ACTIVE_SKILL,skill:t})},a.onmouseleave=function(){return f.hideTooltip()},n.append(a)}};for(var s in l.State.skills)r(s);d.gameContainerLeft.append(t),t.append(n)};var ct=function(e){var t=S.select(".active-skill-".concat(e.codeName));if(e.activeSkillState===T.ActiveSkillState.AVAILABLE){if(e.activeSkillState=T.ActiveSkillState.ACTIVE,l.State.activeSkills[e.codeName].isActive=!0,t.classList.add("active"),"Tenant Intimidation"===e.name){var a=l.State.skillVars.tenantIntimidation,n=a.durationInSeconds,r=a.productionMultiplier;l.State.activeSkills.tenantIntimidation.leftoverDuration=n*d.Time.SECONDS,exports.updateBonuses("temporary","percentOpSBonus",r)}l.State.stats["".concat(e.codeName,"Count")]+=1}},lt=function(e){l.State.activeSkills[e.codeName].isActive=!1,e.activeSkillState=T.ActiveSkillState.ON_COOLDOWN,e.skillCurrentCooldown=e.skillCurrentCooldown||e.skillCooldown,S.findCodeNameInArr(e.codeName,l.State.onCooldownSkills)||l.State.onCooldownSkills.push(e)},ut=function(e,t){var a=S.select(".active-skill-".concat(e.codeName));if(a.classList.remove("active"),a.classList.add("on-cooldown"),e.skillCurrentCooldown-=t,e.skillCurrentCooldown<=0)pt(e);else{var n=S.select(".active-skill-".concat(e.codeName," .cooldown"));if(!n)return S.select(".active-skill-".concat(e.codeName)).append(S.createEl("div",["cooldown"])),void lt(e);var r=S.getPercentage(e.skillCurrentCooldown,e.skillCooldown);n.style.height=r+"%"}},pt=function(e){l.State.onCooldownSkills.forEach(function(t,a){t.name===e.name&&l.State.onCooldownSkills.splice(a,1)}),e.activeSkillState=T.ActiveSkillState.AVAILABLE,e.skillCurrentCooldown=null,S.select(".active-skill-".concat(e.codeName)).classList.remove("on-cooldown");var t=S.select(".active-skill-".concat(e.codeName," .cooldown"));S.removeEl(t)},dt=function(){var e=S.getSave(),t=!1;if(e?(e.settings.version!==H.NEWEST_VERSION&&(t=!0),Object.assign(l.State,e)):(t=!0,l.State.settings.version=H.NEWEST_VERSION),h.instantiateBuildings(),y.instantiateAchievements(),b.instantiateResearchUpgrades(),g.instantiateTabs(),E.instantiateUpgrades(),T.instantiateSkills(),L.instantiateQuests(),e){var a=H.updateSaveState(e);Object.assign(l.State,a),h.instantiateBuildings(),y.instantiateAchievements(),b.instantiateResearchUpgrades(),g.instantiateTabs(),E.instantiateUpgrades(),T.instantiateSkills(),L.instantiateQuests()}if(l.State.quest.state!==O.QuestStateTypesEnum.IDLE&&Be(l.State.quest.questDetails),exports.buildEquips(),b.getResearchUpgrade("Fragility Spectacles").isOwned&&exports.generateWeakSpot(),kt(),e){var n=Date.now()-l.State.settings.lastSave;ht(n),q.notify("Save Loaded Successfully")}exports.updateOPC(),exports.updateOPS(),e?(gt(),t&&mt()):setTimeout(function(){gt(),t&&mt()})},St=function(){var e=S.createEl("p",["centered"],"Are you sure you want to wipe your save?"),t=S.createEl("button",["modal-action"],"Yes, I want to wipe my save"),a=S.createEl("button",["modal-action"],"No i'm dumb sorry"),n=S.createEl("div",["modal-actions"]);n.append(t),n.append(a),t.onclick=vt,a.onclick=function(){return S.closeTopmostModal()},S.buildModal("WARNING",e,n)},vt=function(){localStorage.removeItem("s"),location.reload()},mt=function(){var e=S.createEl("div",["modal-content"]),t=S.createEl("p",["centered"],"<strong>More Ore</strong> is currently in its beta stage. Saves are currently stable and shouldn't require wipes but there is a chance it could happen! Feel free to drop by the <a target='_blank' href='https://discord.gg/NU99mMQ'>discord</a> to submit bug reports and feature requests! Or just chat :)"),a=S.createEl("div",["versions-wrapper"]),n=function(e){var t=p.default[e],n=t.released_on,r=t.commits,s=S.createEl("div",["version-section"],"<h3>v.".concat(e," <span>- Released on ").concat(n,"</span></h3>")),i=S.createEl("div",["updates-container"]);["feat","refactor","fix","bug"].forEach(function(e){if(r[e]){var t=S.createEl("div",["group"]);r[e].forEach(function(a){var n=S.createEl("div",["update"]);n.innerHTML="".concat(e,": ").concat(a),t.append(n)}),i.append(t)}}),s.append(i),a.append(s)};for(var r in p.default)n(r);var s=S.createEl("div",["version-section"]);s.innerHTML="\n            <h3>v.1.0.0 Beta 1 <span>- Released on 5/7/2021</span></h3>\n            <div class='updates-container'>\n                <div class='update'>\n                    <p class='message'><strong>MORE ORE v.1.0.0 officially in open beta!!!</strong></p>\n                </div>\n            </div>\n        ",a.append(s),e.append(t,a),S.buildModal("Changelog",e)},gt=function(){var e=S.select(".loading-screen");console.log("removing loading screen",e),S.removeEl(e,!0),e&&e.parentNode.removeChild(e);var t=!1;for(var a in l.State.skills){var n=l.State.skills[a];if(n.isOwned&&"active"===n.skillType){t=!0;break}}t&&exports.buildSkillBar(!0)},ht=function(e){var t=l.State.researchUpgrades.Watchdog,a=e/d.Time.SECONDS;l.State.research.currentState===N.ResearchStateTypes.IN_PROGRESS&&ue(e);var n=l.State.ops*a;if(l.State.activeSkills.tenantIntimidation.isActive&&!t.isOwned&&lt(T.getSkillByName("Tenant Intimidation")),t.isOwned){if(n+=n*S.percentToDecimal(l.State.stats.oresWhileAwayPercentPenalty),l.State.activeSkills.tenantIntimidation.isActive){var r=l.State.activeSkills.tenantIntimidation.leftoverDuration/1e3;n+=l.State.ops*r*S.percentToDecimal(l.State.stats.oresWhileAwayPercentPenalty),a<r?l.State.activeSkills.tenantIntimidation.leftoverDuration-=1e3*a:lt(T.getSkillByName("Tenant Intimidation"))}n>l.State.stats.oresWhileAwayCap&&(n=l.State.stats.oresWhileAwayCap);var s=Et(n),i=yt(s);exports.gainOre(n);var o=S.createEl("div",["centered","ore-gain"],"<p>You were gone for: <span class='bold time-passed'>".concat(S.msToTime(e),"</span></p>"));o.append(ft(s,n,i)),S.buildModal("Welcome Back",o,null,200)}l.State.onCooldownSkills.length>0&&l.State.onCooldownSkills.forEach(function(e){e.skillCurrentCooldown-=1e3*a}),l.State.quest.state===O.QuestStateTypesEnum.IN_PROGRESS&&(console.log("in progress"),Ue(a)),l.State.quest.state===O.QuestStateTypesEnum.IN_PROGRESS&&H.saveGame(!1)},ft=function(e,t,a){var n=S.createEl("div",["offline-gain-recap"]);if(n.innerHTML="\n        <small>RECAP</small>\n        <p>Destroyed <span class='bold'>".concat(e,"</span> rocks.</p>\n        <p>Gained <span class='bold'>").concat(S.beautifyNumber(t),"</span> ores.</p>\n    "),a.length>0){var r=S.createEl("div",["offline-gain-items"]),s=S.createEl("p",["items-found-text"],"ITEMS FOUND"),i=S.createEl("p",["equip-text"],"Click to swap/equip"),o=S.createEl("div",["items-found-container"]);a.forEach(function(e){var t=z(e),a=S.createEl("div",["item-found","".concat(t.rarity.name.toLowerCase())]);a.innerHTML="pickaxe"===t.type?exports.buildPickaxeSprite(t,50):exports.buildItemSprite(t,50),a.onmousemove=function(e){return f.showTooltip(e,{type:f.TooltipTypes.RECAP_ITEM,item:t})},a.onmouseleave=function(){return f.hideTooltip()},a.onclick=function(e){bt(e,t),f.hideTooltip()},o.append(a)}),r.append(s,o,i),n.append(r)}return n},bt=function e(t,a){k.playSound(k.SoundNames.equipItem);var r=n({},l.State.inventory.equips[a.type]);if(S.isObjEmpty(r)){exports.equipItem(a),S.removeEl(t.target),0===document.querySelectorAll(".item-found").length&&S.removeEl(S.select(".offline-gain-items"))}else{var s=t.target;s.classList="item-found ".concat(r.rarity.name.toLowerCase()),s.innerHTML="pickaxe"===r.type?exports.buildPickaxeSprite(r,50):exports.buildItemSprite(r,50),s.onmousemove=function(e){return f.showTooltip(e,{type:f.TooltipTypes.RECAP_ITEM,item:r})},s.onmouseleave=function(){return f.hideTooltip()},s.onclick=function(t){e(t,r),f.hideTooltip()},exports.equipItem(a)}},yt=function(e){for(var t=[],a=0;a<e;a++)if(Math.random()<l.State.stats.itemDropChance)for(var n=0;n<l.State.stats.itemsPerDrop;n++)t.push(l.State.stats.rockLevel+a);return 0===l.State.stats.maxItemsWhileAway?[]:(t.length>l.State.stats.maxItemsWhileAway&&(t=t.slice(-l.State.stats.maxItemsWhileAway)),t)},Et=function(e){for(var t=0,a=l.State.ore.hp;e>=a;)e-=a,a=Q(++t);return t},kt=function(){var e=l.State.settings.isAnimatedBackground;d.gameContainerLeftTopBg.style.backgroundImage=e?"url(./images/bg-main.gif)":"url(./images/bg-main.png)"},Tt=function(){k.playSound(k.SoundNames.misc);var e=S.createEl("div",["modal-content"]),t=S.createEl("div",["setting-section"],"<h3>Preferences</h3>"),a=S.createEl("div",["row"],"<p>Number Format</p>"),n=S.createSelect(["default","scientific-notation"],l.State.settings.numberFormat);n.onchange=function(e){return l.State.settings.numberFormat=e.target.value},a.append(n);var r=S.createEl("div",["row"],"<p>Ore HP Type</p>"),s=S.createSelect(["none","percentage","number","bar","bar+percentage","bar+number"],l.State.settings.oreHpType);s.onchange=function(e){return l.State.settings.oreHpType=e.target.value},r.append(s),t.append(a,r);var i=S.createEl("div",["setting-section"],"<h3>Volume</h3>"),o=S.createEl("div",["row"],"<p>Mute SFXs</p>"),c=S.createEl("input");c.type="checkbox",c.checked=l.State.settings.isMuted,c.onchange=function(e){return l.State.settings.isMuted=e.target.checked},o.append(c);var u=S.createEl("input");u.style.width="100%",u.type="range",u.min="0",u.max="1",u.step=".1",u.value="".concat(l.State.settings.volume),u.onchange=function(e){return l.State.settings.volume=e.target.value},i.append(o,u);var p=S.createEl("div",["setting-section"],"<h3>Saves</h3>"),d=S.createEl("div",["row","save-row"]),v=S.createEl("button",[],"export save");v.onclick=function(){return H.exportSave()};var m=S.createEl("button",[],"import save");m.onclick=function(){return H.importSave()},d.append(v,m),p.append(d);var g=S.createEl("div",["setting-section"],"<h3>Performance</h3>"),h=S.createEl("div",["row"],"<p>Hide Rising Text</p>"),f=S.createEl("input");f.type="checkbox",f.checked=l.State.settings.hideRisingText,f.onchange=function(e){l.State.settings.hideRisingText=e.target.checked,H.saveGame(!1)},h.append(f);var b=S.createEl("div",["row"],"<p>Hide Ore Particles</p>"),y=S.createEl("input");y.type="checkbox",y.checked=l.State.settings.hideOreParticles,y.onchange=function(e){l.State.settings.hideOreParticles=e.target.checked,H.saveGame(!1)},b.append(y),g.append(h,b);var E=S.createEl("div",["setting-section"],"<h3>Miscellaneous</h3>"),T=S.createEl("div",["row"],"<p>Show FPS</p>"),w=S.createEl("input");w.type="checkbox",w.checked=l.State.settings.showFPS,w.onchange=wt,T.append(w);var C=S.createEl("div",["row"],"<p>Show Ads</p>"),x=S.createEl("input");x.type="checkbox",x.checked=l.State.settings.showAds,x.onchange=function(e){l.State.settings.showAds=e.target.checked,H.saveGame(!1),location.reload()},C.append(x);var A=S.createEl("div",["row"],"<p>Show Animated Bg</p>"),L=S.createEl("input");L.type="checkbox",L.checked=l.State.settings.isAnimatedBackground,L.onchange=function(e){l.State.settings.isAnimatedBackground=e.target.checked,kt()},A.append(L),E.append(T,A);var O=S.createEl("div",["setting-section"],"<h3>Debug - Careful here!</h3>"),q=S.createEl("button",[],"Missing research power up");q.addEventListener("click",function(){var e=l.State.researchUpgrades["Research Power Up"];e.isLocked=!1,e.isInProgress=!1}),O.append(q),e.append(t,i,p,g,E,O),S.buildModal("Settings",e)},wt=function(e){if(l.State.settings.showFPS=e.target.checked,!0===l.State.settings.showFPS){var t,a,n,r=S.createEl("div",["fps-counter"]);r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.background="black",r.style.color="white",r.style.padding="5px",r.style.fontSize="30px",r.style.zIndex="5",r.style.fontWeight="600",d.pageContainer.append(r),t=Date.now(),requestAnimationFrame(function e(){a=Date.now(),n=Math.round(1e3/(a-t)),t=a,requestAnimationFrame(e),r.innerHTML=n})}else{var s=S.select(".fps-counter");s&&S.removeEl(s)}},Ct=function(e){for(var t in l.State.buildings){var a=l.State.buildings[t];a.ownedTotal>0&&(a.amountGenerated+=e*S.percentToDecimal(a.percentOfOps),a.totalAmountGenerated+=e*S.percentToDecimal(a.percentOfOps))}},xt=function(){document.querySelectorAll(".notification").forEach(function(e){e&&S.removeEl(e,!0)}),document.querySelectorAll(".gold-nugget-container").forEach(function(e){e&&(console.log("Removing invisi nuggets"),S.removeEl(e))})},At=0,Lt=0,Ot=function(){l.State.quest.state===O.QuestStateTypesEnum.BOSS_FIGHT&&$e(),l.State.research.currentState===N.ResearchStateTypes.IN_PROGRESS&&ue(),l.State.quest.state===O.QuestStateTypesEnum.IN_PROGRESS&&Ue();var e=l.State.ops/l.State.settings.tick;l.InstanceState.isRentalBoonActive&&(e*=2),l.InstanceState.isPrinterGoBrrActive&&(e*=10),e>0&&(exports.gainOre(e),Ct(e)),++At>=l.State.settings.tick&&It(),At%2==0&&qt()};setInterval(function(){Rt()},1e3/60);var qt=function(){l.InstanceState.isWindowFocused&&(ne(),u.UpdatesState.updateRefinedOres&&exports.updateRefinedOres(),u.UpdatesState.updateOreHp&&re(),u.UpdatesState.updateOreSprite&&se(),u.UpdatesState.updateGenerationLv&&ie(),u.UpdatesState.updateGenerationXp&&ce(),u.UpdatesState.updateGenerationLvsOnRefine&&oe(),u.UpdatesState.updateTabs&&Se(),u.UpdatesState.updateTabContent&&exports.updateTabContent(),u.UpdatesState.updateOPS&&exports.updateOPS(),u.UpdatesState.updateOPC&&exports.updateOPC(),"store"===l.InstanceState.selectedTab&&exports.updateStorePriceClasses())},Rt=function(){if(Object.keys(l.InstanceState.oreParticles).length>0)for(var e in d.particlesCanvasContext.clearRect(0,0,d.particlesCanvasContext.canvas.width,d.particlesCanvasContext.canvas.height),l.InstanceState.oreParticles)l.InstanceState.oreParticles[e].draw()},It=function(){At=0,Lt++,l.InstanceState.tooltipData&&f.showTooltip(null,l.InstanceState.tooltipData),l.State.ops>0&&m.generateRisingText(null,w.types.BUILDING_OPS,l.State.ops),l.State.onCooldownSkills.length>0&&l.State.onCooldownSkills.forEach(function(e){ut(e,1e3)}),l.State.researchUpgrades["Combo Shield"].isOwned&&!1===l.State.comboShield.isAvailable&&l.State.comboShield.lastUsed+l.State.comboShield.timeBetweenUse<Date.now()&&(l.State.comboShield.isAvailable=!0,exports.updateComboSign()),Le();var e=l.State.activeSkills.tenantIntimidation;if(e.isActive&&e.leftoverDuration>0&&(e.leftoverDuration-=1e3,e.leftoverDuration<=0&&(exports.updateBonuses("temporary","percentOpSBonus",-l.State.skillVars.tenantIntimidation.productionMultiplier),l.State.bonuses.temporary.percentOpSBonus<0&&(l.State.bonuses.temporary.percentOpSBonus=0,u.UpdatesState.updateOPC=!0,u.UpdatesState.updateOPS=!0),lt(T.getSkillByName("Tenant Intimidation")))),Lt%30==0&&xt(),Lt%60==0&&H.saveGame(),Lt%150==0&&I.generateGoldNugget(),Lt%10){var t=function(e){var t=l.State.buildings[e];t.amountGeneratedAchievements.forEach(function(e){t.amountGenerated>=e.amountNeeded&&y.winAchievement(e.name)})};for(var a in l.State.buildings)t(a)}if(Lt%60==0){var n=Date.now();n-l.State.stats.dateStarted>=7*d.Time.DAYS&&y.winAchievement("Weekly"),n-l.State.stats.dateStarted>=30*d.Time.DAYS&&y.winAchievement("Monthly"),n-l.State.stats.dateStarted>=365*d.Time.DAYS&&y.winAchievement("Yearly")}Lt%2==0&&(document.title="".concat(S.beautifyNumber(l.State.inventory.ores)," Ores - More Ore"))},Nt=function(){d.particlesCanvasEl.height=window.innerHeight,d.particlesCanvasEl.width=window.innerWidth},Pt=function(){l.State.stats.highestCombo>=5&&(d.comboSignEl.classList.add("visible"),d.comboSignEl.onmousemove=function(e){return f.showTooltip(e,{type:f.TooltipTypes.COMBO})},d.comboSignEl.onmouseleave=function(){return f.hideTooltip()})},Ht=function(){k.playSound(k.SoundNames.misc);var e=S.createEl("div",["modal-content"]),t=l.State.stats,a=S.createEl("ul",["stats-container"]);a.innerHTML="\n        <h2>General <span>- v".concat(l.State.settings.version,"</span></h2>\n        <div>\n            <li>Ores Earned: <span>").concat(S.beautifyNumber(t.oresEarned,!0),"</span></li>\n            <li>Total Ores Earned: <span>").concat(S.beautifyNumber(t.lifetimeOresEarned,!0),"</span></li>\n            <li>Highest Combo: <span>").concat(S.beautifyNumber(t.highestCombo,!0),"</span></li>\n            <li>Current Combo: <span>").concat(S.beautifyNumber(t.currentCombo,!0),"</span></li>\n            <li>Ore Clicks: <span>").concat(S.beautifyNumber(t.oreClicks,!0),"</span></li>\n            <li>Weak Spot Clicks: <span>").concat(S.beautifyNumber(t.weakSpotClicks,!0),"</span></li>\n            <li>Rocks Destroyed: <span>").concat(S.beautifyNumber(t.rocksDestroyed,!0),"</span></li>\n            <li>Times Refined: <span>").concat(S.beautifyNumber(t.timesRefined,!0),"</span></li>\n            <li>Total time: <span>").concat(S.msTimeSince(l.State.stats.dateStarted),"</span></li>\n        </div>\n    ");var n=S.createEl("div",["achievements-wrapper"]),r=y.getAchievementsStats(),s=r.achievementsWon,i=r.totalAchievements,o=r.percentageWon,c=S.createEl("h2",[],"Achievements <span>- ".concat(s,"/").concat(i," (").concat(o,"%)</span>")),u=S.createEl("div",["achievements-container"]);Object.values(l.State.achievements).forEach(function(e){var t=S.createEl("div",["achievement",e.isWon?"achievement-".concat(e.codeName):"achievement-locked"]);if(e.isNew&&e.isWon){var a=S.createEl("p",["new"],"New");t.append(a)}e.isWon&&(t.onmouseenter=function(){return e.removeNew()}),t.onmousemove=function(t){return f.showTooltip(t,{type:f.TooltipTypes.ACHIEVEMENT,achievement:e})},t.onmouseleave=function(){return f.hideTooltip()},u.append(t)}),n.append(c,u),e.append(a,n),S.buildModal("Stats",e)},Mt=function(){var e=S.createEl("div",["ads-container"]);e.innerHTML='\n        <script\n            async\n            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4584563958870163"\n            crossorigin="anonymous"\n        ><\/script>\n        \x3c!-- More Ore v1.0 Ads --\x3e\n        <ins\n            class="adsbygoogle"\n            style="display: block"\n            data-ad-client="ca-pub-4584563958870163"\n            data-ad-slot="5631211766"\n            data-ad-format="auto"\n            data-full-width-responsive="true"\n        ></ins>\n        <script>\n            (adsbygoogle = window.adsbygoogle || []).push({});\n        <\/script>\n    ',d.gameContainerRight.classList.add("show-ads"),d.gameContainerRight.append(e)},Bt=function(){var e=t(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:dt(),Pt(),exports.updateComboSign(),exports.buildQuestButton(),P.instantiateTextScroller(),Nt(),Dt(),d.oreSpriteEl.onclick=_,d.settingsIconEl.onclick=Tt,d.statsIconEl.onclick=Ht,window.addEventListener("keyup",function(e){return"Escape"===e.key&&S.closeTopmostModal()}),t=C.default(d.skillTreeContainerEl,{maxScale:5,startScale:1.3,minScale:.7,canvas:!0}),d.skillTreeWrapperEl.addEventListener("wheel",t.zoomWithWheel),d.skillTreeConfirmButtonEl.addEventListener("click",M.closeSkillTree),d.torchLeft.addEventListener("click",function(){l.InstanceState.torchLeftClickCount++,20===l.InstanceState.torchLeftClickCount&&y.winAchievement("WTF I")}),d.torchRight.addEventListener("click",function(){l.InstanceState.torchRightClickCount++,50===l.InstanceState.torchRightClickCount&&y.winAchievement("WTF II")}),setInterval(Ot,1e3/l.State.settings.tick),l.State.stats.dateStarted||(l.State.stats.dateStarted=Date.now()),l.State.settings.showAds&&Mt(),B(),a=0,5,window.addEventListener("click",function(){return a++}),window.setInterval(function(){a/5>4&&(l.State.settings.isCheating=!0),a=0},5*d.Time.SECONDS),"localhost"!==window.location.hostname&&"/more-ore-beta/"!==window.location.pathname||Ut();case 25:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Dt=function(){var e=S.createEl("p",["version"],"v. ".concat(l.State.settings.version)),t=S.createEl("a",[],"Created by Syns Studio");t.target="_blank",t.href="https://syns.studio";var a=S.createEl("p",["footer-link","changelog"],"View Changelog");a.addEventListener("click",function(){return mt()});var n=S.createEl("p",["footer-link","save-game"],"Save Game");n.addEventListener("click",function(){return H.saveGame()});var r=S.createEl("p",["footer-link","wipe-game"],"Wipe Save");r.addEventListener("click",St);var s=S.createEl("a",["footer-link","discord-link"]);s.innerHTML='<img src="./images/icon-discord.png"/>Join Our Discord',s.target="_blank",s.href="https://discord.gg/NU99mMQ",s.onclick=function(){return y.winAchievement("Disco Discord")},d.footerLeftEl.append(e,t,a),d.footerRightEl.append(s,n,r)};exports.getBasePickaxe=function(){return{damage:T.getSkillByName("Minecrafter").isOwned?20:1,hardness:100,sharpness:100,level:1,material:{name:"Wood",multiplier:-.03},multiplier:{sharpness:0,hardness:0},name:"Shitty Wood Pickaxe",rarity:{name:"Common",multiplier:0},type:"pickaxe"}},window.onload=function(){Bt(),window.onblur=function(){return l.InstanceState.isWindowFocused=!1},window.onfocus=function(){return l.InstanceState.isWindowFocused=!0}};var Ut=function(){console.log("============ DEV MODE ACTIVATED ============");var e=S.createEl("button",[],"Break rock");e.onclick=function(){return exports.gainOre(l.State.ore.hp)};var t=S.createEl("button",[],"Gain 1m Ores");t.addEventListener("click",function(){return exports.gainOre(1e6)});var a=S.createEl("button",[],"Gain 100 Refined Ores");a.addEventListener("click",function(){return exports.gainRefinedOre(100)});var n=S.createEl("button",[],"Generate weak spot");n.onclick=function(){return exports.generateWeakSpot()};var r=S.createEl("button",[],"Multiply OpC by 100");r.addEventListener("click",function(){return l.State.opc*=100});var s=S.createEl("button",[],"Toggle Skill Tree Icon Visibility");s.addEventListener("click",function(){return document.querySelectorAll(".skill-wrapper").forEach(function(e){var t=e;"1"===t.style.opacity?t.style.opacity="0":t.style.opacity="1"})});var i=S.createEl("button",[],"Generate 10 Gold Nuggets");i.addEventListener("click",function(){for(var e=0;e<10;e++)I.generateGoldNugget()});var o=S.createEl("button",[],"Increase hero base stats");o.onclick=function(){exports.updateHeroBaseStats("attack",1e3),exports.updateHeroBaseStats("strength",1e3),exports.updateHeroBaseStats("hp",1e4)};var c=S.createEl("button",[],"Start gold rush");c.addEventListener("click",function(e){return I.startGoldRush(e)});var p=S.createEl("button",[],"Start ore rage");p.addEventListener("click",function(e){return I.startOreRage(e)});var d=S.createEl("button",[],"Start ore madness");d.onclick=function(e){return I.startOreMadness(e)};var v=S.createEl("button",[],"Start rental boon");v.onclick=function(e){return I.startRentalBoon(e)};var m=S.createEl("button",[],"Start printer go brr");m.onclick=function(e){return I.startPrinterGoBrr(e)};var g=S.createEl("button",[],"Log state");g.addEventListener("click",function(){return console.log({State:l.State,InstanceState:l.InstanceState,UpdatesState:u.UpdatesState})});var h=S.createEl("button",[],"Generate pickaxe");h.onclick=function(){return console.log(new x.Pickaxe(l.State.stats.rockLevel))};var f=S.createEl("button",[],"Generate equip");f.onclick=function(){return console.log(new A.Equip(l.State.stats.rockLevel))};var y=S.createEl("button",[],"Increase research power");y.addEventListener("click",function(){return l.State.research.power+=999999});var E=S.createEl("button",[],"Double game speed");E.addEventListener("click",function(){return setInterval(Ot,1e3/l.State.settings.tick)});var k=S.createEl("button",[],"Lower Quest Duration");k.addEventListener("click",function(){for(var e in l.State.quests)l.State.quests[e].duration=1e3,l.State.quests[e].artifact.dropChance=100});var w=S.createEl("button",[],"Reset Skill Tree");w.addEventListener("click",function(){return T.resetSkillTree()});var C=S.createEl("button",[],"Gain SP Points");C.addEventListener("click",function(){return l.State.generation.sp+=100});var L=S.createEl("button",[],"Unlock quests");L.onclick=function(){return b.getResearchUpgrade("Quest Board").complete()},S.select(".testing-tools").append(e,t,a,n,r,s,i,o,g,c,p,d,v,m,y,h,f,L,E,w,C,k)};
},{"regenerator-runtime/runtime":"QVnC","./State":"ibrd","./Updates":"owfE","./changelog.json":"uTxO","./constants":"FCax","./utils":"GUxD","./OreParticle":"vI8V","./RisingText":"UmE0","./Tabs":"PZUX","./Buildings":"xBG6","./Tooltip":"JjQV","./ResearchUpgrades":"vNBS","./Achievements":"ctio","./Upgrades":"ypIX","./Sounds":"Crhs","./Skills":"XXWm","@panzoom/panzoom":"fQR2","./Pickaxe":"plgz","./Equips":"DtHY","./Quests":"wSoW","./interfaces/Quest":"HTI4","./Notification":"wf64","./Artifacts":"ngqN","./GoldNugget":"CPnO","./interfaces/Research":"dP0l","./TextScroller":"E5O2","./Save":"pwFE","./Refine":"lenN"}]},{},["KqmS"], null)